

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>10.46. Redis Connector &mdash; Starburst Enterprise Presto</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="10. Connectors" href="../connector.html"/>
        <link rel="next" title="10.47. Redshift Connector" href="redshift.html"/>
        <link rel="prev" title="10.45. Prometheus Connector" href="prometheus.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">3. Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s.html">5. Kubernetes with Helm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Kubernetes operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">7. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">8. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">9. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">10. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="starburst-connectors.html">10.1. Starburst Connectors Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-db2.html">10.2. Starburst DB2 Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-generic-jdbc.html">10.3. Starburst Generic JDBC Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive.html">10.4. Starburst Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-security.html">10.5. Starburst Hive Connector Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-ibm-cos.html">10.6. IBM Cloud Object Storage Support for the Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-mapr.html">10.7. MapR Hive metastore (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-cdp.html">10.8. Cloudera Data Platform support (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-delta-lake.html">10.9. Starburst Delta Lake Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-kafka.html">10.10. Starburst Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-mysql.html">10.11. Starburst MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-oracle.html">10.12. Starburst Oracle Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-postgresql.html">10.13. Starburst PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-snowflake.html">10.14. Starburst Snowflake Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-sqlserver.html">10.15. Starburst SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata.html">10.16. Starburst Teradata Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata-parallel-direct.html">10.17. Starburst Teradata Parallel Direct Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="accumulo.html">10.18. Accumulo Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">10.19. BigQuery Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">10.20. Black Hole Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">10.21. Cassandra Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="druid.html">10.22. Druid Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">10.23. Elasticsearch Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="googlesheets.html">10.24. Google Sheets Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">10.25. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-gcs-tutorial.html">10.26. Hive Connector GCS Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">10.27. Hive Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-caching.html">10.28. Hive Connector Storage Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-azure.html">10.29. Hive Connector with Azure Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-alluxio.html">10.30. Hive Connector with Alluxio</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">10.31. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">10.32. Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka-tutorial.html">10.33. Kafka Connector Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="kinesis.html">10.34. Kinesis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">10.35. Kudu Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="localfile.html">10.36. Local File Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">10.37. Memory Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">10.38. MongoDB Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memsql.html">10.39. MemSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">10.40. MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="oracle.html">10.41. Oracle Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="phoenix.html">10.42. Phoenix Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="pinot.html">10.43. Pinot Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">10.44. PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="prometheus.html">10.45. Prometheus Connector</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">10.46. Redis Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-redis-servers">Multiple Redis Servers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-properties">Configuration Properties</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#redis-table-names"><code class="docutils literal notranslate"><span class="pre">redis.table-names</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-default-schema"><code class="docutils literal notranslate"><span class="pre">redis.default-schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-nodes"><code class="docutils literal notranslate"><span class="pre">redis.nodes</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-scan-count"><code class="docutils literal notranslate"><span class="pre">redis.scan-count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-key-prefix-schema-table"><code class="docutils literal notranslate"><span class="pre">redis.key-prefix-schema-table</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-key-delimiter"><code class="docutils literal notranslate"><span class="pre">redis.key-delimiter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-table-description-dir"><code class="docutils literal notranslate"><span class="pre">redis.table-description-dir</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-hide-internal-columns"><code class="docutils literal notranslate"><span class="pre">redis.hide-internal-columns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-database-index"><code class="docutils literal notranslate"><span class="pre">redis.database-index</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#redis-password"><code class="docutils literal notranslate"><span class="pre">redis.password</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#internal-columns">Internal Columns</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-definition-files">Table Definition Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">10.47. Redshift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">10.48. SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">10.49. System Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="thrift.html">10.50. Thrift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpcds.html">10.51. TPCDS Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">10.52. TPCH Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">11. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">12. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">13. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">14. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">15. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">16. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">17. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">338-e LTS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/350-e/">Latest LTS (350-e)</option>
    <option value="/345-e/">345-e LTS</option>
    <option value="/338-e/">338-e LTS</option>
    <option value="/355-e/">Latest STS (355-e)</option>
    <option value="/354-e/">354-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">338-e LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html"><span class="section-number">10. </span>Connectors</a> &raquo;</li>
      
    <li><span class="section-number">10.46. </span>Redis Connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="redis-connector">
<h1><span class="section-number">10.46. </span>Redis Connector<a class="headerlink" href="#redis-connector" title="Permalink to this headline">#</a></h1>
<p>The Redis connector allows querying of live data stored in <a class="reference external" href="https://redis.io/">Redis</a>. This can be
used to join data between different systems like Redis and Hive.</p>
<p>Each Redis key/value pair is presented as a single row in Presto. Rows can be
broken down into cells by using table definition files.</p>
<p>Only Redis string and hash value types are supported; sets and zsets cannot be
queried from Presto.</p>
<p>The connector requires Redis 2.8.0 or later.</p>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h2>
<p>To configure the Redis connector, create a catalog properties file
<code class="docutils literal notranslate"><span class="pre">etc/catalog/redis.properties</span></code> with the following content,
replacing the properties as appropriate:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>connector.name=redis
redis.table-names=schema1.table1,schema1.table2
redis.nodes=host:port
</pre></div>
</div>
<div class="section" id="multiple-redis-servers">
<h3>Multiple Redis Servers<a class="headerlink" href="#multiple-redis-servers" title="Permalink to this headline">#</a></h3>
<p>You can have as many catalogs as you need. If you have additional
Redis servers, simply add another properties file to <code class="docutils literal notranslate"><span class="pre">etc/catalog</span></code>
with a different name, making sure it ends in <code class="docutils literal notranslate"><span class="pre">.properties</span></code>.</p>
</div>
</div>
<div class="section" id="configuration-properties">
<h2>Configuration Properties<a class="headerlink" href="#configuration-properties" title="Permalink to this headline">#</a></h2>
<p>The following configuration properties are available:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">redis.table-names</span></code></p></td>
<td><p>List of all tables provided by the catalog</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">redis.default-schema</span></code></p></td>
<td><p>Default schema name for tables</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">redis.nodes</span></code></p></td>
<td><p>Location of the Redis server</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">redis.scan-count</span></code></p></td>
<td><p>Redis parameter for scanning of the keys</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">redis.key-prefix-schema-table</span></code></p></td>
<td><p>Redis keys have schema-name:table-name prefix</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">redis.key-delimiter</span></code></p></td>
<td><p>Delimiter separating schema_name and table_name if redis.key-prefix-schema-table is used</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">redis.table-description-dir</span></code></p></td>
<td><p>Directory containing table description files</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">redis.hide-internal-columns</span></code></p></td>
<td><p>Controls whether internal columns are part of the table schema or not</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">redis.database-index</span></code></p></td>
<td><p>Redis database index</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">redis.password</span></code></p></td>
<td><p>Redis server password</p></td>
</tr>
</tbody>
</table>
<div class="section" id="redis-table-names">
<h3><code class="docutils literal notranslate"><span class="pre">redis.table-names</span></code><a class="headerlink" href="#redis-table-names" title="Permalink to this headline">#</a></h3>
<p>Comma-separated list of all tables provided by this catalog. A table name
can be unqualified (simple name) and is placed into the default schema
(see below), or qualified with a schema name (<code class="docutils literal notranslate"><span class="pre">&lt;schema-name&gt;.&lt;table-name&gt;</span></code>).</p>
<p>For each table defined, a table description file (see below) may
exist. If no table description file exists, the
table only contains internal columns (see below).</p>
<p>This property is required; there is no default and at least one table must be
defined.</p>
</div>
<div class="section" id="redis-default-schema">
<h3><code class="docutils literal notranslate"><span class="pre">redis.default-schema</span></code><a class="headerlink" href="#redis-default-schema" title="Permalink to this headline">#</a></h3>
<p>Defines the schema which will contain all tables that were defined without
a qualifying schema name.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">default</span></code>.</p>
</div>
<div class="section" id="redis-nodes">
<h3><code class="docutils literal notranslate"><span class="pre">redis.nodes</span></code><a class="headerlink" href="#redis-nodes" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">hostname:port</span></code> pair for the Redis server.</p>
<p>This property is required; there is no default.</p>
<p>Redis clusters are not supported.</p>
</div>
<div class="section" id="redis-scan-count">
<h3><code class="docutils literal notranslate"><span class="pre">redis.scan-count</span></code><a class="headerlink" href="#redis-scan-count" title="Permalink to this headline">#</a></h3>
<p>The internal COUNT parameter for the Redis SCAN command when connector is using
SCAN to find keys for the data. This parameter can be used to tune performance
of the Redis connector.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
</div>
<div class="section" id="redis-key-prefix-schema-table">
<h3><code class="docutils literal notranslate"><span class="pre">redis.key-prefix-schema-table</span></code><a class="headerlink" href="#redis-key-prefix-schema-table" title="Permalink to this headline">#</a></h3>
<p>If true, only keys prefixed with the <code class="docutils literal notranslate"><span class="pre">schema-name:table-name</span></code> are scanned
for a table, and all other keys are filtered out.  If false, all keys are
scanned.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</div>
<div class="section" id="redis-key-delimiter">
<h3><code class="docutils literal notranslate"><span class="pre">redis.key-delimiter</span></code><a class="headerlink" href="#redis-key-delimiter" title="Permalink to this headline">#</a></h3>
<p>The character used for separating <code class="docutils literal notranslate"><span class="pre">schema-name</span></code> and <code class="docutils literal notranslate"><span class="pre">table-name</span></code> when
<code class="docutils literal notranslate"><span class="pre">redis.key-prefix-schema-table</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code></p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
</div>
<div class="section" id="redis-table-description-dir">
<h3><code class="docutils literal notranslate"><span class="pre">redis.table-description-dir</span></code><a class="headerlink" href="#redis-table-description-dir" title="Permalink to this headline">#</a></h3>
<p>References a folder within Presto deployment that holds one or more JSON
files, which must end with <code class="docutils literal notranslate"><span class="pre">.json</span></code> and contain table description files.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">etc/redis</span></code>.</p>
</div>
<div class="section" id="redis-hide-internal-columns">
<h3><code class="docutils literal notranslate"><span class="pre">redis.hide-internal-columns</span></code><a class="headerlink" href="#redis-hide-internal-columns" title="Permalink to this headline">#</a></h3>
<p>In addition to the data columns defined in a table description file, the
connector maintains a number of additional columns for each table. If
these columns are hidden, they can still be used in queries, but they do not
show up in <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span> <span class="pre">&lt;table-name&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code>.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
<div class="section" id="redis-database-index">
<h3><code class="docutils literal notranslate"><span class="pre">redis.database-index</span></code><a class="headerlink" href="#redis-database-index" title="Permalink to this headline">#</a></h3>
<p>The Redis database to query.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</div>
<div class="section" id="redis-password">
<h3><code class="docutils literal notranslate"><span class="pre">redis.password</span></code><a class="headerlink" href="#redis-password" title="Permalink to this headline">#</a></h3>
<p>The password for password-protected Redis server.</p>
<p>This property is optional; the default is <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p>
</div>
</div>
<div class="section" id="internal-columns">
<h2>Internal Columns<a class="headerlink" href="#internal-columns" title="Permalink to this headline">#</a></h2>
<p>For each defined table, the connector maintains the following columns:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 5%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">_key</span></code></p></td>
<td><p>VARCHAR</p></td>
<td><p>Redis key.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">_value</span></code></p></td>
<td><p>VARCHAR</p></td>
<td><p>Redis value corresponding to the key.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">_key_length</span></code></p></td>
<td><p>BIGINT</p></td>
<td><p>Number of bytes in the key.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">_value_length</span></code></p></td>
<td><p>BIGINT</p></td>
<td><p>Number of bytes in the value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">_key_corrupt</span></code></p></td>
<td><p>BOOLEAN</p></td>
<td><p>True if the decoder could not decode the key for this row. When true, data columns mapped from the key should be treated as invalid.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">_value_corrupt</span></code></p></td>
<td><p>BOOLEAN</p></td>
<td><p>True if the decoder could not decode the message for this row. When true, data columns mapped from the value should be treated as invalid.</p></td>
</tr>
</tbody>
</table>
<p>For tables without a table definition file, the <code class="docutils literal notranslate"><span class="pre">_key_corrupt</span></code> and
<code class="docutils literal notranslate"><span class="pre">_value_corrupt</span></code> columns are <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</div>
<div class="section" id="table-definition-files">
<h2>Table Definition Files<a class="headerlink" href="#table-definition-files" title="Permalink to this headline">#</a></h2>
<p>With the Redis connector it’s possible to further reduce Redis key/value pairs into
granular cells provided the key/value sting follow a particular format. This process
defines new columns that can be further queried from Presto.</p>
<p>A table definition file consists of a JSON definition for a table. The
name of the file can be arbitrary, but must end in <code class="docutils literal notranslate"><span class="pre">.json</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
    &quot;tableName&quot;: ...,
    &quot;schemaName&quot;: ...,
    &quot;key&quot;: {
        &quot;dataFormat&quot;: ...,
        &quot;fields&quot;: [
            ...
        ]
    },
    &quot;value&quot;: {
        &quot;dataFormat&quot;: ...,
        &quot;fields&quot;: [
            ...
       ]
    }
}
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 8%" />
<col style="width: 12%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tableName</span></code></p></td>
<td><p>required</p></td>
<td><p>string</p></td>
<td><p>Presto table name defined by this file.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">schemaName</span></code></p></td>
<td><p>optional</p></td>
<td><p>string</p></td>
<td><p>Schema which will contain the table. If omitted, the default schema name is used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">key</span></code></p></td>
<td><p>optional</p></td>
<td><p>JSON object</p></td>
<td><p>Field definitions for data columns mapped to the value key.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">value</span></code></p></td>
<td><p>optional</p></td>
<td><p>JSON object</p></td>
<td><p>Field definitions for data columns mapped to the value itself.</p></td>
</tr>
</tbody>
</table>
<p>Please refer to the <a class="reference external" href="./kafka.html">Kafka connector</a> page for the description of the <code class="docutils literal notranslate"><span class="pre">dataFormat</span></code> as well as various available decoders.</p>
<p>In addition to the above Kafka types, the Redis connector supports <code class="docutils literal notranslate"><span class="pre">hash</span></code> type for the <code class="docutils literal notranslate"><span class="pre">value</span></code> field which represent data stored in the Redis hash.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{
    &quot;tableName&quot;: ...,
    &quot;schemaName&quot;: ...,
    &quot;value&quot;: {
        &quot;dataFormat&quot;: &quot;hash&quot;,
        &quot;fields&quot;: [
            ...
       ]
    }
}
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="redshift.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="10.47. Redshift Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="prometheus.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="10.45. Prometheus Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'338',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>