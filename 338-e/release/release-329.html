

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Release 329 (23 Jan 2020) &mdash; Starburst Enterprise Presto</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="17. Release Notes" href="../release.html"/>
        <link rel="next" title="Release 328 (10 Jan 2020)" href="release-328.html"/>
        <link rel="prev" title="Release 330 (18 Feb 2020)" href="release-330.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">3. Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s.html">5. Kubernetes with Helm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Kubernetes operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">7. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">8. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">9. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">10. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">11. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">12. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">13. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">14. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">15. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">16. Versions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../release.html">17. Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../release.html#starburst-enterprise-presto-releases">17.1. Starburst Enterprise Presto Releases</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../release.html#recent-presto-releases">17.2. Recent Presto releases</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../release.html#id1">2020</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="release-338.html">Release 338 (07 Jul 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-337.html">Release 337 (25 Jun 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-336.html">Release 336 (16 Jun 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-335.html">Release 335 (14 Jun 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-334.html">Release 334 (29 May 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-333.html">Release 333 (04 May 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-332.html">Release 332 (08 Apr 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-331.html">Release 331 (16 Mar 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-330.html">Release 330 (18 Feb 2020)</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Release 329 (23 Jan 2020)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-328.html">Release 328 (10 Jan 2020)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../release.html#id2">2019</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release.html#older-presto-releases">17.3. Older Presto releases</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">338-e LTS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/350-e/">Latest LTS (350-e)</option>
    <option value="/345-e/">345-e LTS</option>
    <option value="/338-e/">338-e LTS</option>
    <option value="/355-e/">Latest STS (355-e)</option>
    <option value="/354-e/">354-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">338-e LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../release.html"><span class="section-number">17. </span>Release Notes</a> &raquo;</li>
      
    <li>Release 329 (23 Jan 2020)</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-329-23-jan-2020">
<h1>Release 329 (23 Jan 2020)<a class="headerlink" href="#release-329-23-jan-2020" title="Permalink to this headline">#</a></h1>
<div class="section" id="general-changes">
<h2>General Changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix incorrect result for <a class="reference internal" href="../functions/datetime.html#last_day_of_month" title="last_day_of_month"><code class="xref py py-func docutils literal notranslate"><span class="pre">last_day_of_month()</span></code></a> function for first day of month. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2452">#2452</a>)</p></li>
<li><p>Fix incorrect results when handling <code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code> or <code class="docutils literal notranslate"><span class="pre">REAL</span></code> types with <code class="docutils literal notranslate"><span class="pre">NaN</span></code> values. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2582">#2582</a>)</p></li>
<li><p>Fix query failure when coordinator hostname contains underscores. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2571">#2571</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CREATE</span> <span class="pre">TABLE</span></code> failure when row types contain a field named after a
reserved SQL keyword. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2130">#2130</a>)</p></li>
<li><p>Handle common disk failures during spill. When one disk fails but multiple
spill locations are configured, the healthy disks will be used for future queries.
(<a class="reference external" href="https://github.com/prestosql/presto/issues/2444">#2444</a>)</p></li>
<li><p>Improve performance and reduce load on external systems when
querying <code class="docutils literal notranslate"><span class="pre">information_schema</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2488">#2488</a>)</p></li>
<li><p>Improve performance of queries containing redundant scalar subqueries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2456">#2456</a>)</p></li>
<li><p>Limit broadcasted table size to <code class="docutils literal notranslate"><span class="pre">100MB</span></code> by default when using the <code class="docutils literal notranslate"><span class="pre">AUTOMATIC</span></code>
join type selection strategy. This avoids query failures or excessive memory usage when joining two or
more very large tables. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2527">#2527</a>)</p></li>
<li><p>Enable <a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">cost based</span></a> join reordering and join type selection
optimizations by default. The previous behavior can be restored by
setting <code class="docutils literal notranslate"><span class="pre">optimizer.join-reordering-strategy</span></code> configuration property to <code class="docutils literal notranslate"><span class="pre">ELIMINATE_CROSS_JOINS</span></code>
and <code class="docutils literal notranslate"><span class="pre">join-distribution-type</span></code> to <code class="docutils literal notranslate"><span class="pre">PARTITIONED</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2528">#2528</a>)</p></li>
<li><p>Hide non-standard columns <code class="docutils literal notranslate"><span class="pre">comment</span></code> and <code class="docutils literal notranslate"><span class="pre">extra_info</span></code> in the standard
<code class="docutils literal notranslate"><span class="pre">information_schema.columns</span></code> table. These columns can still be selected,
but will no longer appear when describing the table. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2306">#2306</a>)</p></li>
</ul>
</div>
<div class="section" id="security-changes">
<h2>Security Changes<a class="headerlink" href="#security-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">ldap.bind-dn</span></code> and <code class="docutils literal notranslate"><span class="pre">ldap.bind-password</span></code> LDAP properties to allow LDAP authentication
access LDAP server using service account. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1917">#1917</a>)</p></li>
</ul>
</div>
<div class="section" id="hive-connector-changes">
<h2>Hive Connector Changes<a class="headerlink" href="#hive-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix incorrect data returned when using S3 Select on uncompressed files. In our testing, S3 Select
was apparently returning incorrect results when reading uncompressed files, so S3 Select is disabled
for uncompressed files. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2399">#2399</a>)</p></li>
<li><p>Fix incorrect data returned when using S3 Select on a table with <code class="docutils literal notranslate"><span class="pre">skip.header.line.count</span></code> or
<code class="docutils literal notranslate"><span class="pre">skip.footer.line.count</span></code> property. S3 Select API does not support skipping footers or more than one
line of a header.  In our testing, S3 Select was apparently sometimes returning incorrect results when
reading a compressed file with header skipping, so S3 Select is disabled when any of these table
properties is set to non-zero value. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2399">#2399</a>)</p></li>
<li><p>Fix query failure for writes when one of the inserted <code class="docutils literal notranslate"><span class="pre">REAL</span></code> or <code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code> values
is infinite or <code class="docutils literal notranslate"><span class="pre">NaN</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2471">#2471</a>)</p></li>
<li><p>Fix performance degradation reading from S3 when the Kinesis connector is installed. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2496">#2496</a>)</p></li>
<li><p>Allow reading data from Parquet files when the column type is declared as <code class="docutils literal notranslate"><span class="pre">INTEGER</span></code>
in the table or partition, but is a <code class="docutils literal notranslate"><span class="pre">DECIMAL</span></code> type in the file. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2451">#2451</a>)</p></li>
<li><p>Validate the scale of decimal types when reading Parquet files. This prevents
incorrect results when the decimal scale in the file does not match the declared
type for the table or partition. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2451">#2451</a>)</p></li>
<li><p>Delete storage location when dropping an empty schema. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2463">#2463</a>)</p></li>
<li><p>Improve performance when deleting multiple partitions by executing these actions concurrently. (<a class="reference external" href="https://github.com/prestosql/presto/issues/1812">#1812</a>)</p></li>
<li><p>Improve performance for queries containing <code class="docutils literal notranslate"><span class="pre">IN</span></code> predicates over bucketing columns. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2277">#2277</a>)</p></li>
<li><p>Add procedure <code class="docutils literal notranslate"><span class="pre">system.drop_stats()</span></code> to remove the column statistics
for a table or selected partitions. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2538">#2538</a>)</p></li>
</ul>
</div>
<div class="section" id="elasticsearch-connector-changes">
<h2>Elasticsearch Connector Changes<a class="headerlink" href="#elasticsearch-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Add support for <a class="reference internal" href="../connector/elasticsearch.html#elasticsearch-array-types"><span class="std std-ref">Array Types</span></a>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2441">#2441</a>)</p></li>
<li><p>Reduce load on Elasticsearch cluster and improve query performance. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2561">#2561</a>)</p></li>
</ul>
</div>
<div class="section" id="postgresql-connector-changes">
<h2>PostgreSQL Connector Changes<a class="headerlink" href="#postgresql-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix mapping between PostgreSQL’s <code class="docutils literal notranslate"><span class="pre">TIME</span></code> and Presto’s <code class="docutils literal notranslate"><span class="pre">TIME</span></code> data types.
Previously the mapping was incorrect, shifting it by the relative offset between the session
time zone and the Presto server’s JVM time zone. (<a class="reference external" href="https://github.com/prestosql/presto/issues/2549">#2549</a>)</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release-328.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="Release 328 (10 Jan 2020)" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="release-330.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="Release 330 (18 Feb 2020)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'338',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>