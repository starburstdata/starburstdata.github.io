

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.8. Decimal Functions and Operators &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="11. Functions and Operators" href="../functions.html"/>
        <link rel="next" title="11.9. String Functions and Operators" href="string.html"/>
        <link rel="prev" title="11.7. Bitwise Functions" href="bitwise.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">3. Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">4. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">5. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">7. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">8. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">9. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">10. Connectors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../functions.html">11. Functions and Operators</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="logical.html">11.1. Logical Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="comparison.html">11.2. Comparison Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="conditional.html">11.3. Conditional Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="lambda.html">11.4. Lambda Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="conversion.html">11.5. Conversion Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="math.html">11.6. Mathematical Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="bitwise.html">11.7. Bitwise Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">11.8. Decimal Functions and Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#decimal-literals">Decimal Literals</a></li>
<li class="toctree-l3"><a class="reference internal" href="#binary-arithmetic-decimal-operators">Binary Arithmetic Decimal Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comparison-operators">Comparison Operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unary-decimal-operators">Unary Decimal Operators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="string.html">11.9. String Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="regexp.html">11.10. Regular Expression Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="binary.html">11.11. Binary Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="json.html">11.12. JSON Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="datetime.html">11.13. Date and Time Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregate.html">11.14. Aggregate Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="window.html">11.15. Window Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="array.html">11.16. Array Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="map.html">11.17. Map Functions and Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="url.html">11.18. URL Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="geospatial.html">11.19. Geospatial Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="hyperloglog.html">11.20. HyperLogLog Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="qdigest.html">11.21. Quantile Digest Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="uuid.html">11.22. UUID Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="color.html">11.23. Color Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="session.html">11.24. Session Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="teradata.html">11.25. Teradata Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="oracle.html">11.26. Oracle Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="ml.html">11.27. Machine Learning Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="list.html">11.28. List of Functions and Operators</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">12. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">13. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">14. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">15. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">16. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">17. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">338-e STS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/338-e/">Latest LTS (338-e)</option>
    <option value="/336-e/">Latest STS (336-e)</option>
    <option value="/334-e/">334-e STS</option>
    <option value="/332-e/">332-e LTS</option>
    <option value="/323-e/">323-e LTS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">338-e STS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../functions.html">11. Functions and Operators</a> &raquo;</li>
      
    <li>11.8. Decimal Functions and Operators</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="decimal-functions-and-operators">
<h1>11.8. Decimal Functions and Operators<a class="headerlink" href="#decimal-functions-and-operators" title="Permalink to this headline">#</a></h1>
<div class="section" id="decimal-literals">
<span id="decimal-literal"></span><h2>Decimal Literals<a class="headerlink" href="#decimal-literals" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><p>Use <code class="docutils literal"><span class="pre">DECIMAL</span> <span class="pre">'xxxxxxx.yyyyyyy'</span></code> syntax to define literal of DECIMAL type.</p>
<p>The precision of DECIMAL type for literal will be equal to number of digits
in literal (including trailing and leading zeros).
The scale will be equal to number of digits in fractional part (including trailing zeros).</p>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Example literal</th>
<th class="head">Data type</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DECIMAL</span> <span class="pre">'0'</span></code></td>
<td><code class="docutils literal"><span class="pre">DECIMAL(1)</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DECIMAL</span> <span class="pre">'12345'</span></code></td>
<td><code class="docutils literal"><span class="pre">DECIMAL(5)</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DECIMAL</span> <span class="pre">'0000012345.1234500000'</span></code></td>
<td><code class="docutils literal"><span class="pre">DECIMAL(20,</span> <span class="pre">10)</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="binary-arithmetic-decimal-operators">
<h2>Binary Arithmetic Decimal Operators<a class="headerlink" href="#binary-arithmetic-decimal-operators" title="Permalink to this headline">#</a></h2>
<blockquote>
<div>Standard mathematical operators are supported. The table below explains
precision and scale calculation rules for result.
Assuming <code class="docutils literal"><span class="pre">x</span></code> is of type <code class="docutils literal"><span class="pre">DECIMAL(xp,</span> <span class="pre">xs)</span></code> and <code class="docutils literal"><span class="pre">y</span></code> is of type <code class="docutils literal"><span class="pre">DECIMAL(yp,</span> <span class="pre">ys)</span></code>.</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="41%" />
<col width="41%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Operation</td>
<td>Result type precision</td>
<td>Result type scale</td>
</tr>
<tr class="row-even"><td><p class="first"><code class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></code></p>
<p>and</p>
<p class="last"><code class="docutils literal"><span class="pre">x</span> <span class="pre">-</span> <span class="pre">y</span></code></p>
</td>
<td><div class="first last highlight-sql"><div class="highlight"><pre><span></span><span class="k">min</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span>
    <span class="mi">1</span> <span class="o">+</span>
      <span class="k">max</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">)</span> <span class="o">+</span>
      <span class="k">max</span><span class="p">(</span><span class="n">xp</span> <span class="o">-</span> <span class="n">xs</span><span class="p">,</span> <span class="n">yp</span> <span class="o">-</span> <span class="n">ys</span><span class="p">)</span>
   <span class="p">)</span>
</pre></div>
</div>
</td>
<td><code class="docutils literal"><span class="pre">max(xs,</span> <span class="pre">ys)</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">x</span> <span class="pre">*</span> <span class="pre">y</span></code></td>
<td><code class="docutils literal"><span class="pre">min(38,</span> <span class="pre">xp</span> <span class="pre">+</span> <span class="pre">yp)</span></code></td>
<td><code class="docutils literal"><span class="pre">xs</span> <span class="pre">+</span> <span class="pre">ys</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">x</span> <span class="pre">/</span> <span class="pre">y</span></code></td>
<td><div class="first last highlight-sql"><div class="highlight"><pre><span></span><span class="k">min</span><span class="p">(</span><span class="mi">38</span><span class="p">,</span>
    <span class="n">xp</span> <span class="o">+</span> <span class="n">ys</span>
       <span class="o">+</span> <span class="k">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">ys</span><span class="o">-</span><span class="n">xs</span><span class="p">)</span>
   <span class="p">)</span>
</pre></div>
</div>
</td>
<td><code class="docutils literal"><span class="pre">max(xs,</span> <span class="pre">ys)</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">x</span> <span class="pre">%</span> <span class="pre">y</span></code></td>
<td><div class="first last highlight-sql"><div class="highlight"><pre><span></span><span class="k">min</span><span class="p">(</span><span class="n">xp</span> <span class="o">-</span> <span class="n">xs</span><span class="p">,</span> <span class="n">yp</span> <span class="o">-</span> <span class="n">ys</span><span class="p">)</span> <span class="o">+</span>
<span class="k">max</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">bs</span><span class="p">)</span>
</pre></div>
</div>
</td>
<td><code class="docutils literal"><span class="pre">max(xs,</span> <span class="pre">ys)</span></code></td>
</tr>
</tbody>
</table>
<blockquote>
<div><p>If the mathematical result of the operation is not exactly representable with
the precision and scale of the result data type,
then an exception condition is raised - <code class="docutils literal"><span class="pre">Value</span> <span class="pre">is</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">range</span></code>.</p>
<p>When operating on decimal types with different scale and precision, the values are
first coerced to a common super type. For types near the largest representable precision (38),
this can result in Value is out of range errors when one of the operands doesnâ€™t fit
in the common super type. For example, the common super type of decimal(38, 0) and
decimal(38, 1) is decimal(38, 1), but certain values that fit in decimal(38, 0)
cannot be represented as a decimal(38, 1).</p>
</div></blockquote>
</div>
<div class="section" id="comparison-operators">
<h2>Comparison Operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">#</a></h2>
<blockquote>
<div>All standard comparison operators and <code class="docutils literal"><span class="pre">BETWEEN</span></code> operator work for <code class="docutils literal"><span class="pre">DECIMAL</span></code> type.</div></blockquote>
</div>
<div class="section" id="unary-decimal-operators">
<h2>Unary Decimal Operators<a class="headerlink" href="#unary-decimal-operators" title="Permalink to this headline">#</a></h2>
<blockquote>
<div>The <code class="docutils literal"><span class="pre">-</span></code> operator performs negation. The type of result is same as type of argument.</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="string.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="11.9. String Functions and Operators" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bitwise.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="11.7. Bitwise Functions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'338',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>