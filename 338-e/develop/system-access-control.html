

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>15.6. System Access Control &mdash; Starburst Enterprise Presto</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="15. Developer Guide" href="../develop.html"/>
        <link rel="next" title="15.7. Password Authenticator" href="password-authenticator.html"/>
        <link rel="prev" title="15.5. Functions" href="functions.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">3. Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s.html">5. Kubernetes with Helm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Kubernetes operator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">7. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">8. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">9. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">10. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">11. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">12. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">13. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">14. Migration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../develop.html">15. Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spi-overview.html">15.1. SPI Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectors.html">15.2. Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-http.html">15.3. Example HTTP Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">15.4. Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">15.5. Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">15.6. System Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#implementation">Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="password-authenticator.html">15.7. Password Authenticator</a></li>
<li class="toctree-l2"><a class="reference internal" href="certificate-authenticator.html">15.8. Certificate Authenticator</a></li>
<li class="toctree-l2"><a class="reference internal" href="group-provider.html">15.9. Group Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="event-listener.html">15.10. Event Listener</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">16. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">17. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">338-e LTS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/350-e/">Latest LTS (350-e)</option>
    <option value="/345-e/">345-e LTS</option>
    <option value="/338-e/">338-e LTS</option>
    <option value="/355-e/">Latest STS (355-e)</option>
    <option value="/354-e/">354-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">338-e LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../develop.html"><span class="section-number">15. </span>Developer Guide</a> &raquo;</li>
      
    <li><span class="section-number">15.6. </span>System Access Control</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-access-control">
<h1><span class="section-number">15.6. </span>System Access Control<a class="headerlink" href="#system-access-control" title="Permalink to this headline">#</a></h1>
<p>Presto separates the concept of the principal who authenticates to the
coordinator from the username that is responsible for running queries. When
running the Presto CLI, for example, the Presto username can be specified using
the <code class="docutils literal notranslate"><span class="pre">--user</span></code> option.</p>
<p>By default, the Presto coordinator allows any principal to run queries as any
Presto user. In a secure environment, this is probably not desirable behavior
and likely requires customization.</p>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">SystemAccessControlFactory</span></code> is responsible for creating a
<code class="docutils literal notranslate"><span class="pre">SystemAccessControl</span></code> instance. It also defines a <code class="docutils literal notranslate"><span class="pre">SystemAccessControl</span></code>
name which is used by the administrator in a Presto configuration.</p>
<p><code class="docutils literal notranslate"><span class="pre">SystemAccessControl</span></code> implementations have several responsibilities:</p>
<ul class="simple">
<li><p>Verifying whether or not a given principal is authorized to execute queries as a specific user.</p></li>
<li><p>Determining whether or not a given user can alter values for a given system property.</p></li>
<li><p>Performing access checks across all catalogs. These access checks happen before
any connector specific checks and thus can deny permissions that would otherwise
be allowed by <code class="docutils literal notranslate"><span class="pre">ConnectorAccessControl</span></code>.</p></li>
</ul>
<p>The implementation of <code class="docutils literal notranslate"><span class="pre">SystemAccessControl</span></code> and <code class="docutils literal notranslate"><span class="pre">SystemAccessControlFactory</span></code>
must be wrapped as a plugin and installed on the Presto cluster.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h2>
<p>After a plugin that implements <code class="docutils literal notranslate"><span class="pre">SystemAccessControl</span></code> and
<code class="docutils literal notranslate"><span class="pre">SystemAccessControlFactory</span></code> has been installed on the coordinator, it is
configured using the file(s) specified by the <code class="docutils literal notranslate"><span class="pre">access-control.config-files</span></code>
property (the default is a single <code class="docutils literal notranslate"><span class="pre">etc/access-control.properties</span></code> file).
All of the properties other than <code class="docutils literal notranslate"><span class="pre">access-control.name</span></code> are specific to
the <code class="docutils literal notranslate"><span class="pre">SystemAccessControl</span></code> implementation.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">access-control.name</span></code> property is used by Presto to find a registered
<code class="docutils literal notranslate"><span class="pre">SystemAccessControlFactory</span></code> based on the name returned by
<code class="docutils literal notranslate"><span class="pre">SystemAccessControlFactory.getName()</span></code>. The remaining properties are passed
as a map to <code class="docutils literal notranslate"><span class="pre">SystemAccessControlFactory.create()</span></code>.</p>
<p>Example configuration file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>access-control.name=custom-access-control
custom-property1=custom-value1
custom-property2=custom-value2
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="password-authenticator.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="15.7. Password Authenticator" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="functions.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="15.5. Functions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'338',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>