

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>OAuth 2.0 identity providers &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/heap_analytics.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Okta authentication" href="okta-authentication.html" />
    <link rel="prev" title="OAuth 2.0 authentication" href="oauth2.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" >


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/security/oauth2-providers.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#security/oauth2-providers" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/starburst_KO-T.png"
                   alt="Starburst Enterprise 429-e.14 LTS logo">
          
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 429-e.14 LTS</a>
          <span class="md-header-nav__topic"> OAuth 2.0 identity providers </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="product-list">
    <h6 class="filter-label">Product:</h6>
  </div>
  <div id="versionsRefinementList" id="version-list" style="display:none"></div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (453-e)" href="/453-e/">Latest LTS (453-e)</a>
      
          <a title="443-e LTS" href="/443-e/">443-e LTS</a>
      
          <a title="435-e LTS" href="/435-e/">435-e LTS</a>
      
          <a title="429-e LTS" href="/429-e/">429-e LTS</a>
      
          <a title="Latest STS (454-e)" href="/454-e/">Latest STS (454-e)</a>
      
          <a title="451-e STS" href="/451-e/">451-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/introduction/index.html" class="md-tabs__link">Introduction</a></li>
            
            <li class="md-tabs__item"><a href="/clients/index.html" class="md-tabs__link">Clients</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../security.html" class="md-tabs__link">Security</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/starburst_KO-T.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 429-e.14 LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Overview</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Features, use cases, and support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../try-sep.html" class="md-nav__link">Try Starburst Enterprise</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For all users</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../overview/sep-ui.html" class="md-nav__link">Starburst Enterprise web UI</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-products.html" class="md-nav__link">Data products</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Use SQL</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For data engineers</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../catalogs.html" class="md-nav__link">Define catalogs</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-engineering/materialized-views.html" class="md-nav__link">Materialized views</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Connect to data sources</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connector overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../object-storage.html" class="md-nav__link">Object storage connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html" class="md-nav__link">Non-object storage connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../utilities.html" class="md-nav__link">Utilities</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector/starburst-connectors.html" class="md-nav__link">Starburst connectors feature matrix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For platform administrators</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin-topics.html" class="md-nav__link">Administration topics</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Performance, logging, and governance features</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="overview.html" class="md-nav__link">Security overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html#security-topic-areas" class="md-nav__link">Security topic areas</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../security.html#built-in-access-control" class="md-nav__link">Built-in access control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html#user-authentication-and-client-security" class="md-nav__link">User authentication and client security</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="authentication-types.html" class="md-nav__link">Authentication types</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="password-file.html" class="md-nav__link">- Password files</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ldap.html" class="md-nav__link">- LDAP</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ldap-group-provider.html" class="md-nav__link">- LDAP group provider</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="scim-provisioning.html" class="md-nav__link">- SCIM user and group synchronization</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="salesforce.html" class="md-nav__link">- Salesforce</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oauth2.html" class="md-nav__link">- OAuth2 over HTTPS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> - OAuth2 providers </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">- OAuth2 providers</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#security-oauth2-providers--page-root" class="md-nav__link">OAuth 2.0 identity providers</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#openid-connect-metadata" class="md-nav__link">OpenID Connect metadata</a>
        </li>
        <li class="md-nav__item"><a href="#supported-identity-providers" class="md-nav__link">Supported identity providers</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#okta" class="md-nav__link">Okta</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-okta-app" class="md-nav__link">Create an Okta app</a>
        </li>
        <li class="md-nav__item"><a href="#configure-the-client" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#configuration-properties-values-summary" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#azure-active-directory" class="md-nav__link">Azure Active Directory</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-azure-ad-app-integration" class="md-nav__link">Create an Azure AD app integration</a>
        </li>
        <li class="md-nav__item"><a href="#expose-the-api" class="md-nav__link">Expose the API</a>
        </li>
        <li class="md-nav__item"><a href="#id2" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#configure-passthrough-authentication-settings" class="md-nav__link">Configure passthrough authentication settings</a>
        </li>
        <li class="md-nav__item"><a href="#configure-endpoint-properties" class="md-nav__link">Configure endpoint properties</a>
        </li>
        <li class="md-nav__item"><a href="#configure-the-groups-field" class="md-nav__link">Configure the groups field</a>
        </li>
        <li class="md-nav__item"><a href="#id3" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#active-directory-federation-services" class="md-nav__link">Active Directory Federation Services</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-adfs-application-group" class="md-nav__link">Create an ADFS Application Group</a>
        </li>
        <li class="md-nav__item"><a href="#id4" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id5" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#keycloak" class="md-nav__link">Keycloak</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-application" class="md-nav__link">Create application</a>
        </li>
        <li class="md-nav__item"><a href="#id6" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id7" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#google-cloud-platform" class="md-nav__link">Google Cloud Platform</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id8" class="md-nav__link">Create application</a>
        </li>
        <li class="md-nav__item"><a href="#id10" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id11" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#pingidentity" class="md-nav__link">PingIdentity</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-oidc-application" class="md-nav__link">Create an OIDC application</a>
        </li>
        <li class="md-nav__item"><a href="#id12" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id13" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#enable-oauth-for-power-bi-clients" class="md-nav__link">Enable OAuth for Power BI clients</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="okta-authentication.html" class="md-nav__link">- Okta</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kerberos.html" class="md-nav__link">- Kerberos</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="certificate.html" class="md-nav__link">- Certificate</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="jwt.html" class="md-nav__link">- JWT</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="password-passthrough.html" class="md-nav__link">- Password pass-through</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oauth2-passthrough.html" class="md-nav__link">- OAuth 2.0 token pass-through</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kerberos-passthrough.html" class="md-nav__link">- Kerberos credential pass-through</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html#cluster-security" class="md-nav__link">Cluster security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html#third-party-access-control" class="md-nav__link">Third-party access control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html#miscellaneous-security-options" class="md-nav__link">Miscellaneous security options</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../starburst-rest-api.html" class="md-nav__link">Starburst Enterprise REST API</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Deploy in cloud ecosystems</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../ecosystems/aws/index.html" class="md-nav__link">AWS ecosystem</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../ecosystems/google/index.html" class="md-nav__link">Google Cloud</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../ecosystems/microsoft/index.html" class="md-nav__link">Microsoft Azure</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../ecosystems/redhat/index.html" class="md-nav__link">Red Hat OpenShift</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">SEP deployment mechanisms</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../license-requirements.html" class="md-nav__link">Starburst Enterprise license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploy with Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../starburst-admin.html" class="md-nav__link">Deploy with Starburst Admin</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploy with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Local installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">429-e.8 LTS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Appendix</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Version-specific notices and information</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#security-oauth2-providers--page-root" class="md-nav__link">OAuth 2.0 identity providers</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#openid-connect-metadata" class="md-nav__link">OpenID Connect metadata</a>
        </li>
        <li class="md-nav__item"><a href="#supported-identity-providers" class="md-nav__link">Supported identity providers</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#okta" class="md-nav__link">Okta</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-okta-app" class="md-nav__link">Create an Okta app</a>
        </li>
        <li class="md-nav__item"><a href="#configure-the-client" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#configuration-properties-values-summary" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#azure-active-directory" class="md-nav__link">Azure Active Directory</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-azure-ad-app-integration" class="md-nav__link">Create an Azure AD app integration</a>
        </li>
        <li class="md-nav__item"><a href="#expose-the-api" class="md-nav__link">Expose the API</a>
        </li>
        <li class="md-nav__item"><a href="#id2" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#configure-passthrough-authentication-settings" class="md-nav__link">Configure passthrough authentication settings</a>
        </li>
        <li class="md-nav__item"><a href="#configure-endpoint-properties" class="md-nav__link">Configure endpoint properties</a>
        </li>
        <li class="md-nav__item"><a href="#configure-the-groups-field" class="md-nav__link">Configure the groups field</a>
        </li>
        <li class="md-nav__item"><a href="#id3" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#active-directory-federation-services" class="md-nav__link">Active Directory Federation Services</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-adfs-application-group" class="md-nav__link">Create an ADFS Application Group</a>
        </li>
        <li class="md-nav__item"><a href="#id4" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id5" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#keycloak" class="md-nav__link">Keycloak</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-application" class="md-nav__link">Create application</a>
        </li>
        <li class="md-nav__item"><a href="#id6" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id7" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#google-cloud-platform" class="md-nav__link">Google Cloud Platform</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id8" class="md-nav__link">Create application</a>
        </li>
        <li class="md-nav__item"><a href="#id10" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id11" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#pingidentity" class="md-nav__link">PingIdentity</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-an-oidc-application" class="md-nav__link">Create an OIDC application</a>
        </li>
        <li class="md-nav__item"><a href="#id12" class="md-nav__link">Configure the client</a>
        </li>
        <li class="md-nav__item"><a href="#id13" class="md-nav__link">Configuration properties values summary</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#enable-oauth-for-power-bi-clients" class="md-nav__link">Enable OAuth for Power BI clients</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="oauth-2-0-identity-providers">
<h1 id="security-oauth2-providers--page-root">OAuth 2.0 identity providers<a class="headerlink" href="#security-oauth2-providers--page-root" title="Permalink to this heading">#</a></h1>
<p>Starburst Enterprise platform (SEP) includes support for <a class="reference internal" href="oauth2.html"><span class="doc">OAuth 2.0 authentication</span></a>. The following sections provide
information about configuring and using the supported identity providers.</p>
<p>All OAuth 2.0 implementations require <code class="docutils literal notranslate"><span class="pre">oauth2</span></code> to be included in the values
set for the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.type</span></code> <a class="reference internal" href="authentication-types.html"><span class="doc">configuration property</span></a> in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the
coordinator in addition to other configuration properties described in this
document.</p>
<section id="openid-connect-metadata">
<span id="oauth2-providers-openid"></span><h2 id="openid-connect-metadata">OpenID Connect metadata<a class="headerlink" href="#openid-connect-metadata" title="Permalink to this heading">#</a></h2>
<p>OpenID Connect servers publish their metadata at a well-known URL, typically
<code class="docutils literal notranslate"><span class="pre">https://authorization-server.com/.well-known/openid-configuration</span></code>. The
data returned by this endpoint is used to configure OAuth 2.0 authentication.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the authorization server is issuing JSON Web Tokens (JWTs) and the
metadata document contains <code class="docutils literal notranslate"><span class="pre">userinfo_endpoint</span></code>, SEP uses this endpoint to
check the validity of OAuth2 access tokens. Since JWTs can be inspected
locally, using them against <code class="docutils literal notranslate"><span class="pre">userinfo_endpoint</span></code> may result in authentication
failure. In this case, set the
<code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.oidc.use-userinfo-endpoint</span></code> configuration
property to <code class="docutils literal notranslate"><span class="pre">false</span></code>
(<code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.oidc.use-userinfo-endpoint=false</span></code>). This
instructs SEP to ignore <code class="docutils literal notranslate"><span class="pre">userinfo_endpoint</span></code> and inspect tokens locally.</p>
</div>
<p>For more information on OpenID, refer to <a class="reference external" href="https://developers.google.com/identity/protocols/oauth2/openid-connect">OpenID Connect</a>.</p>
</section>
<section id="supported-identity-providers">
<h2 id="supported-identity-providers">Supported identity providers<a class="headerlink" href="#supported-identity-providers" title="Permalink to this heading">#</a></h2>
<p>The following sections detail the necessary configuration steps in each of the
supported identity provider’s user interface and in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code>
file on the SEP coordinator. The following identity providers are supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#oauth2-idp-okta"><span class="std std-ref">Okta</span></a></p></li>
<li><p><a class="reference internal" href="#azure-active-directory"><span class="std std-ref">Azure Active Directory</span></a></p></li>
<li><p><a class="reference internal" href="#oauth2-idp-adfs"><span class="std std-ref">Active Directory Federation Services</span></a></p></li>
<li><p><a class="reference internal" href="#oauth2-idp-keycloak"><span class="std std-ref">Keycloak</span></a></p></li>
<li><p><a class="reference internal" href="#oauth2-idp-gcp"><span class="std std-ref">Google Cloud Platform</span></a></p></li>
<li><p><a class="reference internal" href="#oauth2-idp-pingid"><span class="std std-ref">PingIdenity</span></a></p></li>
</ul>
<section id="okta">
<span id="oauth2-idp-okta"></span><h3 id="okta">Okta<a class="headerlink" href="#okta" title="Permalink to this heading">#</a></h3>
<p>This section provides specific information for setting up OAuth 2.0 for SEP in
Okta. There are two tasks to complete:</p>
<ul class="simple">
<li><p>Create an Okta app</p></li>
<li><p>Configure the client</p></li>
</ul>
<p>The following sections describe the steps to complete these tasks.</p>
<section id="create-an-okta-app">
<h4 id="create-an-okta-app">Create an Okta app<a class="headerlink" href="#create-an-okta-app" title="Permalink to this heading">#</a></h4>
<p>If you are using an existing app integration you can skip this step, referring
to it only as a guideline on where to obtain the required information.</p>
<ol class="arabic simple">
<li><p>In the <strong>Okta Admin Console</strong>, create an <a class="reference external" href="https://developer.okta.com/docs/guides/sign-into-web-app-redirect/asp-net-core-3/main/#create-an-okta-integration-for-your-app">Okta app integration</a>.</p></li>
<li><p>Enter the <a class="reference internal" href="oauth2.html"><span class="doc">OAuth 2.0 authentication</span></a> callback URL
<code class="docutils literal notranslate"><span class="pre">https://&lt;sep-coordinator-domain-name&gt;/oauth2/callback</span></code> for
<strong>Redirect URI</strong>.</p></li>
</ol>
</section>
<section id="configure-the-client">
<h4 id="configure-the-client">Configure the client<a class="headerlink" href="#configure-the-client" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>In the <strong>General</strong> tab of the <strong>Okta Admin Console</strong>, click the
<strong>Client Credentials</strong> section and copy the <code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code>.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code> displayed
in the <strong>Client Credentials</strong> section:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-id</span><span class="o">=</span><span class="s">&lt;Client ID displayed in Okta Admin Console&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>In the <strong>General</strong> tab of the <strong>Okta Admin Console</strong>, click the
<strong>Client Credentials</strong> section and copy the <code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">secret</span></code>.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client Secret</strong>
displayed in the <strong>Client Credentials</strong> section:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-secret</span><span class="o">=</span><span class="s">&lt;Client Secret displayed in Okta Admin Console&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>In the Okta Admin Console, go to <strong>Security &gt; API &gt; Authorization Servers</strong>.
Choose the authorization server for your application under <strong>Name</strong>, and copy
the <code class="docutils literal notranslate"><span class="pre">Issuer</span></code> URL.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <code class="docutils literal notranslate"><span class="pre">Issuer</span></code> URL value:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.issuer</span><span class="o">=</span><span class="s">https://example-account.okta.com/oauth2/default</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>In the Okta Admin UI, copy the <strong>Audience</strong> and use it to set the
<code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.additional-audiences</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.additional-audiences</span><span class="o">=</span><span class="s">&lt;Audience displayed in Okta Admin Console&gt;</span>
</pre></div>
</div>
</section>
<section id="configuration-properties-values-summary">
<h4 id="configuration-properties-values-summary">Configuration properties values summary<a class="headerlink" href="#configuration-properties-values-summary" title="Permalink to this heading">#</a></h4>
<p>The following table describes all configuration properties available to
configure SEP with OAuth 2.0 through Okta, and their values or source of the
values:</p>
<table id="id14">
<caption><span class="caption-text">Okta configuration properties</span><a class="headerlink" href="#id14" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.additional-audiences</span></code></p></td>
<td><p>As copied from <strong>Audience</strong> displayed in the Okta Admin Console</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code></p></td>
<td><p>As copied from <strong>Client ID</strong> displayed in the Okta Admin Console</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code></p></td>
<td><p>As copied from <strong>Client Server</strong> displayed in the Okta Admin Console</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></td>
<td><p>As copied from <strong>Issuer</strong> displayed in the Okta Admin Console</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.principal-field</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">sub</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="azure-active-directory">
<span id="id1"></span><h3 id="azure-active-directory">Azure Active Directory<a class="headerlink" href="#azure-active-directory" title="Permalink to this heading">#</a></h3>
<p>This section provides specific information for setting up OAuth 2.0 for SEP in
Azure. There are several tasks to complete:</p>
<ul class="simple">
<li><p>Create an Azure AD app integration</p></li>
<li><p>Expose the API</p></li>
<li><p>Configure the client</p></li>
<li><p>Configure passthrough authentication settings (optional)</p></li>
<li><p>Configure endpoint properties</p></li>
</ul>
<p>The following sections describe the steps to complete these tasks.</p>
<section id="create-an-azure-ad-app-integration">
<h4 id="create-an-azure-ad-app-integration">Create an Azure AD app integration<a class="headerlink" href="#create-an-azure-ad-app-integration" title="Permalink to this heading">#</a></h4>
<p>Skip this step if you use an existing app registration.</p>
<ol class="arabic simple">
<li><p>Go to <strong>Microsoft Azure Portal &gt; Azure Active Directory &gt; App registrations &gt;
New registration</strong>.</p></li>
<li><p>Enter a name, for example <code class="docutils literal notranslate"><span class="pre">sep-app-01</span></code>, and choose <strong>Accounts in this
organizational directory only (Starburst Data only - Single tenant)</strong> from
<strong>Supported account types</strong>. This is needed in a later step.</p></li>
<li><p>For <strong>Redirect URI</strong> use <strong>Web</strong> and the <a class="reference internal" href="oauth2.html"><span class="doc">OAuth 2.0 authentication</span></a> callback URL
<code class="docutils literal notranslate"><span class="pre">https://&lt;sep-coordinator-domain-name&gt;/oauth2/callback</span></code>.</p></li>
<li><p>Click <strong>Register</strong>.</p></li>
</ol>
</section>
<section id="expose-the-api">
<h4 id="expose-the-api">Expose the API<a class="headerlink" href="#expose-the-api" title="Permalink to this heading">#</a></h4>
<p>By default Microsoft only adds the API for Microsoft Graph to an app
registration. You must also expose an API for SEP:</p>
<ol class="arabic simple">
<li><p>Go to <strong>Expose an API</strong> and click <strong>Set</strong> next to <strong>Application ID URI</strong>. The
Application ID URI must be unique within your organization and match the URL
of your SEP cluster. For example:
<a class="reference external" href="https://example.com/d858d980d-71d5-4e86-8da8-5ea4cab5a8e1">https://example.com/d858d980d-71d5-4e86-8da8-5ea4cab5a8e1</a>.</p></li>
<li><p>Select <strong>Add a scope</strong> in the <strong>Scopes defined by this API</strong> section.</p></li>
<li><p>Add a <strong>Name</strong> for the new scope such as <code class="docutils literal notranslate"><span class="pre">SEPUsers.Read.All</span></code>, as well as a
<strong>Display name</strong> and <strong>Description</strong>. <strong>Name</strong> is used to configure the scope
on the coordinator.</p></li>
<li><p>Choose <strong>Admins and users</strong> from the <strong>Who can consent?</strong> selector.</p></li>
<li><p>Click <strong>Add a client application</strong> in the <strong>Authorized client applications</strong>.
Use the client ID and select the new scope.</p></li>
<li><p>Configure <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code> in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator as a comma-separated list
including the scope URL and openid:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.scopes</span><span class="o">=</span><span class="s">https://example.com/d858d999d-71d5-4e96-8da9-5ea4c999a8e1/SEPUsers.Read.All,openid</span>
</pre></div>
</div>
</section>
<section id="id2">
<h4 id="id2">Configure the client<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h4>
<p>Once the app integration is added and the API is exposed, the client is
configured in the Azure Portal:</p>
<ol class="arabic simple">
<li><p>Go to <strong>Certificates &amp; secrets</strong> and select <strong>New client secret</strong>.</p></li>
<li><p>Enter description and set an expiration period.</p></li>
<li><p>Copy the value of the secret to and set
<code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code> in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to
that value:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-secret</span><span class="o">=</span><span class="s">&lt;Client Secret displayed in Azure Portal&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Go to <strong>API permissions &gt; Add a permission</strong>. Do the following, in the order
shown:</p>
<ul class="simple">
<li><p>Select <strong>My APIs</strong> at the top.</p></li>
<li><p>In the list of app registrations, click on the name you entered for your
app registration, <code class="docutils literal notranslate"><span class="pre">sep-app-01</span></code> in this example.</p></li>
<li><p>Check the box for <strong>Delegated permissions</strong>.</p></li>
<li><p>Check the box for the scope you created earlier (for example,
<code class="docutils literal notranslate"><span class="pre">SEPUsers.Read.All</span></code>)</p></li>
<li><p>Click the <strong>Add permission</strong> button.</p></li>
</ul>
</li>
<li><p>Go to <strong>Overview &gt; Application (client) ID</strong>, and use the content to
configure <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code> on the coordinator.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.access-token-issuer</span></code> property in
the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to
<code class="docutils literal notranslate"><span class="pre">https://sts.windows.net/&lt;your-tenant-id&gt;/</span></code>. The trailing forward slash is
a required part of the URL.</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.access-token-issuer</span><span class="o">=</span><span class="s">https://sts.windows.net/9ac99957-7c90-4d4f-9993-d8a199928c05/</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.principal-field</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to <code class="docutils literal notranslate"><span class="pre">upn</span></code>.</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.principal-field</span><span class="o">=</span><span class="s">upn</span>
</pre></div>
</div>
</section>
<section id="configure-passthrough-authentication-settings">
<h4 id="configure-passthrough-authentication-settings">Configure passthrough authentication settings<a class="headerlink" href="#configure-passthrough-authentication-settings" title="Permalink to this heading">#</a></h4>
<p>Skip this step unless you are implementing passthrough authentication.</p>
<ol class="arabic simple">
<li><p>To configure Azure AD OAuth2 passthrough authentication, click <strong>API
permissions &gt; Add a permission</strong> again, and do the following, in the order
shown:</p>
<ul class="simple">
<li><p>Ensure that <strong>Microsoft APIs</strong> is selected at the top.</p></li>
<li><p>Select <strong>Azure Storage</strong> from the list of applications.</p></li>
<li><p>Check the box for <strong>Delegated permissions</strong>.</p></li>
<li><p>Check the box for <strong>user_impersonation</strong>.</p></li>
<li><p>Click the <strong>Add permission</strong> button.</p></li>
</ul>
</li>
<li><p>In the <strong>Authentication</strong> section, the following options must be checked as
appropriate for your environment:</p>
<ul class="simple">
<li><p><strong>Access tokens</strong> - Used for implicit flows</p></li>
<li><p><strong>ID tokens</strong> - Used for implicit and hybrid flows</p></li>
</ul>
</li>
<li><p>If you are using passthrough authentication, you must set the
<code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.additional-audiences</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator as a comma separated list with
<code class="docutils literal notranslate"><span class="pre">https://storage.azure.com</span></code> and the URL of your SEP coordinator:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.additional-audiences</span><span class="o">=</span><span class="s">https://storage.azure.com,https://sep-app-01.example.com</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.type</span></code> in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file
on the coordinator as follows:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.type</span><span class="o">=</span><span class="s">delegated-oauth2</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Once the authentication type is set to <code class="docutils literal notranslate"><span class="pre">delegated-oauth2</span></code>, you must change
the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code> configuration property
in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator as follows:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.scopes</span><span class="o">=</span><span class="s">https://storage.azure.com/user_impersonation,openid</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For <code class="docutils literal notranslate"><span class="pre">delegated-oauth2</span></code> you do not set your own scope.</p>
</div>
</section>
<section id="configure-endpoint-properties">
<h4 id="configure-endpoint-properties">Configure endpoint properties<a class="headerlink" href="#configure-endpoint-properties" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Go to <strong>Overview &gt; Endpoints</strong>.</p></li>
<li><p>Navigate to the <strong>OpenID Connect metadata document</strong>.</p></li>
<li><p>Find the <code class="docutils literal notranslate"><span class="pre">issuer</span></code> field and use its value to set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code> configuration property
in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator. For example:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.issuer</span><span class="o">=</span><span class="s">https://login.microsoftonline.com/9ac99957-7c90-4d4f-9993-d8a199928c05/v2.0</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Azure AD does not return <code class="docutils literal notranslate"><span class="pre">access_token_issuer</span></code> in OpenID Connect Metadata
document the provider metadata.</p>
<p>Access tokens in JWT format use a different issuer.</p>
</div>
</section>
<section id="configure-the-groups-field">
<h4 id="configure-the-groups-field">Configure the groups field<a class="headerlink" href="#configure-the-groups-field" title="Permalink to this heading">#</a></h4>
<p>The System for Cross-domain Identity Management (SCIM) protocol synchronizes
information about users and groups with external providers such as Azure AD. For
more information about SCIM, see <a class="reference internal" href="scim-provisioning.html"><span class="doc">SCIM user and group synchronization</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Azure group name is not used. The field is populated with the Object IDs
of the groups to which the user belongs.</p>
</div>
</section>
<section id="id3">
<h4 id="id3">Configuration properties values summary<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h4>
<p>The following table describes all configuration properties available to
configure SEP with OAuth 2.0 through Azure, and their values or source of the
the values. Identifiers shown are for purposes of example only.</p>
<table id="id15">
<caption><span class="caption-text">Azure configuration properties</span><a class="headerlink" href="#id15" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code></p></td>
<td><p>As copied from <strong>Overview &gt; Application (client) ID</strong> in the Azure Portal</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code></p></td>
<td><p>As copied from <strong>Certificates &amp; secrets</strong> in the Azure Portal</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://login.microsoftonline.com/9ac99957-7c90-4d4f-9993-d8a199928c05/v2.0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://organization.com/d858d999d-71d5-4e96-8da9-5ea4c999a8e1/&lt;scopename&gt;,openid</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.additional-audiences</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://storage.azure.com,https://sep-app-01.example.com</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.access-token-issuer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://sts.windows.net/9ac99957-7c90-4d4f-9993-d8a199928c05/</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.principal-field</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">upn</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="active-directory-federation-services">
<span id="oauth2-idp-adfs"></span><h3 id="active-directory-federation-services">Active Directory Federation Services<a class="headerlink" href="#active-directory-federation-services" title="Permalink to this heading">#</a></h3>
<p>OAuth 2.0 can be implemented for SEP in organizations using Active Directory
Federation services (ADFS). There are two tasks to complete:</p>
<ul class="simple">
<li><p>Create an ADFS application group</p></li>
<li><p>Configure the client</p></li>
</ul>
<p>The following sections describe the steps to complete these tasks.</p>
<section id="create-an-adfs-application-group">
<h4 id="create-an-adfs-application-group">Create an ADFS Application Group<a class="headerlink" href="#create-an-adfs-application-group" title="Permalink to this heading">#</a></h4>
<p>If you are using an existing ADFS application group you skip this step,
referring to it only as a guideline on where to obtain the required information.</p>
<ol class="arabic simple">
<li><p>Open the ADFS administrative UI.</p></li>
<li><p>Choose <strong>Application Groups &gt; Add Application Group</strong>.</p></li>
<li><p>Specify a name for your application group, for example <code class="docutils literal notranslate"><span class="pre">sep-app-group</span></code>, and
use the <strong>Server application</strong> template.</p></li>
<li><p>Enter the <a class="reference internal" href="oauth2.html"><span class="doc">OAuth 2.0 authentication</span></a> callback URL
<code class="docutils literal notranslate"><span class="pre">https://&lt;sep-coordinator-domain-name&gt;/oauth2/callback</span></code> for
<strong>Redirect URI</strong>.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client ID</strong> for the
application group displayed in the ADFS Administrative UI:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-id</span><span class="o">=</span><span class="s">&lt;Client ID displayed in the ADFS administrative UI&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>In the ADFS administrative UI, select <strong>Configure Application Credentials &gt;
Generate a shared secret</strong>.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client Secret</strong>
displayed in the ADFS administrative UI:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-secret</span><span class="o">=</span><span class="s">&lt;Client Secret displayed in ADFS administrative UI&gt;</span>
</pre></div>
</div>
</section>
<section id="id4">
<h4 id="id4">Configure the client<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>In the ADFS administrative UI, go to <strong>Service &gt; Endpoints</strong>.</p></li>
<li><p>Click <strong>OpenID Connect Discovery</strong>. Use the metadata to configure
<code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code> in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code>
file on the coordinator.</p></li>
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the following:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.scopes</span><span class="o">=</span><span class="s">openid</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.additional-audiences</span></code> property
in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the following:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.additional-audiences</span><span class="o">=</span><span class="s">urn:microsoft:userinfo</span>
</pre></div>
</div>
</section>
<section id="id5">
<h4 id="id5">Configuration properties values summary<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h4>
<p>The following table describes all configuration properties available to
configure SEP with OAuth 2.0 through ADFS, and their values or source of
the values:</p>
<table id="id16">
<caption><span class="caption-text">ADFS configuration properties</span><a class="headerlink" href="#id16" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.additional-audiences</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">urn:microsoft:userinfo</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code></p></td>
<td><p>As copied from <strong>Client ID</strong> displayed in the ADFS Administrative Console</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code></p></td>
<td><p>As copied from <strong>Client Secret</strong> displayed in the ADFS Administrative Console</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></td>
<td><p>As copied from the <a class="reference internal" href="#oauth2-providers-openid"><span class="std std-ref">OpenID metadata endpoint</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code></p></td>
<td><p>openid</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="keycloak">
<span id="oauth2-idp-keycloak"></span><h3 id="keycloak">Keycloak<a class="headerlink" href="#keycloak" title="Permalink to this heading">#</a></h3>
<p>This section provides specific information for setting up OAuth 2.0 for SEP
using Keycloak.</p>
<p>There are two tasks to complete:</p>
<ul class="simple">
<li><p>Create application</p></li>
<li><p>Configure the client</p></li>
</ul>
<p>The following sections describe the steps to complete these tasks.</p>
<section id="create-application">
<h4 id="create-application">Create application<a class="headerlink" href="#create-application" title="Permalink to this heading">#</a></h4>
<p>Use your existing realm, for example <code class="docutils literal notranslate"><span class="pre">myrealm</span></code> where your Keycloak instance
is configured to run on <code class="docutils literal notranslate"><span class="pre">https://example.com</span></code>. The base Keycloak URL to use
with the configuration properties in the this section becomes
<code class="docutils literal notranslate"><span class="pre">https://example.com/auth/realms/myrealm</span></code>.</p>
<ol class="arabic simple">
<li><p>In the Keycloak administrative UI, select your realm, and click
<strong>Configure &gt; Clients &gt; Create</strong>.</p></li>
<li><p>Provide a meaningful name for the SEP application in the <strong>Client ID</strong>
field, such as <code class="docutils literal notranslate"><span class="pre">starburst-sep</span></code>.</p></li>
<li><p>Set the <strong>Access Type</strong> field to <code class="docutils literal notranslate"><span class="pre">confidential</span></code>.</p></li>
<li><p>Set the <strong>Client Protocol</strong> field to <code class="docutils literal notranslate"><span class="pre">openid-connect</span></code>.</p></li>
<li><p>Click <strong>Save</strong>, then click <strong>Save</strong> again.</p></li>
<li><p>Open the <strong>Credentials</strong> tab to view the values for <code class="docutils literal notranslate"><span class="pre">Client</span> <span class="pre">ID</span></code> and
<code class="docutils literal notranslate"><span class="pre">Secret</span></code> needed to configure the client.</p></li>
<li><p>In the <strong>Redirect URIs</strong> field, enter the <a class="reference internal" href="oauth2.html"><span class="doc">OAuth 2.0 authentication</span></a> SEP callback
URL, <code class="docutils literal notranslate"><span class="pre">https://&lt;sep-coordinator-domain-name&gt;/oauth2/callback</span></code>.</p></li>
</ol>
</section>
<section id="id6">
<h4 id="id6">Configure the client<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client ID</strong> displayed
in Keycloak:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-id</span><span class="o">=</span><span class="s">&lt;Client ID displayed in Keycloak UI&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client Secret</strong>
displayed in the Keycloak <strong>Credentials</strong> tab:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-secret</span><span class="o">=</span><span class="s">&lt;Client Secret displayed in Keycloak UI&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to your realm’s base Keycloak
URL:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.issuer</span><span class="o">=</span><span class="s">&lt;base Keycloak URL for your realm&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the following:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.scopes</span><span class="o">=</span><span class="s">openid</span>
</pre></div>
</div>
</section>
<section id="id7">
<h4 id="id7">Configuration properties values summary<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h4>
<p>The following table describes all configuration properties available to
configure SEP with OAuth 2.0 through Keycloak:</p>
<table id="id17">
<caption><span class="caption-text">Keycloak configuration properties</span><a class="headerlink" href="#id17" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code></p></td>
<td><p>Client ID from Keycloak</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code></p></td>
<td><p>Client secret from Keycloak. Note: Only clients with access type set
to <code class="docutils literal notranslate"><span class="pre">Confidential</span></code> and at least one <code class="docutils literal notranslate"><span class="pre">Valid</span> <span class="pre">Redirect</span> <span class="pre">URIs</span></code> set has
secrets.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">{baseURL}</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">openid</span></code></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="google-cloud-platform">
<span id="oauth2-idp-gcp"></span><h3 id="google-cloud-platform">Google Cloud Platform<a class="headerlink" href="#google-cloud-platform" title="Permalink to this heading">#</a></h3>
<p>This section provides specific information for setting up OAuth 2.0 for SEP in
Google cloud Platform (GCP).</p>
<p>There are two tasks to complete:</p>
<ul class="simple">
<li><p>Create application</p></li>
<li><p>Configure the client</p></li>
</ul>
<p>The following sections describe the steps to complete these tasks.</p>
<section id="id8">
<h4 id="id8">Create application<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>In <a class="reference external" href="https://console.cloud.google.com/">Google Cloud Platform</a>
open <strong>APIs &amp; Services &gt; Credentials</strong>.</p></li>
<li><p>Click <strong>+ CREATE CREDENTIALS</strong> and <strong>OAuth client ID &gt; Web application</strong>.</p></li>
<li><p>Provide a meaningful name for the SEP application.</p></li>
<li><p>In the <strong>Authorized redirect URIs</strong>, enter the <a class="reference internal" href="oauth2.html"><span class="doc">OAuth 2.0 authentication</span></a> SEP callback
URL, <code class="docutils literal notranslate"><span class="pre">https://&lt;sep-coordinator-domain-name&gt;/oauth2/callback</span></code>.</p></li>
</ol>
</section>
<section id="id10">
<h4 id="id10">Configure the client<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client ID</strong> displayed
in GCP:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-id</span><span class="o">=</span><span class="s">&lt;Client ID displayed in GCP UI&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client Secret</strong>
displayed in GCP:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-secret</span><span class="o">=</span><span class="s">&lt;Client Secret displayed in GCP UI&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set the properties on the coordinator in the <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.issuer</span><span class="o">=</span><span class="s">https://accounts.google.com</span>
<span class="na">http-server.authentication.oauth2.principal-field</span><span class="o">=</span><span class="s">email</span>
<span class="na">http-server.authentication.oauth2.scopes</span><span class="o">=</span><span class="s">openid,https://www.googleapis.com/auth/userinfo.email</span>
<span class="na">http-server.authentication.oauth2.userinfo-url</span><span class="o">=</span><span class="s">https://openidconnect.googleapis.com/v1/userinfo</span>
</pre></div>
</div>
</section>
<section id="id11">
<h4 id="id11">Configuration properties values summary<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h4>
<p>The following table describes all configuration properties available to
configure SEP with OAuth 2.0 on GCP, and their values or source of the
values:</p>
<table id="id18">
<caption><span class="caption-text">Google configuration properties</span><a class="headerlink" href="#id18" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.authentication-type</span></code></p></td>
<td><p>oauth2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code></p></td>
<td><p>As copied from <strong>Client ID</strong> displayed in the GCP UI</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code></p></td>
<td><p>As copied from <strong>Client Server</strong> displayed in the GCP UI</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://accounts.google.com</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.principal-field</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">email</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.scopes</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">openid,https://www.googleapis.com/auth/userinfo.email</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.userinfo-url</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">https://openidconnect.googleapis.com/v1/userinfo</span></code></p></td>
</tr>
</tbody>
</table>
<p>For more information on Google APIs and OAuth 2.0, refer to <a class="reference external" href="https://developers.google.com/identity/protocols/oauth2">Using OAuth 2.0 to
Access Google APIs</a>.</p>
</section>
</section>
<section id="pingidentity">
<span id="oauth2-idp-pingid"></span><h3 id="pingidentity">PingIdentity<a class="headerlink" href="#pingidentity" title="Permalink to this heading">#</a></h3>
<p>This section provides specific information for setting up OAuth 2.0 for SEP in
PingIdentity (PingID). There are two tasks to complete:</p>
<ul class="simple">
<li><p>Create an OIDC application</p></li>
<li><p>Configure the client</p></li>
</ul>
<p>The following sections describe the steps to complete these tasks.</p>
<section id="create-an-oidc-application">
<h4 id="create-an-oidc-application">Create an OIDC application<a class="headerlink" href="#create-an-oidc-application" title="Permalink to this heading">#</a></h4>
<p>In PingIdentity, follow these steps:</p>
<ol class="arabic simple">
<li><p>In the <strong>Applications</strong> menu, create a new application using the OpenID
Connect protocol.</p></li>
<li><p>Configure the following on the <strong>Configuration</strong> tab of the new application:</p>
<ul class="simple">
<li><p><strong>Grant type</strong>: Authorization Code</p></li>
<li><p><strong>Redirect URI</strong>: <code class="docutils literal notranslate"><span class="pre">https://&lt;sep-coordinator-domain-name&gt;/oauth2/callback</span></code></p></li>
</ul>
</li>
<li><p>Collect the <strong>Issuer</strong>, <strong>Client ID</strong>, and <strong>Client Secret</strong> values to be
used later in configuration.</p></li>
<li><p>In the <strong>Attributes</strong> tab, create a custom attribute that maps the <code class="docutils literal notranslate"><span class="pre">sub</span></code>
attribute to the PingOne <code class="docutils literal notranslate"><span class="pre">Username</span></code> mapping with the <code class="docutils literal notranslate"><span class="pre">openid</span></code> scope.</p></li>
</ol>
</section>
<section id="id12">
<h4 id="id12">Configure the client<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client ID</strong> displayed
in PingIdentity:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-id</span><span class="o">=</span><span class="s">&lt;client ID&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Client Secret</strong>
displayed in PingIdentity:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.client-secret</span><span class="o">=</span><span class="s">&lt;client secret&gt;</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Set the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code> property in the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file on the coordinator to the <strong>Issuer</strong> URL displayed
in PingIdentity:</p></li>
</ol>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">http-server.authentication.oauth2.issuer</span><span class="o">=</span><span class="s">&lt;issuer URL&gt;</span>
</pre></div>
</div>
</section>
<section id="id13">
<h4 id="id13">Configuration properties values summary<a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h4>
<p>The following table describes all configuration properties available to
configure SEP with OAuth 2.0 through PingIdentity:</p>
<table id="id19">
<caption><span class="caption-text">PingIdentity configuration properties</span><a class="headerlink" href="#id19" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-id</span></code></p></td>
<td><p>Client ID from PingIdentity</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.client-secret</span></code></p></td>
<td><p>Client secret from PingIdentity</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></td>
<td><p>Issuer URL from PingIdentity</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="enable-oauth-for-power-bi-clients">
<span id="oauth-power-bi"></span><h2 id="enable-oauth-for-power-bi-clients">Enable OAuth for Power BI clients<a class="headerlink" href="#enable-oauth-for-power-bi-clients" title="Permalink to this heading">#</a></h2>
<p>In order for users to authenticate with OAuth SEP using
<a class="reference external" href="../../clients/powerbi.html">Microsoft Power BI</a>, you must
do the following:</p>
<ol class="arabic simple">
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.public-client-id</span></code> property to
your SEP coordinator node’s <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> file, and set its value
to the the PKCE client ID as registered in your OAuth provider.</p></li>
<li><p>Set your OAuth provider’s <code class="docutils literal notranslate"><span class="pre">redirect_uri</span></code> to
<code class="docutils literal notranslate"><span class="pre">https://oauth.powerbi.com/views/oauthredirect.html</span></code>.</p></li>
</ol>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="oauth2.html" title="OAuth 2.0 authentication"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> OAuth 2.0 authentication </span>
              </div>
            </a>
          
          
            <a href="okta-authentication.html" title="Okta authentication"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Okta authentication </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/starburst_KO-T.png" height="26"
                  alt="Starburst Enterprise 429-e.14 LTS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2023<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="https://docs.starburst.io/429-e/_static/algolia.js"></script>
<script src="https://docs.starburst.io/429-e/_static/searchbox.js" data-versions="{'Latest LTS (453-e)': '/453-e/', '443-e LTS': '/443-e/', '435-e LTS': '/435-e/', '429-e LTS': '/429-e/', 'Latest STS (454-e)': '/454-e/', '451-e STS': '/451-e/'}"></script>
<script src="https://docs.starburst.io/429-e/_static/searchresults.js" data-versions="{'Latest LTS (453-e)': '/453-e/', '443-e LTS': '/443-e/', '435-e LTS': '/435-e/', '429-e LTS': '/429-e/', 'Latest STS (454-e)': '/454-e/', '451-e STS': '/451-e/'}"></script>
  </body>
</html>