<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst | Iceberg table format</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst - Iceberg table format">
    <meta property="og:description" content="Your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/starburst-og-image.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <link rel="stylesheet" href="/assets/css/style.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114610397-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114610397-1');
</script>

<script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};
    heap.load("588835629");
</script>
<script>
  var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights@2.2.1";

  !function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
  (e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
  i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
  }(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Iceberg table format | Starburst</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Iceberg table format" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Your hub to all knowledge about Starburst products." />
<meta property="og:description" content="Your hub to all knowledge about Starburst products." />
<link rel="canonical" href="https://docs.starburst.io/starburst-galaxy/sql/gl-iceberg.html" />
<meta property="og:url" content="https://docs.starburst.io/starburst-galaxy/sql/gl-iceberg.html" />
<meta property="og:site_name" content="Starburst" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Iceberg table format" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Your hub to all knowledge about Starburst products.","headline":"Iceberg table format","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.starburst.io/assets/img/logo/starburst-reverse.png"}},"url":"https://docs.starburst.io/starburst-galaxy/sql/gl-iceberg.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>


<div class="wrap">
  

<header class="main-header navbar-expand-sm">
  <div class="navbar fixed-top navbar-dark">
    <div class="navbar-left-container">
      <a class="navbar-brand" href="https://www.starburst.io/">
        <img src="/assets/img/logo/starburst_KO-T.png" height="32" alt="Starburst">
      </a>
      <span class="navbar-divider"></span>
      <a href="/" class="header-text">Documentation</a>
    </div>
    
    <div class="nav-item dropdown" id="site-search">
  <div id="dropdownSearchDisplay" aria-labelledby="dropdownSearch">
    <div id="algolia-search">
      <div id="searchbox"></div>
      <div id="refinement-list">
        <h6>Filter:</h6>
      </div>
      <div id="hits"></div>
      <div id="stats"></div>
    </div>
  </div>
</div>

    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
    <nav class="primary-nav">
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-layout navbar-nav mr-auto">
          <li class="nav-item dropdown">
            <a id="get-started"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="Get started" data-is-click="false"
              href="/get-started/index.html">Get started</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/get-started/concepts.html">Concepts</a>
              <a class="dropdown-item" href="/get-started/architecture.html">Architecture</a>
              <a class="dropdown-item" href="/get-started/data-sources-catalogs.html">Data sources and catalogs</a>
              <a class="dropdown-item" href="/get-started/data-lake.html">Data lake</a>
              <a class="dropdown-item" href="/get-started/security.html">Security</a>
              <a class="dropdown-item" href="/get-started/choose-your-starburst-product.html">Choose your Starburst product</a>
              <a class="dropdown-item" href="/data-consumer/index.html">Data consumer</a>
              <a class="dropdown-item" href="/data-engineer/index.html">Data engineer</a>
              <a class="dropdown-item" href="/platform-administrator/index.html">Platform administrator</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="starburst-galaxy"
               class="nav-link dropdown-toggle active"
              
              aria-haspopup="true" aria-label="Starburst Galaxy" data-is-click="false"
              href="/starburst-galaxy/index.html">Starburst Galaxy</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/starburst-galaxy/get-started/index.html">Get started</a>
              <a class="dropdown-item" href="/starburst-galaxy/query/index.html">Query</a>
              <a class="dropdown-item" href="/starburst-galaxy/catalogs/index.html">Catalogs</a>
              <a class="dropdown-item" href="/starburst-galaxy/catalog-explorer/index.html">Catalog explorer</a>
              <a class="dropdown-item" href="/starburst-galaxy/clusters/index.html">Clusters</a>
              <a class="dropdown-item" href="/starburst-galaxy/data-products/index.html">Data products</a>
              <a class="dropdown-item" href="/starburst-galaxy/partner-connect.html">Partner connect</a>
              <a class="dropdown-item" href="/starburst-galaxy/admin/index.html">Admin</a>
              <a class="dropdown-item" href="/starburst-galaxy/access-control/index.html">Access control</a>
              <a class="dropdown-item" href="/starburst-galaxy/cloud-settings/index.html">Cloud settings</a>
              <a class="dropdown-item" href="/starburst-galaxy/security/index.html">Security</a>
              <a class="dropdown-item" href="/starburst-galaxy/sso/index.html">Single sign-on</a>
              <a class="dropdown-item" href="/starburst-galaxy/troubleshooting/index.html">Troubleshooting</a>
              <a class="dropdown-item" href="/starburst-galaxy/api.html">API</a>
              <a class="dropdown-item" href="/starburst-galaxy/sql/index.html">SQL</a>
              <a class="dropdown-item" href="/starburst-galaxy/tutorials/index.html">Tutorials</a>
              <a class="dropdown-item" href="/starburst-galaxy/global/get-support.html">Galaxy support</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="starburst-enterprise"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="Get started" data-is-click="false"
              href="/starburst-enterprise/index.html">Starburst Enterprise</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/starburst-enterprise/try/index.html">Try Starburst Enterprise</a>
              <a class="dropdown-item" href="/starburst-enterprise/web-ui/index.html">Web UI</a>
              <a class="dropdown-item" href="/starburst-enterprise/sql.html">SQL</a>
              <a class="dropdown-item" href="/starburst-enterprise/admin-topics/index.html">Administration</a>
              <a class="dropdown-item" href="/starburst-enterprise/k8s/index.html">Kubernetes deployments</a>
              <a class="dropdown-item" href="/starburst-enterprise/starburst-admin/index.html">Starburst Admin</a>
              <a class="dropdown-item" href="/latest/index.html">Reference documentation</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="ecosystems"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="Get started" data-is-click="false"
              href="/ecosystems/index.html">Ecosystems</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/ecosystems/amazon/index.html">Amazon AWS</a>
              <a class="dropdown-item" href="/ecosystems/google/index.html">Google Cloud</a>
              <a class="dropdown-item" href="/ecosystems/microsoft/index.html">Microsoft Azure</a>
              <a class="dropdown-item" href="/ecosystems/redhat/index.html">Red Hat OpenShift</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="resources"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="resources" data-is-click="false"
              href="/resources.html">Resources</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/support.html">Support</a>
              <a class="dropdown-item" href="/security/index.html">Security</a>
              <a class="dropdown-item" href="https://www.starburst.io/blog/technical">Technical blog</a>
              <a class="dropdown-item" href="/videos/index.html">Video library</a>
              <a class="dropdown-item" href="https://academy.starburst.io/">Starburst Academy</a>
              <a class="dropdown-item" href="/glossary.html">Glossary</a>
              <a class="dropdown-item" href="/conventions.html">Conventions</a>
              <a class="dropdown-item" href="/iconography.html">Iconography</a>
              <a class="dropdown-item" href="https://www.starburst.io/community/forum/">Starburst forum</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
</header>

  
  <div class="content">
    <div class="row">
      <div class="col-md-3 side-navigation">
        <div class="spacer-60 toc-sticky left-nav">
          
          <div>
    <h6 class="overline product-nav-title">Starburst Galaxy</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/starburst-galaxy/index.html" >Starburst Galaxy Home</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('sg-get-started');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Get started
  </a>
</li>

<ul id="sg-get-started" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/get-started/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/get-started/sign-up.html" >Sign up for Starburst Galaxy</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/get-started/try-your-first-query.html" >Try your first query</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/get-started/create-object-storage-catalog.html" >Create an object storage catalog</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/get-started/create-rdbms-catalog.html" >Create a relational database catalog</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/get-started/tableau-and-galaxy.html" >Use Galaxy with Tableau</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('global');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Global features
  </a>
</li>

<ul id="global" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/global/global-search.html" >Universal search</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/global/notifications.html" >Notifications</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/global/help-menu.html" >Help menu</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/global/personalize.html" >Personalize</a>
  </li>
  
  
</ul>



 
  
    
    
<li >
  <a href="/starburst-galaxy/global/get-support.html" >Get support</a>
</li>
  



 
  
    
    
<li >
  <a href="/starburst-galaxy/release-notes.html" >Release notes</a>
</li>
  



 
  
    
    
<li >
  <a href="/starburst-galaxy/feature-release-types.html" >Feature release types</a>
</li>
  



<hr />

 
  
    
    
<li >
  <a href="/starburst-galaxy/sg-nav-section-ui.html" >Starburst Galaxy UI</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('query');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Query
  </a>
</li>

<ul id="query" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/query/index.html" >Query overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/query/query-editor.html" >Query editor</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/query/saved-queries.html" >Saved queries</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/query/query-history.html" >Query history</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/query/query-details.html" >Query details</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/query/clients.html" >Clients</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('catalogs');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Catalogs
  </a>
</li>

<ul id="catalogs" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/s3.html" >Amazon S3</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/redshift.html" >Amazon Redshift</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/druid.html" >Apache Druid</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/pinot.html" >Apache Pinot</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/adls.html" >Azure Data Lake Storage</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/synapse.html" >Azure Synapse</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/elasticsearch.html" >Elasticsearch</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/galaxy_telemetry.html" >Galaxy Telemetry</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/bigquery.html" >Google BiqQuery</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/gcs.html" >Google Cloud Storage</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/google-sheets.html" >Google Sheets</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/mariadb.html" >MariaDB</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/mongodb.html" >MongoDB</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/mysql.html" >MySQL</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/oracle.html" >Oracle</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/postgresql.html" >PostgreSQL</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/snowflake.html" >Snowflake</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/sqlserver.html" >SQL Server</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/tabular.html" >Tabular</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/covid-19.html" >COVID-19 data lake</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/sample.html" >Sample dataset</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/tpch.html" >TPC-H dataset</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalogs/tpcds.html" >TPC-DS dataset</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('catalog-explorer');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Catalog explorer
  </a>
</li>

<ul id="catalog-explorer" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalog-explorer/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalog-explorer/catalog-level.html" >Catalog level</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalog-explorer/schema-level.html" >Schema level</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalog-explorer/table-level.html" >Table or view level</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/catalog-explorer/schema-discovery.html" >Schema discovery</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('data-products');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Data products
  </a>
</li>

<ul id="data-products" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/data-products/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/data-products/markdown.html" >Markdown</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('clusters');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Clusters
  </a>
</li>

<ul id="clusters" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/clusters/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/clusters/cluster-utilization.html" >Cluster utilization</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/clusters/cross-region-support.html" >Cross-region support</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/clusters/fault-tolerant-execution.html" >Fault-tolerant execution</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/clusters/warp-speed.html" >Starburst Warp Speed</a>
  </li>
  
  
</ul>



 
  
    
    
<li >
  <a href="/starburst-galaxy/partner-connect.html" >Partner connect</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('admin');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Admin
  </a>
</li>

<ul id="admin" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/admin/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/admin/audit-log.html" >Audit log</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/admin/cluster-config.html" >Cluster configurations</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/admin/cluster-scheduling.html" >Cluster configurations - Cluster scheduling</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/admin/usage-billing.html" >Usage and billing</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/admin/notification-settings.html" >Notification settings</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('access-control');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Access control
  </a>
</li>

<ul id="access-control" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/users.html" >Users</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/roles-privileges.html" >Roles and privileges</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/groups.html" >Groups</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/sso-intro.html" >Single sign-on</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/api-auth-token.html" >API auth token</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/service-accounts.html" >Service accounts</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/tags.html" >Tags</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/row-filters.html" >Row filters</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/column-masks.html" >Column masks</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/access-control/oauth-clients.html" >OAuth clients</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('cloud-settings');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Cloud settings
  </a>
</li>

<ul id="cloud-settings" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/cloud-settings/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/cloud-settings/aws.html" >AWS</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/cloud-settings/azure.html" >Azure</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/cloud-settings/google-cloud.html" >Google Cloud</a>
  </li>
  
  
</ul>



<hr />

 
  
    
    
<li >
  <a href="/starburst-galaxy/sg-nav-section-admin.html" >Administration</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('security');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Security
  </a>
</li>

<ul id="security" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/access-control.html" >Access control</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/roles.html" >Roles</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/entities.html" >Entities</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/privileges.html" >Privileges</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/policies.html" >Policies</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/external-aws.html" >External security in AWS</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/external-azure.html" >External security in Azure</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/ip-allowlist.html" >IP allowlist</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/ssh-tunnels.html" >SSH tunnels</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/ssh-bastion-aws.html" >Example bastion host on AWS</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/security/privatelink.html" >AWS PrivateLink</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('sso');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Single sign-on
  </a>
</li>

<ul id="sso" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/okta-saml-setup.html" >Okta SAML setup</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/okta-scim-setup.html" >Okta SCIM setup</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/azure-saml-setup.html" >Azure SAML setup</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/azure-scim-setup.html" >Azure SCIM setup</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/google-saml-setup.html" >Google Workspace SAML setup</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/generic-idp.html" >Generic IdP setup</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/sso-delete.html" >Delete an SSO provider</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sso/sso-client-access.html" >SSO client access</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('troubleshooting');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Troubleshooting
  </a>
</li>

<ul id="troubleshooting" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/troubleshooting/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/troubleshooting/catalogs.html" >Catalogs</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/troubleshooting/clusters.html" >Clusters</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/troubleshooting/query-processing.html" >Query processing</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/troubleshooting/sql.html" >SQL</a>
  </li>
  
  
</ul>



 
  
    
    
<li >
  <a href="https://status.galaxy.starburst.io/" >Galaxy status</a>
</li>
  



<hr />

 
  
    
    
<li >
  <a href="/starburst-galaxy/sg-nav-section-reference.html" >Reference</a>
</li>
  



 
  
    
    
<li >
  <a href="/starburst-galaxy/api.html" >API</a>
</li>
  



 





<li  class="active" 
    onclick="toggle_navigation_visibility('sql');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    SQL
  </a>
</li>

<ul id="sql" class="doc-subnav ">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sql/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sql/great-lakes.html" >Great Lakes connectivity</a>
  </li>
  
  
  
    
    
    
  <li class="active"
      
    >
    <a href="/starburst-galaxy/sql/gl-iceberg.html" >Iceberg table format</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sql/gl-deltalake.html" >Delta Lake table format</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sql/gl-hive.html" >Hive table format</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/sql/gl-hudi.html" >Hudi table format</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('tutorials');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    <i class="fa-solid fa-angle-right nav-icon"></i>&nbsp;
    Tutorials
  </a>
</li>

<ul id="tutorials" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/query-data-lake.html" >Query the COVID-19 data lake</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/query-federation.html" >Federate multiple data sources</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/learn-basics.html" >Learn SQL basics</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/learn-decision-logic.html" >Learn SQL decision logic</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/learn-window-functions.html" >Learn SQL window functions</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-galaxy/tutorials/learn-complex-grouping.html" >Learn complex grouping with SQL</a>
  </li>
  
  
</ul>




          
        </div>
      </div>
      <div class="col-md-9 col-lg-6 spacer-30 docs-content">
        



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/starburst-galaxy/"
        style="text-transform: uppercase"
      > starburst galaxy</a> >
    
  
    
      <a href="/starburst-galaxy/sql/"
        style="text-transform: uppercase"
      > sql</a> >
    
  
    
      Iceberg table format
    
  </p>
</div>

        <h1 id="iceberg-table-format">
        
        
          Iceberg table format <a href="#iceberg-table-format" class="titleAnchor">#</a>
        
        
      </h1>
    

<p><a href="./great-lakes.html">Great Lakes connectivity</a> abstracts the details of using
different table formats and file types when using <a href="../catalogs/index.html#object-storage">object
storage</a> catalogs.</p>

<p>This page describes the features specific to the Iceberg table format when used
with Great Lakes connectivity.</p>
      <h2 id="specify-iceberg-format">
        
        
          Specify Iceberg format <a href="#specify-iceberg-format" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Apache Iceberg is an open table format for huge analytic datasets.
Starburst Galaxy allows querying data stored in files written in the Iceberg
format, as defined in the <a href="https://iceberg.apache.org/spec/">Iceberg Table
Spec</a>. Iceberg tables are automatically
detected and read based on information in the storage environment’s associated
metadata.</p>

<p>For an object storage catalog that specifies Iceberg as its <a href="../sql/great-lakes.html#specify-default-table-format">default table
format</a>, no special syntax
is required. A simple <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statement creates an Iceberg format table.</p>

<p>To create an Iceberg table when the default format is not Iceberg, add
<code class="language-plaintext highlighter-rouge">type='iceberg'</code> as a table property in your <code class="language-plaintext highlighter-rouge">CREATE</code> statement. For example:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">customer</span> <span class="p">(</span>
    <span class="n">name</span> <span class="nb">varchar</span><span class="p">,</span>
    <span class="n">address</span> <span class="nb">varchar</span><span class="p">)</span>
<span class="k">WITH</span> <span class="p">(</span><span class="k">type</span><span class="o">=</span><span class="s1">'iceberg'</span><span class="p">);</span>
</code></pre></div></div>

<p>Specify the file format of table data files with an additional <code class="language-plaintext highlighter-rouge">format</code> property
with value either <code class="language-plaintext highlighter-rouge">parquet</code> or <code class="language-plaintext highlighter-rouge">orc</code>, defaulting to <code class="language-plaintext highlighter-rouge">orc</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">...</span>
<span class="k">WITH</span> <span class="p">(</span><span class="k">type</span><span class="o">=</span><span class="s1">'iceberg'</span><span class="p">,</span>
      <span class="n">format</span><span class="o">=</span><span class="s1">'parquet'</span><span class="p">);</span>
</code></pre></div></div>
      <h2 id="iceberg-table-properties">
        
        
          Iceberg table properties <a href="#iceberg-table-properties" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>In your <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statements, append further comma-separated table
properties as needed:</p>

<table>
  <thead>
    <tr>
      <th>Table property</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>format</code></td>
      <td>Specifies the format of table data files: either <code>PARQUET</code>,
      <code>ORC</code>, or <code>AVRO</code>. Defaults to <code>ORC</code>.</td>
    </tr>
    <tr>
      <td><code>partitioning</code></td>
      <td>Specifies table partitioning. If a table is partitioned by
      columns <code>c1</code> and <code>c2</code>, this property setting is
      <code>partitioning=ARRAY['c1', 'c2']</code>.</td>
    </tr>
    <tr>
      <td><code>location</code></td>
      <td>Specifies the file system location URI for the table.</td>
    </tr>
    <tr>
      <td><code>format_version</code></td>
      <td>Specifies the format version of the Iceberg specification,
      either <code>1</code> or <code>2</code>. For example
      <code>format_version=1</code>.</td>
    </tr>
    <tr>
      <td><code>orc_bloom_filter_columns</code></td>
      <td>Comma-separated list of columns to use for ORC bloom filter. Improves
      the performance of queries using equality and IN predicates when reading
      ORC files. Requires ORC format. Defaults to <code>[]</code>.</td>
    </tr>
    <tr>
      <td><code>orc_bloom_filter_fpp</code></td>
      <td>The ORC bloom filters false positive probability. Requires ORC format.
      Defaults to <code>0.05</code>.</td>
    </tr>
  </tbody>
</table>
      <h2 id="iceberg-metadata-tables">
        
        
          Iceberg metadata tables <a href="#iceberg-metadata-tables" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Metadata tables reveal information about the internal structure of an Iceberg
table. Each Iceberg table has the following metadata tables:</p>

<table>
  <thead>
    <tr>
      <th>Metadata table</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>$properties</code></td>
      <td>Provides general configuration information including key-value tags.</td>
    </tr>
    <tr>
      <td><code>$history</code></td>
      <td>Provides a log of the metadata changes made to the table.</td>
    </tr>
    <tr>
      <td><code>$snapshots</code></td>
      <td>Provides a detailed view of snapshots of the table.</td>
    </tr>
    <tr>
      <td><code>$manifests</code></td>
      <td>Provides a detailed view of the manifests corresponding to the
      snapshots of the table.</td>
    </tr>
    <tr>
      <td><code>$partitions</code></td>
      <td>Provides a detailed view of the partitions of the table.</td>
    </tr>
    <tr>
      <td><code>$files</code></td>
      <td>Provides a detailed view of the data files in current snapshot of
      the table.</td>
    </tr>
    <tr>
      <td><code>$refs</code></td>
      <td>Provides information about the references of a table, including
      branches and tags.</td>
    </tr>
  </tbody>
</table>

<p>Query a metadata table by appending the metadata table name to a table
name with a <code class="language-plaintext highlighter-rouge">$</code> separator:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="nv">"customer$history"</span><span class="p">;</span>
</code></pre></div></div>
      <h2 id="table-procedures">
        
        
          Table procedures <a href="#table-procedures" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Use the <code class="language-plaintext highlighter-rouge">CALL</code> statement to perform data manipulation or administrative tasks.
Procedures must include a qualified catalog name. For example, for a catalog
named <code class="language-plaintext highlighter-rouge">examplecatalog</code>:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CALL</span> <span class="n">examplecatalog</span><span class="p">.</span><span class="k">system</span><span class="p">.</span><span class="n">example_procedure</span><span class="p">();</span>
</code></pre></div></div>

<p>The following <strong>Iceberg</strong> table procedures are available:</p>
      <h3 id="rollback_to_snapshot">
        
        
          rollback_to_snapshot <a href="#rollback_to_snapshot" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">system</span><span class="p">.</span><span class="n">rollback_to_snapshot</span><span class="p">(</span><span class="s1">'schema_name'</span><span class="p">,</span> <span class="s1">'table_name'</span><span class="p">,</span> <span class="mi">8954597067493422955</span><span class="p">)</span>
</code></pre></div></div>
<p>Allows the caller to roll back the state of the table to a previous snapshot ID.</p>
      <h3 id="alter-table-execute">
        
        
          ALTER TABLE EXECUTE <a href="#alter-table-execute" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>The <a href="./ref/sql/alter-table.html">ALTER TABLE EXECUTE</a> statement followed by a
command and parameters modifies the table according to the specified procedure
and parameters. For Iceberg tables, <code class="language-plaintext highlighter-rouge">ALTER TABLE EXECUTE</code> supports the
following commands:</p>

<ul>
  <li><a href="#optimize">optimize</a></li>
  <li><a href="#drop_extended_stats">drop_extended_stats</a></li>
  <li><a href="#expire_snapshots">expire_snapshots</a></li>
  <li><a href="#remove_orphan_files">remove_orphan_files</a></li>
</ul>

<p>Use the <code class="language-plaintext highlighter-rouge">=&gt;</code> operator for passing named parameter values. The left side is
the name of the parameter and the right side is the value being passed:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">catalog_name</span><span class="p">.</span><span class="k">schema_name</span><span class="p">.</span><span class="k">table_name</span> <span class="k">EXECUTE</span> <span class="n">optimize</span><span class="p">(</span><span class="n">file_size_threshold</span> <span class="o">=&gt;</span> <span class="s1">'10MB'</span><span class="p">);</span>
</code></pre></div></div>
      <h4 id="optimize">
        
        
          optimize <a href="#optimize" class="titleAnchor">#</a>
        
        
      </h4>
    

<p>The <code class="language-plaintext highlighter-rouge">optimize</code> procedure improves read performance by rewriting the content of a
specific table to reduce the number of files. This process increases file size.
If the table is partitioned, the data compaction acts separately on each
partition selected for optimization.</p>

<p>All files with a size below the optional <code class="language-plaintext highlighter-rouge">file_size_threshold</code> parameter are
merged. The default value is <code class="language-plaintext highlighter-rouge">100MB</code>.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">catalog_name</span><span class="p">.</span><span class="k">schema_name</span><span class="p">.</span><span class="k">table_name</span> <span class="k">EXECUTE</span> <span class="n">optimize</span><span class="p">;</span>
</code></pre></div></div>

<p>The following statement merges files in a table that are under the <code class="language-plaintext highlighter-rouge">10MB</code> file
size threshold:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">catalog_name</span><span class="p">.</span><span class="k">schema_name</span><span class="p">.</span><span class="k">table_name</span> <span class="k">EXECUTE</span> <span class="n">optimize</span><span class="p">(</span><span class="n">file_size_threshold</span> <span class="o">=&gt;</span> <span class="s1">'10MB'</span><span class="p">);</span>
</code></pre></div></div>

<p>Optimize specific partitions using a <code class="language-plaintext highlighter-rouge">WHERE</code> clause with the columns used as
<code class="language-plaintext highlighter-rouge">partition_key</code> value.</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="n">partitioned_table_name</span> <span class="k">EXECUTE</span> <span class="n">optimize</span>
<span class="k">WHERE</span> <span class="n">partition_key</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</code></pre></div></div>
      <h4 id="drop_extended_stats">
        
        
          drop_extended_stats <a href="#drop_extended_stats" class="titleAnchor">#</a>
        
        
      </h4>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">catalog_name</span><span class="p">.</span><span class="k">schema_name</span><span class="p">.</span><span class="k">table_name</span> <span class="k">EXECUTE</span> <span class="n">drop_extended_stats</span><span class="p">;</span>
</code></pre></div></div>

<p>Removes all extended statistics information from the table.</p>
      <h4 id="expire_snapshots">
        
        
          expire_snapshots <a href="#expire_snapshots" class="titleAnchor">#</a>
        
        
      </h4>
    

<p>The <code class="language-plaintext highlighter-rouge">expire_snapshots</code> procedure removes all snapshots and all related metadata
and data files. Regularly expiring snapshots is recommended to delete data files
that are no longer needed, and to keep the size of table metadata small. The
procedure affects all snapshots that are older than the time period configured
with the <code class="language-plaintext highlighter-rouge">retention_threshold</code> parameter. The following example changes the
threshold to a value of nine days:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">catalog_name</span><span class="p">.</span><span class="k">schema_name</span><span class="p">.</span><span class="k">table_name</span> <span class="k">EXECUTE</span> <span class="n">expire_snapshots</span><span class="p">(</span><span class="n">retention_threshold</span> <span class="o">=&gt;</span> <span class="s1">'9d'</span><span class="p">);</span>
</code></pre></div></div>

<p>The value for <code class="language-plaintext highlighter-rouge">retention_threshold</code> must be higher than or equal to the default
value of <code class="language-plaintext highlighter-rouge">7d</code>. Otherwise, the procedure fails with a message similar to:</p>

<blockquote>
  <p>Retention specified (1d) is shorter than the minimum retention configured in
  the system (7d). The default value is <code class="language-plaintext highlighter-rouge">7d</code>.</p>
</blockquote>
      <h4 id="remove_orphan_files">
        
        
          remove_orphan_files <a href="#remove_orphan_files" class="titleAnchor">#</a>
        
        
      </h4>
    

<p>The <code class="language-plaintext highlighter-rouge">remove_orphan_files</code> procedure removes all files from a table’s data
directory that are not associated with metadata files. It also removes files
that are older than the value of the <code class="language-plaintext highlighter-rouge">retention_threshold</code> parameter. Deleting
orphaned files periodically is recommended to keep the size of a table’s data
directory under control. The following example changes the <code class="language-plaintext highlighter-rouge">retention_threshold</code>
to nine days:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">catalog_name</span><span class="p">.</span><span class="k">schema_name</span><span class="p">.</span><span class="k">table_name</span> <span class="k">EXECUTE</span> <span class="n">remove_orphan_files</span><span class="p">(</span><span class="n">retention_threshold</span> <span class="o">=&gt;</span> <span class="s1">'9d'</span><span class="p">);</span>
</code></pre></div></div>

<p>The value for <code class="language-plaintext highlighter-rouge">retention_threshold</code> must be higher than or equal to the default
value of <code class="language-plaintext highlighter-rouge">7d</code>. Otherwise, the procedure fails with a message similar to:</p>

<blockquote>
  <p>Retention specified (1d) is shorter than the minimum retention configured in
  the system (7d). The default value is <code class="language-plaintext highlighter-rouge">7d</code>.</p>
</blockquote>
      <h2 id="migrate-hive-to-iceberg">
        
        
          Migrate Hive to Iceberg <a href="#migrate-hive-to-iceberg" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Migration from <a href="./gl-hive.html">Hive</a> to <a href="./gl-iceberg.html">Iceberg</a> table
format is supported.</p>

<p>The migration process uses the <code class="language-plaintext highlighter-rouge">ALTER TABLE SET PROPERTIES</code> syntax. See more
information on the <a href="./gl-hive.html#migrate-to-iceberg">Hive table format</a> page.</p>
      <h2 id="session-properties">
        
        
          Session properties <a href="#session-properties" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>A <a href="./ref/sql/set-session.html">session property</a> temporarily modifies an
internal Starburst Galaxy setting for the duration of the current connection
session to the cluster. Use the <code class="language-plaintext highlighter-rouge">SET SESSION</code> statement followed by the property
name, then a value such as <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code> to modify the property:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">session_property</span> <span class="o">=</span> <span class="n">expression</span><span class="p">;</span>
</code></pre></div></div>

<p>Use the <a href="./ref/sql/show-session.html">SHOW SESSION</a> statement to view all
current session properties. For additional information, read about the <a href="./ref/sql/set-session.html">SET
SESSION</a>, and <a href="./ref/sql/reset-session.html">RESET
SESSION</a> SQL statements.</p>

<p><strong>Catalog session properties</strong> are internal session properties that can be set
on a per-catalog basis. These properties must be set separately for each catalog
by including the catalog name before the property name, for example,
<code class="language-plaintext highlighter-rouge">catalog_name.property_name</code>.</p>

<p>Session properties are linked to the current session, which lets you have
multiple connections to a cluster that each have different values for the same
session properties. Once a session ends, either by disconnecting or creating a
new session, any changes made to session properties during the previous session
are lost.</p>

<p>The following sections describe the session properties supported by <strong>Iceberg</strong>
table type:</p>
      <h3 id="collect_extended_statistics_on_write">
        
        
          collect_extended_statistics_on_write <a href="#collect_extended_statistics_on_write" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">collect_extended_statistics_on_write</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Collect extended statistics while writing files. The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="compression_codec">
        
        
          compression_codec <a href="#compression_codec" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">compression_codec</span> <span class="o">=</span> <span class="s1">'DEFAULT'</span><span class="p">;</span>
</code></pre></div></div>

<p>The compression codec is used when writing new data files. The possible values
are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">NONE</code></li>
  <li><code class="language-plaintext highlighter-rouge">DEFAULT</code></li>
  <li><code class="language-plaintext highlighter-rouge">SNAPPY</code></li>
  <li><code class="language-plaintext highlighter-rouge">LZ4</code></li>
  <li><code class="language-plaintext highlighter-rouge">ZSTD</code></li>
  <li><code class="language-plaintext highlighter-rouge">GZIP</code></li>
</ul>

<p>The default value is <code class="language-plaintext highlighter-rouge">DEFAULT</code>.</p>
      <h3 id="dynamic_filtering_wait_timeout">
        
        
          dynamic_filtering_wait_timeout <a href="#dynamic_filtering_wait_timeout" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">dynamic_filtering_wait_timeout</span> <span class="o">=</span> <span class="s1">'10s'</span><span class="p">;</span>
</code></pre></div></div>

<p>The duration to wait for completion of dynamic filtering during split
generation. Dynamic filtering optimizations significantly improve the
performance of queries with selective joins by avoiding reading of data that
would be filtered by join conditions.</p>

<p>This extra wait time can potentially result in significant overall savings in
query and CPU time, if dynamic filtering is able to reduce the amount of scanned
data. In the previous example, the <code class="language-plaintext highlighter-rouge">dynamic_filtering_wait_timeout</code> is set to
<code class="language-plaintext highlighter-rouge">10</code> seconds.</p>
      <h3 id="expire_snapshots_min_retention">
        
        
          expire_snapshots_min_retention <a href="#expire_snapshots_min_retention" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">expire_snapshots_min_retention</span> <span class="o">=</span> <span class="s1">'7d'</span><span class="p">;</span>
</code></pre></div></div>

<p>The minimum retention period for the <code class="language-plaintext highlighter-rouge">expire_snapshot</code> procedure. The default
value is <code class="language-plaintext highlighter-rouge">7d</code>.</p>
      <h3 id="extended_statistics_enabled">
        
        
          extended_statistics_enabled <a href="#extended_statistics_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">extended_statistics_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enables statistics collection with the <a href="./ref/sql/analyze.html">ANALYZE</a>
statement and the use of extended statistics. The default value is <code class="language-plaintext highlighter-rouge">true</code>. The
<a href="#statistics_enabled">statistics_enabled</a> session property must be set to
<code class="language-plaintext highlighter-rouge">true</code>. Otherwise, the collection of any statistics is disabled.</p>

<p>Use the <code class="language-plaintext highlighter-rouge">ANALYZE</code> statement to populate data size and number of distinct values
(NDV) extended table statistics in Iceberg. The minimum value, maximum value,
value count, and null value count statistics are computed on the fly out of the
transaction log of the Iceberg table.</p>
      <h3 id="merge_manifests_on_write">
        
        
          merge_manifests_on_write <a href="#merge_manifests_on_write" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">merge_manifests_on_write</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Compact the manifest files when performing write operations. The default value
is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="minimum_assigned_split_weight">
        
        
          minimum_assigned_split_weight <a href="#minimum_assigned_split_weight" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">minimum_assigned_split_weight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">05</span><span class="p">;</span>
</code></pre></div></div>

<p>The minimum assigned split weight when size based split weighting is enabled.
The default value is <code class="language-plaintext highlighter-rouge">0.05</code>.</p>
      <h3 id="orc_bloom_filters_enabled">
        
        
          orc_bloom_filters_enabled <a href="#orc_bloom_filters_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_bloom_filters_enabled</span> <span class="o">=</span> <span class="nv">`false`</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable bloom filters for predicate pushdown. The default value is <code class="language-plaintext highlighter-rouge">false</code>.</p>
      <h3 id="orc_lazy_read_small_ranges">
        
        
          orc_lazy_read_small_ranges <a href="#orc_lazy_read_small_ranges" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_lazy_read_small_ranges</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Read small file segments lazily. The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="orc_max_buffer_size">
        
        
          orc_max_buffer_size <a href="#orc_max_buffer_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_max_buffer_size</span> <span class="o">=</span> <span class="s1">'8MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>Maximum size of a single read. The default value is <code class="language-plaintext highlighter-rouge">8MB</code>.</p>
      <h3 id="orc_max_merge_distance">
        
        
          orc_max_merge_distance <a href="#orc_max_merge_distance" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_max_merge_distance</span> <span class="o">=</span> <span class="s1">'1MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>Maximum size of the gap between two reads to merge into a single read. The
default value is <code class="language-plaintext highlighter-rouge">1MB</code>.</p>
      <h3 id="orc_max_read_block_size">
        
        
          orc_max_read_block_size <a href="#orc_max_read_block_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_max_read_block_size</span> <span class="o">=</span> <span class="s1">'16MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>Soft maximum size of Trino blocks produced by the ORC reader. The default value
is <code class="language-plaintext highlighter-rouge">16MB</code>.</p>
      <h3 id="orc_native_zstd_decompressor_enabled">
        
        
          orc_native_zstd_decompressor_enabled <a href="#orc_native_zstd_decompressor_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_native_zstd_decompressor_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable using native <code class="language-plaintext highlighter-rouge">zstd</code> library for faster decompression of ORC files. The
default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="orc_nested_lazy_enabled">
        
        
          orc_nested_lazy_enabled <a href="#orc_nested_lazy_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_nested_lazy_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Lazily read nested data. The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="orc_stream_buffer_size">
        
        
          orc_stream_buffer_size <a href="#orc_stream_buffer_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_stream_buffer_size</span> <span class="o">=</span> <span class="s1">'8MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>Size of buffer for streaming reads. The default value is <code class="language-plaintext highlighter-rouge">8MB</code>.</p>
      <h3 id="orc_string_statistics_limit">
        
        
          orc_string_statistics_limit <a href="#orc_string_statistics_limit" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_string_statistics_limit</span> <span class="o">=</span> <span class="s1">'64B'</span><span class="p">;</span>
</code></pre></div></div>

<p>Maximum size of the string statistics. The default value is <code class="language-plaintext highlighter-rouge">64B</code>.</p>
      <h3 id="orc_tiny_stripe_threshold">
        
        
          orc_tiny_stripe_threshold <a href="#orc_tiny_stripe_threshold" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_tiny_stripe_threshold</span> <span class="o">=</span> <span class="s1">'8MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The threshold below which an ORC stripe or file will read in its entirety. The
default value is <code class="language-plaintext highlighter-rouge">8MB</code>.</p>
      <h3 id="orc_writer_max_dictionary_memory">
        
        
          orc_writer_max_dictionary_memory <a href="#orc_writer_max_dictionary_memory" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_writer_max_dictionary_memory</span> <span class="o">=</span> <span class="s1">'16MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The maximum dictionary memory. The default value is <code class="language-plaintext highlighter-rouge">16MB</code>.</p>
      <h3 id="orc_writer_max_stripe_rows">
        
        
          orc_writer_max_stripe_rows <a href="#orc_writer_max_stripe_rows" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_writer_max_stripe_rows</span> <span class="o">=</span> <span class="mi">10000000</span><span class="p">;</span>
</code></pre></div></div>

<p>The maximum stripe row count. The default value is <code class="language-plaintext highlighter-rouge">10000000</code>.</p>
      <h3 id="orc_writer_max_stripe_size">
        
        
          orc_writer_max_stripe_size <a href="#orc_writer_max_stripe_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_writer_max_stripe_size</span> <span class="o">=</span> <span class="s1">'64MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The maximum stripe size. The default is <code class="language-plaintext highlighter-rouge">64MB</code>.</p>
      <h3 id="orc_writer_min_stripe_size">
        
        
          orc_writer_min_stripe_size <a href="#orc_writer_min_stripe_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_writer_min_stripe_size</span> <span class="o">=</span> <span class="s1">'32MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The minimum stripe size. The default is <code class="language-plaintext highlighter-rouge">32MB</code>.</p>
      <h3 id="orc_writer_validate_mode">
        
        
          orc_writer_validate_mode <a href="#orc_writer_validate_mode" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_writer_validate_mode</span> <span class="o">=</span> <span class="s1">'BOTH'</span><span class="p">;</span>
</code></pre></div></div>

<p>The level of detail in <code class="language-plaintext highlighter-rouge">ORC</code> validation. The possible values are:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">HASHED</code></li>
  <li><code class="language-plaintext highlighter-rouge">DETAILED</code></li>
  <li><code class="language-plaintext highlighter-rouge">BOTH</code></li>
</ul>

<p>The default value is <code class="language-plaintext highlighter-rouge">BOTH</code>.</p>
      <h3 id="orc_writer_validate_percentage">
        
        
          orc_writer_validate_percentage <a href="#orc_writer_validate_percentage" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">orc_writer_validate_percentage</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</code></pre></div></div>

<p>The percentage of written files to validate by rereading them. The default value
is <code class="language-plaintext highlighter-rouge">0</code>.</p>
      <h3 id="parquet_max_read_block_row_count">
        
        
          parquet_max_read_block_row_count <a href="#parquet_max_read_block_row_count" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_max_read_block_row_count</span> <span class="o">=</span> <span class="mi">8192</span><span class="p">;</span>
</code></pre></div></div>

<p>Sets the maximum number of rows read in a batch. The default value is <code class="language-plaintext highlighter-rouge">8192</code>.</p>
      <h3 id="parquet_max_read_block_size">
        
        
          parquet_max_read_block_size <a href="#parquet_max_read_block_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_max_read_block_size</span> <span class="o">=</span> <span class="s1">'16MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The maximum block size used when reading Parquet files. The default value is
<code class="language-plaintext highlighter-rouge">16MB</code>.</p>
      <h3 id="parquet_native_snappy_decompressor_enabled">
        
        
          parquet_native_snappy_decompressor_enabled <a href="#parquet_native_snappy_decompressor_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_native_snappy_decompressor_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable using native <code class="language-plaintext highlighter-rouge">SNAPPY</code> library for faster decompression of Parquet files.
The default value is <code class="language-plaintext highlighter-rouge">true</code>;</p>
      <h3 id="parquet_optimized_reader_enabled">
        
        
          parquet_optimized_reader_enabled <a href="#parquet_optimized_reader_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_optimized_reader_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Specifies whether batched column readers are used when reading Parquet files for
improved performance. Set this property to <code class="language-plaintext highlighter-rouge">false</code> to disable the optimized
Parquet reader The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="parquet_native_zstd_decompressor_enabled">
        
        
          parquet_native_zstd_decompressor_enabled <a href="#parquet_native_zstd_decompressor_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_native_zstd_decompressor_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable using native <code class="language-plaintext highlighter-rouge">ZSTD</code> library for faster decompression of Parquet files.
The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="parquet_optimized_nested_reader_enabled">
        
        
          parquet_optimized_nested_reader_enabled <a href="#parquet_optimized_nested_reader_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_optimized_nested_reader_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Specifies whether batched column readers are used when reading <code class="language-plaintext highlighter-rouge">ARRAY</code>, <code class="language-plaintext highlighter-rouge">MAP</code>,
and <code class="language-plaintext highlighter-rouge">ROW</code> types from Parquet files for improved performance. Set this property
to <code class="language-plaintext highlighter-rouge">false</code> to disable the optimized Parquet reader for structural data types.
The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="parquet_use_bloom_filter">
        
        
          parquet_use_bloom_filter <a href="#parquet_use_bloom_filter" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_use_bloom_filter</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Specifies whether Bloom filters are used for predicate pushdown when reading
Parquet files. The default value is <code class="language-plaintext highlighter-rouge">true</code>;</p>
      <h3 id="parquet_vectorized_decoding_enabled">
        
        
          parquet_vectorized_decoding_enabled <a href="#parquet_vectorized_decoding_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_use_column_names</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable the use of the Java Vector API for faster decoding of Parquet files. The
default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="parquet_writer_batch_size">
        
        
          parquet_writer_batch_size <a href="#parquet_writer_batch_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_writer_batch_size</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">;</span>
</code></pre></div></div>

<p>Maximum number of rows processed by the Parquet writer in a batch. The default
value is <code class="language-plaintext highlighter-rouge">10000</code>.</p>
      <h3 id="parquet_writer_block_size">
        
        
          parquet_writer_block_size <a href="#parquet_writer_block_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_writer_block_size</span> <span class="o">=</span> <span class="s1">'128MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The maximum block size created by the Parquet writer. The default value is
<code class="language-plaintext highlighter-rouge">128MB</code>.</p>
      <h3 id="parquet_writer_page_size">
        
        
          parquet_writer_page_size <a href="#parquet_writer_page_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">parquet_writer_page_size</span> <span class="o">=</span> <span class="s1">'1MB'</span><span class="p">;</span>
</code></pre></div></div>

<p>The maximum page size created by the Parquet writer. The default value is <code class="language-plaintext highlighter-rouge">1MB</code>.</p>
      <h3 id="projection_pushdown_enabled">
        
        
          projection_pushdown_enabled <a href="#projection_pushdown_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">projection_pushdown_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable projection pushdown. The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="remove_orphan_files_min_retention">
        
        
          remove_orphan_files_min_retention <a href="#remove_orphan_files_min_retention" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">remove_orphan_files_min_retention</span> <span class="o">=</span> <span class="s1">'7d'</span><span class="p">;</span>
</code></pre></div></div>

<p>The minimum retention for the files taken into account for removal by
the <code class="language-plaintext highlighter-rouge">remove_orphan</code> procedure. The default value is <code class="language-plaintext highlighter-rouge">7d</code>.</p>
      <h3 id="sorted_writing_enabled">
        
        
          sorted_writing_enabled <a href="#sorted_writing_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">sorted_writing_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enable sorted writes. The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h3 id="statistics_enabled">
        
        
          statistics_enabled <a href="#statistics_enabled" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">statistics_enabled</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Enables table statistics for performance improvements. The default value is
<code class="language-plaintext highlighter-rouge">true</code>. If the value is set to <code class="language-plaintext highlighter-rouge">false</code> the following session property is
disabled:</p>

<ul>
  <li><a href="#extended_statistics_enabled">extended_statistics_enabled</a></li>
</ul>
      <h3 id="target_max_file_size">
        
        
          target_max_file_size <a href="#target_max_file_size" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">target_max_file_size</span> <span class="o">=</span> <span class="s1">'1GB'</span><span class="p">;</span>
</code></pre></div></div>

<p>Target maximum size of written files. The default value is <code class="language-plaintext highlighter-rouge">1GB</code>.</p>
      <h3 id="use_file_size_from_metadata">
        
        
          use_file_size_from_metadata <a href="#use_file_size_from_metadata" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SET</span> <span class="k">SESSION</span> <span class="k">catalog_name</span><span class="p">.</span><span class="n">use_file_size_from_metadata</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div></div>

<p>Use the file size stored in Iceberg metadata. The default value is <code class="language-plaintext highlighter-rouge">true</code>.</p>
      <h2 id="iceberg-sql-support">
        
        
          Iceberg SQL support <a href="#iceberg-sql-support" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>When using the Iceberg table format with Great Lakes connectivity, the
<a href="./great-lakes.html#great-lakes-sql-support">general SQL support details</a> apply.</p>

        <div class="d-lg-none">
          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
      <div class="col-lg-3 toc-styles d-none d-lg-block">
        <div class="spacer-60 toc-sticky">
          <ul><li><a href="#iceberg-table-format">Iceberg table format</a><ul><li><a href="#specify-iceberg-format">Specify Iceberg format</a></li><li><a href="#iceberg-table-properties">Iceberg table properties</a></li><li><a href="#iceberg-metadata-tables">Iceberg metadata tables</a></li><li><a href="#table-procedures">Table procedures</a><ul><li><a href="#rollback_to_snapshot">rollback_to_snapshot</a></li><li><a href="#alter-table-execute">ALTER TABLE EXECUTE</a><ul><li><a href="#optimize">optimize</a></li><li><a href="#drop_extended_stats">drop_extended_stats</a></li><li><a href="#expire_snapshots">expire_snapshots</a></li><li><a href="#remove_orphan_files">remove_orphan_files</a></li></ul></li></ul></li><li><a href="#migrate-hive-to-iceberg">Migrate Hive to Iceberg</a></li><li><a href="#session-properties">Session properties</a><ul><li><a href="#collect_extended_statistics_on_write">collect_extended_statistics_on_write</a></li><li><a href="#compression_codec">compression_codec</a></li><li><a href="#dynamic_filtering_wait_timeout">dynamic_filtering_wait_timeout</a></li><li><a href="#expire_snapshots_min_retention">expire_snapshots_min_retention</a></li><li><a href="#extended_statistics_enabled">extended_statistics_enabled</a></li><li><a href="#merge_manifests_on_write">merge_manifests_on_write</a></li><li><a href="#minimum_assigned_split_weight">minimum_assigned_split_weight</a></li><li><a href="#orc_bloom_filters_enabled">orc_bloom_filters_enabled</a></li><li><a href="#orc_lazy_read_small_ranges">orc_lazy_read_small_ranges</a></li><li><a href="#orc_max_buffer_size">orc_max_buffer_size</a></li><li><a href="#orc_max_merge_distance">orc_max_merge_distance</a></li><li><a href="#orc_max_read_block_size">orc_max_read_block_size</a></li><li><a href="#orc_native_zstd_decompressor_enabled">orc_native_zstd_decompressor_enabled</a></li><li><a href="#orc_nested_lazy_enabled">orc_nested_lazy_enabled</a></li><li><a href="#orc_stream_buffer_size">orc_stream_buffer_size</a></li><li><a href="#orc_string_statistics_limit">orc_string_statistics_limit</a></li><li><a href="#orc_tiny_stripe_threshold">orc_tiny_stripe_threshold</a></li><li><a href="#orc_writer_max_dictionary_memory">orc_writer_max_dictionary_memory</a></li><li><a href="#orc_writer_max_stripe_rows">orc_writer_max_stripe_rows</a></li><li><a href="#orc_writer_max_stripe_size">orc_writer_max_stripe_size</a></li><li><a href="#orc_writer_min_stripe_size">orc_writer_min_stripe_size</a></li><li><a href="#orc_writer_validate_mode">orc_writer_validate_mode</a></li><li><a href="#orc_writer_validate_percentage">orc_writer_validate_percentage</a></li><li><a href="#parquet_max_read_block_row_count">parquet_max_read_block_row_count</a></li><li><a href="#parquet_max_read_block_size">parquet_max_read_block_size</a></li><li><a href="#parquet_native_snappy_decompressor_enabled">parquet_native_snappy_decompressor_enabled</a></li><li><a href="#parquet_optimized_reader_enabled">parquet_optimized_reader_enabled</a></li><li><a href="#parquet_native_zstd_decompressor_enabled">parquet_native_zstd_decompressor_enabled</a></li><li><a href="#parquet_optimized_nested_reader_enabled">parquet_optimized_nested_reader_enabled</a></li><li><a href="#parquet_use_bloom_filter">parquet_use_bloom_filter</a></li><li><a href="#parquet_vectorized_decoding_enabled">parquet_vectorized_decoding_enabled</a></li><li><a href="#parquet_writer_batch_size">parquet_writer_batch_size</a></li><li><a href="#parquet_writer_block_size">parquet_writer_block_size</a></li><li><a href="#parquet_writer_page_size">parquet_writer_page_size</a></li><li><a href="#projection_pushdown_enabled">projection_pushdown_enabled</a></li><li><a href="#remove_orphan_files_min_retention">remove_orphan_files_min_retention</a></li><li><a href="#sorted_writing_enabled">sorted_writing_enabled</a></li><li><a href="#statistics_enabled">statistics_enabled</a></li><li><a href="#target_max_file_size">target_max_file_size</a></li><li><a href="#use_file_size_from_metadata">use_file_size_from_metadata</a></li></ul></li><li><a href="#iceberg-sql-support">Iceberg SQL support</a></li></ul></li></ul>

          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

          <button type="button" class="btn btn-primary waves-effect waves-light print-button" onclick="window.print()">Print this page</button>
        </div>
      </div>
  </div>
  
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/community/forum/" target="_blank">Starburst forum</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#download" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">
        <a href="https://www.starburst.io/" target="_blank"><img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst" style="margin-bottom:20px;"></a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2023<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
  <script type="text/javascript" src="/assets/js/custom.js"></script>
  <script type="text/javascript" src="/assets/js/algolia.js"></script>
  <script type="text/javascript" src="/assets/js/search-box.js"></script>
  <script type="text/javascript" src="/assets/js/search-results.js"></script>
</body>
</html>

