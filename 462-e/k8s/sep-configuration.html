

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', 'G-CY10FQPGJS', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Configuring Starburst Enterprise in Kubernetes &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sidebar.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/heap_analytics.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Kubernetes configuration examples" href="sep-config-examples.html" />
    <link rel="prev" title="Installing Starburst Enterprise in a Kubernetes cluster" href="installation.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" >


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/k8s/sep-configuration.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#k8s/sep-configuration" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
          class="md-header-nav__button md-logo">
            <img src="../_static/img/Starburst_Logo_White+Blue.svg"
              alt="Starburst Enterprise 462-e.5 LTS logo">
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 462-e.5 LTS</a>
          <span class="md-header-nav__topic"> Configuring Starburst Enterprise in Kubernetes </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="product-list">
    <h6 class="filter-label">Product:</h6>
  </div>
  <div id="versionsRefinementList" id="version-list" style="display:none"></div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (468-e)" href="/468-e/">Latest LTS (468-e)</a>
      
          <a title="462-e LTS" href="/462-e/">462-e LTS</a>
      
          <a title="453-e LTS" href="/453-e/">453-e LTS</a>
      
          <a title="443-e LTS" href="/443-e/">443-e LTS</a>
      
          <a title="Latest STS (467-e)" href="/467-e/">Latest STS (467-e)</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/introduction/index.html" class="md-tabs__link">Introduction</a></li>
            
            <li class="md-tabs__item"><a href="/clients/index.html" class="md-tabs__link">Clients</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../k8s.html" class="md-tabs__link">Deploy with Kubernetes</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_White+Blue.svg" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 462-e.5 LTS</a>
  </label>
  
  
  <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/starburst-enterprise.html">What is Starburst Enterprise?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/try/try-sep.html">Try Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learn/index.html">Learn Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Product versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.starburst.io/support.html">Get support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For all users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/sep-ui.html">Starburst Enterprise web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-products.html">Data products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../insights.html">Insights</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use SQL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language.html">SQL language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">SQL statement syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">Functions and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../routines.html">SQL routines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For data engineers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../catalogs.html">Define catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/materialized-views.html">Materialized views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">Query optimizer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Connect to data sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">Connector overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage-connectors.html">Object storage connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../non-object-storage-connectors.html">Non-object storage connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-connectors.html">Community-supported connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector/starburst-connectors.html">Starburst connectors feature matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/cost-and-performance/index.html">Monitor and manage cost and performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For platform administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-topics.html">Administration topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">Performance, logging, and governance features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-rest-api.html">Starburst Enterprise REST API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deploy in cloud ecosystems</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/aws/index.html">AWS ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/google/index.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/microsoft/index.html">Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/redhat/index.html">Red Hat OpenShift</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEP deployment mechanisms</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../license-requirements.html">Starburst Enterprise license</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../k8s.html">Deploy with Kubernetes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../k8s.html#kubernetes-cluster-design-for-starburst-enterprise">Kubernetes cluster design for Starburst Enterprise</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="requirements.html">Plan your Kubernetes deployment</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html">Installing Starburst Enterprise in a Kubernetes cluster</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Configuring Starburst Enterprise in Kubernetes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuring-sep-with-helm-charts">Configuring SEP with Helm charts</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#default-yaml-files">Default YAML files</a></li>
<li class="toctree-l5"><a class="reference internal" href="#using-version-control">Using version control</a></li>
<li class="toctree-l5"><a class="reference internal" href="#creating-and-using-yaml-files">Creating and using YAML files</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#recommended-customization-file-set">Recommended customization file set</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#registry-access-yaml"><code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#sep-prod-catalogs-yaml"><code class="docutils literal notranslate"><span class="pre">sep-prod-catalogs.yaml</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#applying-configuration-changes">Applying configuration changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#top-level-nodes">Top level nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker-images">Docker images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#docker-registry-access">Docker registry access</a></li>
<li class="toctree-l4"><a class="reference internal" href="#internal-communication">Internal communication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exposing-the-cluster">Exposing the cluster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#coordinator">Coordinator</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#etcfiles-on-the-coordinator"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator</a></li>
<li class="toctree-l5"><a class="reference internal" href="#node-assignment">Node assignment</a></li>
<li class="toctree-l5"><a class="reference internal" href="#coordinator-defaults-and-examples">Coordinator defaults and examples</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#workers">Workers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#startup-shell-script-for-coordinator-and-workers-nodes">Startup shell script for coordinator and workers nodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-security-considerations">User security considerations</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#security-context">Security context</a></li>
<li class="toctree-l5"><a class="reference internal" href="#service-account">Service account</a></li>
<li class="toctree-l5"><a class="reference internal" href="#external-secret-reference">External secret reference</a></li>
<li class="toctree-l5"><a class="reference internal" href="#defining-external-secrets">Defining external secrets</a></li>
<li class="toctree-l5"><a class="reference internal" href="#file-based-authentication">File-based authentication</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#performance-considerations">Performance considerations</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#query-memory-usage-control">Query memory usage control</a></li>
<li class="toctree-l5"><a class="reference internal" href="#spilling">Spilling</a></li>
<li class="toctree-l5"><a class="reference internal" href="#hive-connector-storage-caching">Hive connector storage caching</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#catalogs">Catalogs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-volumes">Additional volumes</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#adding-files">Adding files</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#prometheus">Prometheus</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sep-built-in-directories">SEP built-in directories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#init-containers">Init containers</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#images">Images</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shared-volumes">Shared volumes</a></li>
<li class="toctree-l5"><a class="reference internal" href="#moving-files">Moving files</a></li>
<li class="toctree-l5"><a class="reference internal" href="#sidecars">Sidecars</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#keda-scaler">KEDA scaler</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l5"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l5"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#helm-troubleshooting-tips">Helm troubleshooting tips</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sep-config-examples.html">Kubernetes configuration examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="hms-configuration.html">Configuring the Hive Metastore Service in Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="ranger-configuration.html">Configuring Starburst Enterprise with Ranger in Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache-service-configuration.html">Configure the cache service in Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="release-notes.html">Helm chart release notes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-admin.html">Deploy with Starburst Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">Deploy with CFT on AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Local installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Trino developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Version-specific notices and information</a></li>
</ul>
  
  
</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-sep-configuration--page-root" class="md-nav__link">Configuring Starburst Enterprise in Kubernetes</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#configuring-sep-with-helm-charts" class="md-nav__link">Configuring SEP with Helm charts</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#default-yaml-files" class="md-nav__link">Default YAML files</a>
        </li>
        <li class="md-nav__item"><a href="#using-version-control" class="md-nav__link">Using version control</a>
        </li>
        <li class="md-nav__item"><a href="#creating-and-using-yaml-files" class="md-nav__link">Creating and using YAML files</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#recommended-customization-file-set" class="md-nav__link">Recommended customization file set</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#registry-access-yaml" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code></a>
        </li>
        <li class="md-nav__item"><a href="#sep-prod-catalogs-yaml" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">sep-prod-catalogs.yaml</span></code></a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#applying-configuration-changes" class="md-nav__link">Applying configuration changes</a>
        </li>
        <li class="md-nav__item"><a href="#top-level-nodes" class="md-nav__link">Top level nodes</a>
        </li>
        <li class="md-nav__item"><a href="#docker-images" class="md-nav__link">Docker images</a>
        </li>
        <li class="md-nav__item"><a href="#docker-registry-access" class="md-nav__link">Docker registry access</a>
        </li>
        <li class="md-nav__item"><a href="#internal-communication" class="md-nav__link">Internal communication</a>
        </li>
        <li class="md-nav__item"><a href="#exposing-the-cluster" class="md-nav__link">Exposing the cluster</a>
        </li>
        <li class="md-nav__item"><a href="#coordinator" class="md-nav__link">Coordinator</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#etcfiles-on-the-coordinator" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator</a>
        </li>
        <li class="md-nav__item"><a href="#node-assignment" class="md-nav__link">Node assignment</a>
        </li>
        <li class="md-nav__item"><a href="#coordinator-defaults-and-examples" class="md-nav__link">Coordinator defaults and examples</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#workers" class="md-nav__link">Workers</a>
        </li>
        <li class="md-nav__item"><a href="#startup-shell-script-for-coordinator-and-workers-nodes" class="md-nav__link">Startup shell script for coordinator and workers nodes</a>
        </li>
        <li class="md-nav__item"><a href="#user-security-considerations" class="md-nav__link">User security considerations</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#security-context" class="md-nav__link">Security context</a>
        </li>
        <li class="md-nav__item"><a href="#service-account" class="md-nav__link">Service account</a>
        </li>
        <li class="md-nav__item"><a href="#external-secret-reference" class="md-nav__link">External secret reference</a>
        </li>
        <li class="md-nav__item"><a href="#defining-external-secrets" class="md-nav__link">Defining external secrets</a>
        </li>
        <li class="md-nav__item"><a href="#file-based-authentication" class="md-nav__link">File-based authentication</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#performance-considerations" class="md-nav__link">Performance considerations</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#query-memory-usage-control" class="md-nav__link">Query memory usage control</a>
        </li>
        <li class="md-nav__item"><a href="#spilling" class="md-nav__link">Spilling</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-storage-caching" class="md-nav__link">Hive connector storage caching</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#catalogs" class="md-nav__link">Catalogs</a>
        </li>
        <li class="md-nav__item"><a href="#additional-volumes" class="md-nav__link">Additional volumes</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#adding-files" class="md-nav__link">Adding files</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#prometheus" class="md-nav__link">Prometheus</a>
        </li>
        <li class="md-nav__item"><a href="#sep-built-in-directories" class="md-nav__link">SEP built-in directories</a>
        </li>
        <li class="md-nav__item"><a href="#init-containers" class="md-nav__link">Init containers</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#images" class="md-nav__link">Images</a>
        </li>
        <li class="md-nav__item"><a href="#shared-volumes" class="md-nav__link">Shared volumes</a>
        </li>
        <li class="md-nav__item"><a href="#moving-files" class="md-nav__link">Moving files</a>
        </li>
        <li class="md-nav__item"><a href="#sidecars" class="md-nav__link">Sidecars</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#keda-scaler" class="md-nav__link">KEDA scaler</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#prerequisites" class="md-nav__link">Prerequisites</a>
        </li>
        <li class="md-nav__item"><a href="#configuration" class="md-nav__link">Configuration</a>
        </li>
        <li class="md-nav__item"><a href="#troubleshooting" class="md-nav__link">Troubleshooting</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#helm-troubleshooting-tips" class="md-nav__link">Helm troubleshooting tips</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="configuring-starburst-enterprise-in-kubernetes">
<h1 id="k8s-sep-configuration--page-root">Configuring Starburst Enterprise in Kubernetes<a class="headerlink" href="#k8s-sep-configuration--page-root" title="Permalink to this heading">#</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">starburst-enterprise</span></code> Helm chart configures the Starburst Enterprise platform (SEP) coordinator
and worker nodes and the internal cluster communication with the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>
file detailed in the following sections.</p>
<p>We strongly suggest that you follow best practices when customizing your
cluster, creating small, targeted files to override any defaults, and adding any
configuration properties. For guidance on creating override files, see our
<a class="reference internal" href="#k8s-customization-file-set"><span class="std std-ref">recommended customization file set</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many section in this page have links to examples of the relevant YAML in our
<a class="reference internal" href="sep-config-examples.html"><span class="doc">YAML examples page</span></a>. While you are configuring
your cluster, it is is helpful to refer to SEP’s <a class="reference internal" href="#helm-sep-directories"><span class="std std-ref">directory structure</span></a> to ensure you are configuring any file locations
correctly.</p>
</div>
<p>Throughout this page there are links to more descriptive documentation for a
given configuration area. In many cases, these refer to the legacy configuration
file names by name.</p>
<section id="configuring-sep-with-helm-charts">
<h2 id="configuring-sep-with-helm-charts">Configuring SEP with Helm charts<a class="headerlink" href="#configuring-sep-with-helm-charts" title="Permalink to this heading">#</a></h2>
<p>SEP uses a number of configuration files internally that determine how it
behaves:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">etc/catalog/&lt;catalog</span> <span class="pre">name&gt;.properties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etc/config.properties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etc/jvm.properties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etc/log.properties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etc/node.properties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">etc/access-control.properties</span></code></p></li>
</ul>
<p>With our Kubernetes deployment, these files are built using Helm charts, and are
nested in the <code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles</span></code> YAML node.</p>
<p>Catalog properties files are also built using Helm charts. They are defined
under the top-level <code class="docutils literal notranslate"><span class="pre">catalogs:</span></code> YAML node. The catalogs and properties you
create depend on what data sources you connect to with SEP. You can configure
as many as you need.</p>
<p>Every Helm-based SEP deployment includes a <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file. The file
contains the default values, any of which can be overridden.</p>
<p>Along with basic instance configuration for the various cloud platforms,
<code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> also includes the key-value pairs necessary to build the
required <code class="docutils literal notranslate"><span class="pre">*.properties</span></code> files that configure SEP.</p>
<p>A recommended set of customization files is included later in this topic,
including recommendations for creating specific override files, with examples.</p>
<section id="default-yaml-files">
<h3 id="default-yaml-files">Default YAML files<a class="headerlink" href="#default-yaml-files" title="Permalink to this heading">#</a></h3>
<p>Default values are provided for a minimum configuration only, not including
security or any catalog connector properties, as these vary by customer needs.
The configuration in the Helm chart also contains deployment information such as
registry credentials and instance size.</p>
<p>Each new release of SEP includes new chart version, and the default values may
change. For this reason, we <strong>highly recommend</strong> that you follow best practices
and leave the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file in the chart untouched, overriding only very
specific values as needed in one or more separate YAML files.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not change the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>, or copy it in its entirety and make changes
to it and specify that as the override file, as new releases may change
default values or render your values non-performant. Use separate files with
changed values only, as described above.</p>
</div>
</section>
<section id="using-version-control">
<h3 id="using-version-control">Using version control<a class="headerlink" href="#using-version-control" title="Permalink to this heading">#</a></h3>
<p>We <strong>very strongly</strong> recommend that you manage your customizations in a version
control system such as a git repository. Each cluster and deployment has to be
managed in separate files.</p>
</section>
<section id="creating-and-using-yaml-files">
<h3 id="creating-and-using-yaml-files">Creating and using YAML files<a class="headerlink" href="#creating-and-using-yaml-files" title="Permalink to this heading">#</a></h3>
<p>The following is a snippet of default values from the SEP <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file
embedded in the Helm chart:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">resources</span><span class="p">:</span>
    <span class="nt">memory</span><span class="p">:</span> <span class="s">"60Gi"</span> <span class="nt">requests</span><span class="p">:</span>
      <span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">16</span>
</pre></div>
</div>
<p>The default 60GB of required memory is potentially larger than any of the
available pods in your cluster. As a result, the default prevents your
deployment success, since no suitable pod is available.</p>
<p>To create a customization that overrides the default size for a test cluster,
copy and paste <strong>only that section</strong> into a new file named
<code class="docutils literal notranslate"><span class="pre">sep-test-setup.yaml</span></code>, and make any changes. You must also include the
relevant structure above that section. The memory settings for workers have the
same default values and need to be overridden as well:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">resources</span><span class="p">:</span>
    <span class="nt">memory</span><span class="p">:</span> <span class="s">"10Gi"</span> <span class="nt">requests</span><span class="p">:</span>
      <span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">worker</span><span class="p">:</span>
  <span class="nt">resources</span><span class="p">:</span>
    <span class="nt">memory</span><span class="p">:</span> <span class="s">"10Gi"</span> <span class="nt">requests</span><span class="p">:</span>
      <span class="nt">cpu</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
</pre></div>
</div>
<p>Store the new file in a path accessible from the <code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">upgrade</span> <span class="pre">--install</span></code>
command.</p>
<p>When you are ready to install, specify the new file using the <code class="docutils literal notranslate"><span class="pre">--values</span></code>
argument as in the following example. Replace 4XX.0.0 with the Helm chart
version of the desired SEP release as documented on the <a class="reference internal" href="../versions.html"><span class="doc">versions page</span></a>:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>helm upgrade my-sep-test-cluster starburstdata/starburst-enterprise <span class="se">\</span>
  --install <span class="se">\</span>
  --version 4XX.0.0 <span class="se">\</span>
  --values ./registry-access.yaml <span class="se">\</span>
  --values ./sep-test-setup.yaml
</pre></div>
</div>
<p>You can chain as many override files as you need. If a value appears in multiple
files, the value in the rightmost, last specified file takes precedence.
Typically it is useful to limit the number of files as well as the size of the
individual files. For example, it can be useful to create a separate file that
contains all catalog definitions.</p>
<p>To view the built-in configuration of the Helm chart for a specific version of
SEP, run the following command:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>helm template starburstdata/starburst-enterprise --version 4XX.0.0
</pre></div>
</div>
<p>Use this command with different version values to compare the configuration of
different SEP releases as part of your upgrade process.</p>
<p>To generate the specific configuration files for your deployment, use the
template command with your additional values files:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>helm template starburstdata/starburst-enterprise <span class="se">\</span>
  --version 4XX.0.0 <span class="se">\</span>
  --values ./registry-access.yaml <span class="se">\</span>
  --values ./sep-test-setup.yaml
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The generated files are for review purposes only. To apply changes to your
deployment, use the <code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">upgrade</span></code> command with your files specified using
the <code class="docutils literal notranslate"><span class="pre">--values</span></code> argument.</p>
</div>
</section>
</section>
<section id="recommended-customization-file-set">
<span id="k8s-customization-file-set"></span><h2 id="recommended-customization-file-set">Recommended customization file set<a class="headerlink" href="#recommended-customization-file-set" title="Permalink to this heading">#</a></h2>
<p>The file set described below describes a series of focused configuration files.
If you have more than one cluster, such as a test cluster and a production
cluster, name the files accordingly before you begin. Examples are provided in
the sections that follow.</p>
<table id="id2">
<caption><span class="caption-text">Recommended customization file set</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>File name</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code></p></td>
<td><p>Docker registry access credentials file, typically to access the Docker
registry on the Starburst Harbor instance. Include the
<code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code> or <code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code> top level node in this
file to configure access to the Docker registry. This file can be used for
all SEP, HMS, and Ranger configuration for all clusters you operate.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sep-prod-catalogs.yaml</span></code></p></td>
<td><p>Catalog configuration for all catalogs configured for SEP on the
<code class="docutils literal notranslate"><span class="pre">prod</span></code> cluster. It is typically useful to separate catalog
configurations out into a separate file to allow reuse across clusters, as
well as to separate the large amount of configuration of the catalogs from
all the cluster configuration.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sep-prod-setup.yaml</span></code></p></td>
<td><p>Main configuration file for the <code class="docutils literal notranslate"><span class="pre">prod</span></code> cluster. Include any
configuration for all other top level nodes that configure the
coordinator, workers, and all other aspects of the cluster.</p></td>
</tr>
</tbody>
</table>
<p>Create and manage additional configuration files, if you are operating multiple
clusters, while reusing the credentials file. For example, if you run a <code class="docutils literal notranslate"><span class="pre">dev</span></code>
and <code class="docutils literal notranslate"><span class="pre">stage</span></code> cluster use the following additional files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sep-dev-catalogs.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep-dev-setup.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep-stage-catalogs.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep-stage-setup.yaml</span></code></p></li>
</ul>
<p>There are several supporting services available for use with SEP, each with
their own Helm chart:</p>
<ul class="simple">
<li><p>Starburst <a class="reference internal" href="cache-service-configuration.html"><span class="doc">cache service</span></a></p></li>
<li><p><a class="reference internal" href="hms-configuration.html"><span class="doc">Hive Metastore Service</span></a></p></li>
<li><p><a class="reference internal" href="ranger-configuration.html"><span class="doc">Apache Ranger</span></a></p></li>
</ul>
<p>If you opt to use these services, you can create a configuration file for each
of these per cluster as well:</p>
<p>Production <code class="docutils literal notranslate"><span class="pre">prod</span></code> cluster:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache-service-prod.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hms-prod.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranger-prod.yaml</span></code></p></li>
</ul>
<p>Development <code class="docutils literal notranslate"><span class="pre">dev</span></code> cluster:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache-service-dev.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hms-dev.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranger-dev.yaml</span></code></p></li>
</ul>
<p>Staging <code class="docutils literal notranslate"><span class="pre">stage</span></code> cluster:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache-service-stage.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hms-stage.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranger-stage.yaml</span></code></p></li>
</ul>
<section id="registry-access-yaml">
<h3 id="registry-access-yaml"><code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code><a class="headerlink" href="#registry-access-yaml" title="Permalink to this heading">#</a></h3>
<p>You can get started with a minimal file that only <a class="reference internal" href="installation.html#minimal-values-yaml-file"><span class="std std-ref">adds your credentials to the Starburst Harbor instance</span></a>, as shown below:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">registryCredentials</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">registry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">harbor.starburstdata.net/starburstdata</span>
  <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;yourusername&gt;</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;yourpassword&gt;</span>
</pre></div>
</div>
<p>In the examples throughout our documentation, this file is named
<code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code>.</p>
</section>
<section id="sep-prod-catalogs-yaml">
<h3 id="sep-prod-catalogs-yaml"><code class="docutils literal notranslate"><span class="pre">sep-prod-catalogs.yaml</span></code><a class="headerlink" href="#sep-prod-catalogs-yaml" title="Permalink to this heading">#</a></h3>
<p>A catalog YAML file adds all the configurations for defining the catalogs and
their connection details to the underlying data sources. The following snippet
contains a few completely configured catalogs that are ready to use:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tpch-testdata</span></code> exposes the TPC-H benchmark data useful for learning SQL and
testing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tmpmemory</span></code> uses the <a class="reference internal" href="../connector/memory.html"><span class="doc">Memory connector</span></a> to provide a small temporary
test ground for users.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">metrics</span></code> uses the <a class="reference internal" href="../connector/jmx.html"><span class="doc">JMX connector</span></a> and exposes the internal metrics of
SEP for monitoring and troubleshooting.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clientdb</span></code> uses the <a class="reference internal" href="../connector/postgresql.html"><span class="doc">PostgreSQL connector</span></a> to access the
<code class="docutils literal notranslate"><span class="pre">clientdb</span></code> database.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">datalake</span></code> and <code class="docutils literal notranslate"><span class="pre">s3</span></code> are stubs of catalogs using the
<a class="reference internal" href="../connector/starburst-hive.html"><span class="doc">Starburst Hive connector</span></a> with an HMS and a Glue catalog as metastore.</p></li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">catalogs</span><span class="p">:</span>
  <span class="nt">tpch-testdata</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=tpch</span>
  <span class="nt">tmpmemory</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=memory</span>
  <span class="nt">metrics</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=jmx</span>
  <span class="nt">clientdb</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=postgresql</span>
    <span class="no">connection-url=jdbc:postgresql://postgresql.example.com:5432/clientdb</span>
    <span class="no">connection-password=${ENV:PSQL_PASSWORD}</span>
    <span class="no">connection-user=${ENV:PSQL_USERNAME}</span>
  <span class="nt">datalake</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=hive hive.metastore.uri=thrift://hive:9083</span>
  <span class="nt">s3</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=hive hive.metastore=glue</span>
</pre></div>
</div>
</section>
</section>
<section id="applying-configuration-changes">
<h2 id="applying-configuration-changes">Applying configuration changes<a class="headerlink" href="#applying-configuration-changes" title="Permalink to this heading">#</a></h2>
<p>To update SEP with any configuration changes, run the <code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">upgrade</span></code>
command with the updated YAML files and the <code class="docutils literal notranslate"><span class="pre">--install</span></code> switch, as in this
example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade my-sep-prod-cluster starburstdata/starburst-enterprise <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">462</span>.5.0 <span class="se">\</span>
    --values ./registry-access.yaml
    --values ./sep-prod-setup.yaml
</pre></div>
</div>
<p>You can use the same command as if you were updating to a new release. Helm will
compare all <code class="docutils literal notranslate"><span class="pre">--values</span></code> files and the version, and safely ignore any that are
unchanged.</p>
</section>
<section id="top-level-nodes">
<h2 id="top-level-nodes">Top level nodes<a class="headerlink" href="#top-level-nodes" title="Permalink to this heading">#</a></h2>
<p>The top level nodes are as follows, in order of appearance in the default
<code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file embedded in the Helm chart. Click on a section header to
access the relevant documentation:</p>
<table id="id3">
<caption><span class="caption-text">Top level <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> nodes</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 45%"/>
<col style="width: 55%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Docker images</strong> <a class="reference internal" href="#helm-sep-image"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">image:</span></code></p></td>
<td><p>Contains the details for the SEP Docker image.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initImage:</span></code></p></td>
<td><p>Contains the details for the SEP bootstrap Docker image.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Docker registry access</strong> <a class="reference internal" href="#helm-sep-registry"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code></p></td>
<td><p>Defines authentication details for Docker registry access. Cannot
be used if using <code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code></p></td>
<td><p>Alternative authentication for selected Docker registry using secrets.
Cannot be used if using <code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Internal communications</strong> <a class="reference internal" href="#helm-sep-internal-communication"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sharedSecret:</span></code></p></td>
<td><p>Sets the shared secret value for internal communications.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">environment:</span></code></p></td>
<td><p>The environment name for the SEP cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">internal:</span></code></p></td>
<td><p>Specifies port numbers used for internal cluster communications.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Ports and networking</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">expose:</span></code> <a class="reference internal" href="#helm-sep-expose"><span class="std std-ref">node</span></a></p></td>
<td><p>Defines the mechanisms and their options that expose the SEP cluster to
an outside network.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Coordinator and workers</strong></p></td>
<td><p>The coordinator and worker nodes have many properties in common. They are
detailed in the Coordinator section, and referenced in the Worker section,
rather than repeating them. Likewise, examples are provided for the
<code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> top level node, and can be applied to the worker top
level node by simply replacing <code class="docutils literal notranslate"><span class="pre">coordinator</span></code> with <code class="docutils literal notranslate"><span class="pre">worker</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> <a class="reference internal" href="#helm-sep-coordinator"><span class="std std-ref">node</span></a></p></td>
<td><p>Extensive section that configures the SEP coordinator pod.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">worker:</span></code> <a class="reference internal" href="#helm-sep-workers"><span class="std std-ref">node</span></a></p></td>
<td><p>Extensive section that configures the SEP worker pods.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Startup options</strong> <a class="reference internal" href="#helm-sep-nodes"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initFile:</span> <span class="pre">""</span></code></p></td>
<td><p>Specifies a shell script to run after coordinator and work pod launch, and
before SEP startup on the pods.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">extraArguments:</span> <span class="pre">[]</span></code></p></td>
<td><p>List of extra arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">initFile</span></code> script.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">extraSecret:</span></code></p></td>
<td><p>Lists secret to be used for <code class="docutils literal notranslate"><span class="pre">initFile:</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Advanced security options</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets:</span></code> <a class="reference internal" href="#helm-sep-secretref"><span class="std std-ref">node</span></a></p></td>
<td><p>Defines mounted external secrets from a Kubernetes secrets manager.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">userDatabase:</span></code> <a class="reference internal" href="#helm-sep-user-db"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures the user database to use for file-based user authentication.
This is disabled by default for versions 356-e and later.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">securityContext:</span> <span class="pre">{}</span></code> <a class="reference internal" href="#helm-sep-securitycontext"><span class="std std-ref">node</span></a></p></td>
<td><p>Sets the Kubernetes security context that defines privilege and access
control settings for all SEP pods.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Pod lifecycle management</strong> <a class="reference external" href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/">section</a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">readinessProbe:</span></code></p></td>
<td><p>Specifies the Kubernetes readiness probe that monitor containers for
readiness to accept traffic.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">livenessProbe:</span></code></p></td>
<td><p>Specifies the Kubernetes liveness probe that monitor containers for the
need to restart.</p></td>
</tr>
<tr class="row-even"><td><p><strong>SEP cache, disk and memory management</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query:</span></code> <a class="reference internal" href="#helm-sep-concurrent-queries"><span class="std std-ref">node</span></a></p></td>
<td><p>Specifies query processing and management configuration properties.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spilling:</span></code> <a class="reference internal" href="#helm-sep-spilling"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures spilling of query processing data to disk.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cache:</span></code> node for <a class="reference internal" href="#helm-sep-hive-caching"><span class="std std-ref">hive configuration</span></a></p></td>
<td><p>Configures Hive storage caching.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Catalogs to configure connected data sources</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">catalogs:</span></code> <a class="reference internal" href="#helm-sep-catalogs"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures the catalog properties files.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Miscellaneous</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">additionalVolumes:</span></code> <a class="reference internal" href="#helm-sep-volumes"><span class="std std-ref">node</span></a></p></td>
<td><p>Defines mounted volumes for various uses in the cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prometheus:</span></code> <a class="reference internal" href="#helm-sep-prometheus"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures cluster metrics gathering with Prometheus.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">commonLabels:</span> <span class="pre">{}</span></code></p></td>
<td><p>Defines common labels to identify objects in a KRM to use with the
<a class="reference external" href="https://kubectl.docs.kubernetes.io/references/kustomize/kustomization/commonlabels/">kustomize utility</a>
and other tools.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="docker-images">
<span id="helm-sep-image"></span><h2 id="docker-images">Docker images<a class="headerlink" href="#docker-images" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference internal" href="sep-config-examples.html#k8s-defaults-images-and-registry-credentials"><span class="std std-ref">default configuration</span></a>
automatically contains the details for the relevant Docker image on the
Starburst Harbor instance. Typically you should not configure any overrides. An
exception is if you host the Docker image on a different Docker registry.</p>
<table id="id4">
<caption><span class="caption-text">Top level docker image nodes</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">image:</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">image</span></code> section controls the Docker image to use including the
version. Typically, the Helm chart version reflects the SEP version.
Specifically, the SEP version 356-e.x is reflected in the chart version
of 356.x.0, or patches for the chart are released as 356.x.1, 356.x.2,
and similar.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">initImage:</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">initImage</span></code> section defines the container image and version to use
for bootstrapping configuration files for SEP from the Helm chart and
values files. This functionality is internal to the chart, and you should
not change or override this configuration.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-images-and-registry-credentials"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-images-and-registry-credentials"><span class="std std-ref">Images and repository registry credentials examples</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-registry-version-handling"><span class="std std-ref">Controlling SEP releases</span></a></p></li>
</ul>
</section>
<section id="docker-registry-access">
<span id="helm-sep-registry"></span><h2 id="docker-registry-access">Docker registry access<a class="headerlink" href="#docker-registry-access" title="Permalink to this heading">#</a></h2>
<p>These nodes enable access to the Docker registry. They should be added to the
<code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code> file to access the registry as shown in the <a class="reference internal" href="installation.html#minimal-values-yaml-file"><span class="std std-ref">best practices guide</span></a>.</p>
<table id="id5">
<caption><span class="caption-text">Top level docker image and registry credentials nodes</span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">registryCredentials</span></code> section defines authentication details for
Docker registry access. Typically, you need to use <a class="reference internal" href="requirements.html#k8s-helm-repository"><span class="std std-ref">your username and password for the Starburst Harbor instance</span></a>. NOTE:
Cannot be be used if using <code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code></p></td>
<td><p>Alternative authentication for selected Docker registry using secrets.
NOTE: Cannot be used if using <code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You can only define authentication with <code class="docutils literal notranslate"><span class="pre">registryCredentials</span></code> or
<code class="docutils literal notranslate"><span class="pre">imagePullSecrets</span></code>. Defining both is invalid, and causes an error.</p>
</div>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-images-and-registry-credentials"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-images-and-registry-credentials"><span class="std std-ref">Images and repository registry credentials examples</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-private-registries"><span class="std std-ref">Using private registries</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-imagepullsecrets"><span class="std std-ref">Using imagePullSecrets</span></a></p></li>
</ul>
</section>
<section id="internal-communication">
<span id="helm-sep-internal-communication"></span><h2 id="internal-communication">Internal communication<a class="headerlink" href="#internal-communication" title="Permalink to this heading">#</a></h2>
<p>SEP provides three top level nodes for <a class="reference internal" href="../security/internal-communication.html"><span class="doc">internal cluster communication</span></a> between the coordinator and the workers.
Because internal communication configurations and credentials are unique, these
are not configured <a class="reference internal" href="sep-config-examples.html#k8s-defaults-internal-comms"><span class="std std-ref">by default</span></a>.</p>
<p>Ensure to configure <code class="docutils literal notranslate"><span class="pre">sharedSecret</span></code> and <code class="docutils literal notranslate"><span class="pre">environment</span></code> values in all your
clusters to use secured communication with internal authentication of the nodes.</p>
<table id="id6">
<caption><span class="caption-text">Top level internal communications nodes</span><a class="headerlink" href="#id6" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">environment</span></code></p></td>
<td><p>The environment name for the SEP cluster, used to set the
<code class="docutils literal notranslate"><span class="pre">node.environment</span></code> <a class="reference internal" href="../installation/deployment.html#node-properties"><span class="std std-ref">node configuration property</span></a>. Examples are values such as <code class="docutils literal notranslate"><span class="pre">production</span></code>,
<code class="docutils literal notranslate"><span class="pre">staging</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_cluster</span></code>, <code class="docutils literal notranslate"><span class="pre">site_analytics</span></code>, or any other short,
meaningful string.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sharedSecret</span></code></p></td>
<td><p>Sets the shared secret value for <a class="reference internal" href="../security/internal-communication.html"><span class="doc">secure communication between coordinator and workers in the cluster</span></a> to a long, random string that you
provide. If not set, the <code class="docutils literal notranslate"><span class="pre">node.environment</span></code> value from the
<code class="docutils literal notranslate"><span class="pre">etcFiles.node.properties</span></code> configuration <a class="reference internal" href="#k8s-etcfiles"><span class="std std-ref">on the coordinator</span></a> is used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">internalTls:</span></code></p></td>
<td><p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, enables TLS for internal communication and
autogenerates trusted certificates. Requires both <code class="docutils literal notranslate"><span class="pre">environment</span></code> and
<code class="docutils literal notranslate"><span class="pre">sharedSecret</span></code> top level nodes to be configured, and uses the port
defined in <code class="docutils literal notranslate"><span class="pre">internal.ports.https.port:</span></code>. The <code class="docutils literal notranslate"><span class="pre">environment</span></code> value is
used as the CN. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> by default.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-internal-comms"><span class="std std-ref">Internal communications configuration</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-internal-comms"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-internal-tls"><span class="std std-ref">Using TLS for internal communication</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-nonstd-https"><span class="std std-ref">Non-standard HTTPS port numbers</span></a></p></li>
</ul>
</section>
<section id="exposing-the-cluster">
<span id="helm-sep-expose"></span><h2 id="exposing-the-cluster">Exposing the cluster<a class="headerlink" href="#exposing-the-cluster" title="Permalink to this heading">#</a></h2>
<p>You must expose the cluster to allow users to connect to the SEP coordinator
with tools such as the CLI, applications using JDBC/ODBC drivers and any other
client application. This service-type configuration is defined by the <code class="docutils literal notranslate"><span class="pre">expose</span></code>
top level node. You can choose from four different mechanisms by setting the <code class="docutils literal notranslate"><span class="pre">type</span></code>
value to the <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types">common configurations in k8s</a>.</p>
<p>Depending on your choice, you only have to configure the identically-named
sections.</p>
<table id="id7">
<caption><span class="caption-text">Types for <code class="docutils literal notranslate"><span class="pre">expose:</span></code> top level node</span><a class="headerlink" href="#id7" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clusterIp</span></code></p></td>
<td><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-external-comms"><span class="std std-ref">Default value</span></a>. Only exposes the
coordinator internally within the k8s cluster using an IP address internal
to the cluster. Use this in the early stages of configuration.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nodePort</span></code></p></td>
<td><p>Configures the internal port number of the coordinator for requests from
outside the cluster on the <code class="docutils literal notranslate"><span class="pre">nodePort</span></code> port number. External
service requests are made to <code class="docutils literal notranslate"><span class="pre">&lt;nodeIP&gt;:&lt;nodePort&gt;</span></code>. The <code class="docutils literal notranslate"><span class="pre">clusterIP</span></code>
service is automatically created to supply all internal IP addresses.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadBalancer</span></code></p></td>
<td><p>Used with platforms that provide a load balancer. This
option automatically creates <code class="docutils literal notranslate"><span class="pre">nodePort</span></code> and <code class="docutils literal notranslate"><span class="pre">clusterIP</span></code> services , to
which the external load balancer routes requests.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ingress</span></code></p></td>
<td><p>This option provides a production-level, securable configuration. It
allows a load balancer to route to multiple apps in the cluster, and
may provide load balancing, SSL termination, and name-based virtual
hosting. For example, the SEP coordinator and Ranger server can be
in the same cluster, and can be exposed via <code class="docutils literal notranslate"><span class="pre">ingress:</span></code> configuration.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-external-comms"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-external-comms"><span class="std std-ref">External communications configuration</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-clusterip"><span class="std std-ref">clusterIp type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-nodeport"><span class="std std-ref">nodePort type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-lb"><span class="std std-ref">loadBalancer type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-ingress"><span class="std std-ref">Basic ingress type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-nginxcert"><span class="std std-ref">ingress with nginx and cert-manager</span></a></p></li>
</ul>
</section>
<section id="coordinator">
<span id="helm-sep-coordinator"></span><h2 id="coordinator">Coordinator<a class="headerlink" href="#coordinator" title="Permalink to this heading">#</a></h2>
<p>The top level <code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> node <a class="reference internal" href="sep-config-examples.html#k8s-coordinator-yaml"><span class="std std-ref">contains property nodes</span></a> that configure the pod of the cluster that runs the
SEP coordinator. The <a class="reference internal" href="sep-config-examples.html#k8s-defaults-coordinator"><span class="std std-ref">default values</span></a> are
suitable to get started with reasonable defaults on a production-sized k8s
cluster.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These property nodes also appear under the top level <code class="docutils literal notranslate"><span class="pre">worker:</span></code> node unless
otherwise noted.</p>
</div>
<table id="id8">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> nodes</span><a class="headerlink" href="#id8" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code></p></td>
<td><p>Specifies the content of the <code class="docutils literal notranslate"><span class="pre">jvm.config</span></code> file and the <code class="docutils literal notranslate"><span class="pre">*.properties</span></code>
files associated with the coordinator. These files are described
in greater detail in a <a class="reference internal" href="#k8s-etcfiles"><span class="std std-ref">separate table</span></a> below.
<strong>NOTE</strong>: Not all files described in the detail table are applicable to
workers. They are noted as such.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resources</span></code></p></td>
<td><p>The CPU and memory resources to use for the coordinator pod. These
settings <a class="reference internal" href="sep-config-examples.html#k8s-ex-coord-resources"><span class="std std-ref">can be adjusted</span></a> to match your
workload needs, and available node sizes in the cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">nodeMemoryHeadroom</span></code></p></td>
<td><p>The size of the container memory headroom. The value needs to be less than
resource allocation limit for memory defined in <code class="docutils literal notranslate"><span class="pre">resources</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">heapSizePercentage</span></code></p></td>
<td><p>Percentage of container memory reduced with headroom assigned to Java
heap. Must be less than 100.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">heapHeadroomPercentage</span></code></p></td>
<td><p>Headroom of Java heap memory not tracked by SEP during query execution.
Must be less than 100.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code></p></td>
<td><p>Any properties described in the reference documentation that are not
specific to any other YAML node are set here. Example usages are to
<a class="reference internal" href="sep-config-examples.html#k8s-ex-additional-properties"><span class="std std-ref">set query time-out and memory values</span></a>
and to <a class="reference internal" href="sep-config-examples.html#k8s-ex-insights"><span class="std std-ref">enable Starburst Insights</span></a>. Configuration
properties can be found throughout the reference documentation,
including the <a class="reference internal" href="../admin/properties.html"><span class="doc">Properties reference</span></a> page.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Avoid including secrets, such as credentials, in the
<code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> section of the Helm chart. These values may
be exposed in the init container logs. Instead, use the
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> section to securely include such information.</p>
</div>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">envFrom:</span> <span class="pre">[]</span></code></p></td>
<td><p>Allows for the propagation of environment variables from different sources
complying with
<a class="reference external" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#envfromsource-v1-core">K8S schema</a>
can be used to deliver values to SEP configuration properties file by
creating a Kubernetes secret holding variable values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nodeSelector:</span> <span class="pre">{}</span></code>, <code class="docutils literal notranslate"><span class="pre">affinity:</span> <span class="pre">{}</span></code> and <code class="docutils literal notranslate"><span class="pre">tolerations:</span> <span class="pre">[]</span></code></p></td>
<td><p>Configuration to <a class="reference internal" href="#helm-node-assignment"><span class="std std-ref">determine the node and pod to use</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">deploymentAnnotations:</span> <span class="pre">{}</span></code></p></td>
<td><p>Configuration to <a class="reference external" href="https://helm.sh/docs/chart_best_practices/labels/">annotate</a>
the coordinator deployment.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">podAnnotations:</span> <span class="pre">{}</span></code></p></td>
<td><p>Configuration to <a class="reference external" href="https://helm.sh/docs/chart_best_practices/labels/">annotate</a>
the coordinator pod.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">priorityClassName</span></code></p></td>
<td><p>Priority class for coordinator pod for setting <a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption">k8s pod priority and
preemption</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sidecars:</span> <span class="pre">[]</span></code></p></td>
<td><p>Attach additional sidecar containers to the coordinator pod.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initContainers:</span> <span class="pre">[]</span></code></p></td>
<td><p>Add extra init containers to the coordinator pod.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-coordinator"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-coord-resources"><span class="std std-ref">CPU and memory allocation</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-additional-properties"><span class="std std-ref">Adding properties to config.properties</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-insights"><span class="std std-ref">Enabling the SEP backend service and Insights</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#helm-sep-coordinator-envfrom"><span class="std std-ref">Using environment variables for secrets</span></a></p></li>
</ul>
<section id="etcfiles-on-the-coordinator">
<span id="k8s-etcfiles"></span><h3 id="etcfiles-on-the-coordinator"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator<a class="headerlink" href="#etcfiles-on-the-coordinator" title="Permalink to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These property nodes also appear under the top level <code class="docutils literal notranslate"><span class="pre">worker:</span></code> node unless
otherwise noted.</p>
</div>
<table id="id9">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator</span><a class="headerlink" href="#id9" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.jvm.config</span></code></p></td>
<td><p>Defines the content of the <a class="reference internal" href="../installation/deployment.html#jvm-config"><span class="std std-ref">JVM config</span></a> for the coordinator.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties</span></code></p></td>
<td><p>Defines configuration files located in the <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder. Each nested
section defines the filename. Defaults are provided for the main
configuration files <code class="docutils literal notranslate"><span class="pre">etc/jvm.config</span></code>, <code class="docutils literal notranslate"><span class="pre">etc/config.properties</span></code>,
<code class="docutils literal notranslate"><span class="pre">etc/node.properties</span></code> and <code class="docutils literal notranslate"><span class="pre">etc/log.properties</span></code>. Additional
properties files can be added by adding a nested section and the
desired content of the configuration file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.config.properties</span></code></p></td>
<td><p>Defines the content of the
<a class="reference internal" href="../installation/deployment.html#config-properties"><span class="std std-ref">default configuration file</span></a>
for the coordinator. You can also use <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> for
adding other configuration values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.properties.node.properties</span></code></p></td>
<td><p>Defines the contents of the <a class="reference internal" href="../installation/deployment.html#node-properties"><span class="std std-ref">node.properties file</span></a>
for the coordinator, including paths to installation and log directories.
The unique identifier and environment are pulled in from the <code class="docutils literal notranslate"><span class="pre">environment</span></code>, as documented in the <a class="reference internal" href="#helm-sep-internal-communication"><span class="std std-ref">internal communication section</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.log.properties</span></code></p></td>
<td><p>Defines the contents of the <a class="reference internal" href="../installation/deployment.html#log-levels"><span class="std std-ref">log configuration files</span></a>
for the coordinator.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.password-authentication.properties</span></code></p></td>
<td><p>Configures <a class="reference internal" href="../security/password-file.html"><span class="doc">password authentication</span></a>
for SEP on the coordinator.
<strong>NOTE:</strong> Does not apply to <code class="docutils literal notranslate"><span class="pre">worker.etcFiles.properties</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.access-control.properties</span></code></p></td>
<td><p>Enables and configures <a class="reference internal" href="sep-config-examples.html#k8s-ex-access-control"><span class="std std-ref">access control</span></a>
for SEP on the coordinator. <strong>NOTE:</strong> Does not apply to
<code class="docutils literal notranslate"><span class="pre">worker.etcFiles.properties</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.exchange-manager.properties</span></code></p></td>
<td><p>Configures an optional exchange manager for
<a class="reference internal" href="../admin/fault-tolerant-execution.html"><span class="doc">Fault-tolerant execution</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.other</span></code></p></td>
<td><p>Other files that need to be placed in the <code class="docutils literal notranslate"><span class="pre">etc</span></code> directory
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-etcfiles-other"><span class="std std-ref">example</span></a>).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="node-assignment">
<span id="helm-node-assignment"></span><h3 id="node-assignment">Node assignment<a class="headerlink" href="#node-assignment" title="Permalink to this heading">#</a></h3>
<p>All charts allow you to configure criteria to define which node and pod in the
cluster is suitable to use for running the relevant container. In SEP, this
may be useful if you have a cluster spanning availability zones, or if you are
using Ranger or an HMS in your cluster with smaller node sizes. The following
configurations are available, and by default are not defined:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nodeSelector</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">affinity</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">tolerations</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
</pre></div>
</div>
<p>Example configurations are available in the <a class="reference external" href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/">k8s documentation</a>.
Specific usage and values are highly dependent on your k8s cluster
configuration.</p>
<p>Further resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/">Node labels for pod assignment</a></p></li>
<li><p><a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#taints-and-tolerations-beta-feature">Tolerations</a></p></li>
<li><p><a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">Affinity and anti-affinity</a></p></li>
</ul>
</section>
<section id="coordinator-defaults-and-examples">
<h3 id="coordinator-defaults-and-examples">Coordinator defaults and examples<a class="headerlink" href="#coordinator-defaults-and-examples" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-coordinator"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-jvm-config"><span class="std std-ref">JVM configuration</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-etcfiles-other"><span class="std std-ref">Adding other files in etc</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-coord-resources"><span class="std std-ref">CPU and memory allocation</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-additional-properties"><span class="std std-ref">Adding properties to config.properties</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#helm-sep-coordinator-envfrom"><span class="std std-ref">Using environment variables for secrets</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-insights"><span class="std std-ref">Enabling the SEP backend service and Insights</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-access-control"><span class="std std-ref">Enabling access control</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-user-db"><span class="std std-ref">File-based authentication</span></a></p></li>
</ul>
</section>
</section>
<section id="workers">
<span id="helm-sep-workers"></span><h2 id="workers">Workers<a class="headerlink" href="#workers" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">worker</span></code> section configures the pods of the cluster that run the
SEP workers.</p>
<p>The top level <code class="docutils literal notranslate"><span class="pre">worker:</span></code> node <a class="reference internal" href="sep-config-examples.html#k8s-worker-yaml"><span class="std std-ref">contains property nodes</span></a>
that configure the pod of the cluster that runs the SEP workers. The
<a class="reference internal" href="sep-config-examples.html#k8s-defaults-worker"><span class="std std-ref">default values</span></a> are suitable to get started with
reasonable defaults on a production-sized k8s cluster.</p>
<p>Many of the properties for this node also appear in the <code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> top
level node. They are fully documented in the <a class="reference internal" href="#helm-sep-coordinator"><span class="std std-ref">Coordinator section</span></a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">worker.etcFiles.*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.resources</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.nodeMemoryHeadroom</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.heapSizePercentage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.heapHeadroomPercentage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.additionalProperties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.envFrom</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.nodeSelector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.affinity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.tolerations</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.deploymentAnnotations</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.podAnnotations</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.priorityClassName</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.sidecars</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.initContainers</span></code></p></li>
</ul>
<p>The following properties apply only to <code class="docutils literal notranslate"><span class="pre">worker</span></code>:</p>
<table id="id10">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">worker:</span></code>-only nodes</span><a class="headerlink" href="#id10" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code></p></td>
<td><p>Specifies</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">worker.replicas</span></code></p></td>
<td><p>The number of <a class="reference internal" href="sep-config-examples.html#k8s-defaults-worker"><span class="std std-ref">worker pods</span></a> for a static
cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">worker.autoscaling</span></code></p></td>
<td><p>Configuration for the minimum and maximum number of workers. Ensure the
additional <a class="reference internal" href="requirements.html#k8s-scaling-requirements"><span class="std std-ref">requirements for scaling</span></a> are
fulfilled on your k8s cluster. Set <code class="docutils literal notranslate"><span class="pre">enabled</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code> to activate
<a class="reference internal" href="installation.html#k8s-scaling"><span class="std std-ref">autoscaling</span></a>.
The <code class="docutils literal notranslate"><span class="pre">targetCPUUtilizationPercentage</span></code> sets the threshold value that
triggers scaling up by adding more workers until <code class="docutils literal notranslate"><span class="pre">maxReplicas</span></code> is
reached.</p>
<p>Scaling down proceeds until <code class="docutils literal notranslate"><span class="pre">minReplicas</span></code> is reached and is controlled
by <code class="docutils literal notranslate"><span class="pre">deploymentTerminationGracePeriodSeconds</span></code> and
<code class="docutils literal notranslate"><span class="pre">starburstWorkerShutdownGracePeriodSeconds</span></code>.</p>
<p><strong>WARNING:</strong> The autoscaling feature does not yet work with OpenShift
clusters (as of the latest release 4.6), due to a known limitation with
OpenShift clusters. HPA
<a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1749468">does not work</a>
with pods having init containers in OpenShift.</p>
<p>Read more information in our <a class="reference internal" href="installation.html#k8s-scaling"><span class="std std-ref">scaling section</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">worker.kedaScaler</span></code></p></td>
<td><p>An alternative method of scaling the number of workers is implemented
using the <a class="reference external" href="https://keda.sh/docs/2.6/scalers/kubernetes-workload/">KEDA scaler for Kubernetes workloads</a>
in the SEP Helm chart. Scaler configuration is described in a
<a class="reference internal" href="#keda-sep-scaler"><span class="std std-ref">dedicated section</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">worker.deploymentTerminationGracePeriodSeconds</span></code></p></td>
<td><p>Specifies the termination grace period for workers. Workers are not
terminated until queries running on the pod are finished and the grace
period passes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">worker.starburstWorkerShutdownGracePeriodSeconds</span></code></p></td>
<td><p>Sets <code class="docutils literal notranslate"><span class="pre">shutdown.grace-period</span></code> to configure the grace period for worker
process shutdown.</p></td>
</tr>
</tbody>
</table>
<p>The following configuration properties for workers are identical to the
coordinator properties, documented in preceding section.</p>
</section>
<section id="startup-shell-script-for-coordinator-and-workers-nodes">
<span id="helm-sep-nodes"></span><h2 id="startup-shell-script-for-coordinator-and-workers-nodes">Startup shell script for coordinator and workers nodes<a class="headerlink" href="#startup-shell-script-for-coordinator-and-workers-nodes" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">initFile:</span></code> is a top level node that allows you to create a startup shell
script (<a class="reference internal" href="sep-config-examples.html#k8s-ex-startup-script"><span class="std std-ref">example</span></a>) to customize how SEP is
started on the coordinator and workers, and pass additional arguments to it.
These are undefined <a class="reference internal" href="sep-config-examples.html#k8s-defaults-initfile"><span class="std std-ref">by default</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To execute commands in your <code class="docutils literal notranslate"><span class="pre">initFile</span></code> script that are not available in the
main SEP Docker image, Starburst recommends using init containers for
initialization and setup tasks. Init containers can use any Docker image. For
information on configuring init containers within your Kubernetes deployment,
see <a class="reference internal" href="#helm-sep-initcontainers"><span class="std std-ref">Init containers</span></a>.</p>
</div>
<table id="id11">
<caption><span class="caption-text">Startup script nodes</span><a class="headerlink" href="#id11" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initFile</span></code></p></td>
<td><p>A shell script to run before SEP is launched. The content of the file
has to be an inline string in the YAML file. The script is started as
<code class="docutils literal notranslate"><span class="pre">/bin/bash</span> <span class="pre">&lt;&lt;init_file&gt;&gt;</span></code>. When called, it is passed the single
parameter value <code class="docutils literal notranslate"><span class="pre">coordinator</span></code> or <code class="docutils literal notranslate"><span class="pre">worker</span></code> depending on the type of
pod. The script needs to invoke the launcher script
<code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/bin/run-starburst</span></code> for a successful start of SEP.
<strong>NOTE</strong>: In the <code class="docutils literal notranslate"><span class="pre">initFile</span></code>, for chart versions released before middle
of Oct 2020 use the launcher script
<code class="docutils literal notranslate"><span class="pre">exec</span> <span class="pre">/usr/lib/starburst/bin/launcher</span> <span class="pre">run</span></code>. For newer releases use
<code class="docutils literal notranslate"><span class="pre">exec</span> <span class="pre">/usr/lib/starburst/bin/run-starburst</span></code> to enable graceful shutdown
of workers .</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">extraArguments</span></code></p></td>
<td><p>List of extra arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">initFile</span></code> script.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="user-security-considerations">
<span id="k8s-security-considerations"></span><h2 id="user-security-considerations">User security considerations<a class="headerlink" href="#user-security-considerations" title="Permalink to this heading">#</a></h2>
<p>SEP has <a class="reference internal" href="../security.html"><span class="doc">extensive security options</span></a> that allow you specify
how to authenticate users. Because user security configurations and credentials
are unique, these are not configured <a class="reference internal" href="sep-config-examples.html#k8s-defaults-security-considerations"><span class="std std-ref">by default</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We <strong>strongly suggest</strong> that you watch our <a class="reference internal" href="../admin-topics/security.html"><span class="doc">Securing Starburst Enterprise</span></a> training video before customizing your SEP
security configuration.</p>
</div>
<section id="security-context">
<span id="helm-sep-securitycontext"></span><h3 id="security-context">Security context<a class="headerlink" href="#security-context" title="Permalink to this heading">#</a></h3>
<p>You can configure a <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod">security context</a>
to define privilege and access control settings for the SEP pods.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">securityContext</span><span class="p">:</span>
  <span class="nt">runAsNotRoot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">runAsUser</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
  <span class="nt">runAsGroup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These settings are typically not required, and are highly dependent upon your
Kubernetes environment. For example, OpenShift requires <code class="docutils literal notranslate"><span class="pre">audit_log</span></code> to be
set in <code class="docutils literal notranslate"><span class="pre">securityContext</span></code> in order to run <code class="docutils literal notranslate"><span class="pre">sudo</span></code>, while other platforms use
arbitrary user IDs. Refer to the Kubernetes documentation and to the
documentation for your particular platform to ensure your <code class="docutils literal notranslate"><span class="pre">securityContext</span></code>
is configured correctly.</p>
</div>
</section>
<section id="service-account">
<span id="helm-sep-serviceaccount"></span><h3 id="service-account">Service account<a class="headerlink" href="#service-account" title="Permalink to this heading">#</a></h3>
<p>You can configure a <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/">service account</a>
for the SEP pods using:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">serviceAccountName</span><span class="p">:</span>
</pre></div>
</div>
</section>
<section id="external-secret-reference">
<span id="helm-sep-secretref"></span><h3 id="external-secret-reference">External secret reference<a class="headerlink" href="#external-secret-reference" title="Permalink to this heading">#</a></h3>
<p>There are several locations where properties require pointing to files delivered
outside of SEP, such as CA certificates. In such cases, you can use a
special notation that allows you to point to a k8s secret.</p>
<p>For example, you can configure password authentication using LDAP (<a class="reference internal" href="sep-config-examples.html#k8s-ex-secretref"><span class="std std-ref">example</span></a>). This requires k8s to create the
<code class="docutils literal notranslate"><span class="pre">etc/password-authenticator.properties</span></code> configuration file, which in turn
points to the <code class="docutils literal notranslate"><span class="pre">ca.crt</span></code> certificate file.</p>
</section>
<section id="defining-external-secrets">
<span id="k8s-external-secrets"></span><h3 id="defining-external-secrets">Defining external secrets<a class="headerlink" href="#defining-external-secrets" title="Permalink to this heading">#</a></h3>
<p>You can automatically mount external secrets, for example from the AWS Secrets
Manager, using the <code class="docutils literal notranslate"><span class="pre">secretRef</span></code> or <code class="docutils literal notranslate"><span class="pre">secretEnv</span></code> notation.</p>
<table id="id12">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">externalSecrets</span></code> nodes</span><a class="headerlink" href="#id12" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets.type</span></code></p></td>
<td><p>Type of the external secret provider. Currently, only <code class="docutils literal notranslate"><span class="pre">eso</span></code> is
supported.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The external secret provider needs to be configured with
proper access to the specified backend, which is managed through the
<code class="docutils literal notranslate"><span class="pre">secretStoreRef</span></code> property.</p>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets.secretPrefix</span></code></p></td>
<td><p>Prefix of all secrets that need to be mapped to external secret.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets.eso.secretStoreRef</span></code></p></td>
<td><p>Reference to a
<a class="reference external" href="https://external-secrets.io/main/api/secretstore/">SecretStore</a> or
<a class="reference external" href="https://external-secrets.io/main/api/clustersecretstore/">ClusterSecretStore</a>
that you must create to configure the connection to your backend.</p></td>
</tr>
</tbody>
</table>
<p>The Helm chart scans for all <code class="docutils literal notranslate"><span class="pre">secretRef</span></code> or <code class="docutils literal notranslate"><span class="pre">secretEnv</span></code> references in the
referenced YAML files which start with the configured <code class="docutils literal notranslate"><span class="pre">secretPrefix</span></code> string.
For each secret found, it generates an``ExternalSecret`` K8s manifest
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-external-secrets"><span class="std std-ref">example</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The selected external secrets provider needs to be deployed and configured
separately. The secret names in the external storage must match names of K8s
secrets you reference. When using <code class="docutils literal notranslate"><span class="pre">secretRef</span></code>, the external storage secret
must contain only a single value. For each external secret a single K8s secret
is created, including one key with external secret value.</p>
</div>
</section>
<section id="file-based-authentication">
<span id="helm-sep-user-db"></span><h3 id="file-based-authentication">File-based authentication<a class="headerlink" href="#file-based-authentication" title="Permalink to this heading">#</a></h3>
<p>The unix command <code class="docutils literal notranslate"><span class="pre">htpasswd</span></code> can generate a user database, which can be used to
configure file-based user authentication. It creates the file under
<code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/etc/auth/{{.Values.userDatabase.name}}</span></code>. This allows you to
statically deliver user credentials to the file
<code class="docutils literal notranslate"><span class="pre">etc/password-authenticator.properties</span></code>
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-user-db"><span class="std std-ref">example</span></a>).</p>
<p>Alternatively, you can use a secret to add an externally created user database
file to SEP. Set the <code class="docutils literal notranslate"><span class="pre">file.password-file</span></code> property to the user database file,
and ensure to disable the built-in user database
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-user-db"><span class="std std-ref">example</span></a>).</p>
</section>
</section>
<section id="performance-considerations">
<span id="k8s-performance-considerations"></span><h2 id="performance-considerations">Performance considerations<a class="headerlink" href="#performance-considerations" title="Permalink to this heading">#</a></h2>
<p>SEP has performance management configuration options that help you to
optimize aspects of SEP’s performance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We <strong>strongly suggest</strong> that you watch our <a class="reference internal" href="../admin-topics/performance-tuning.html"><span class="doc">cluster tuning training video</span></a> before customizing your SEP security
configuration.</p>
</div>
<section id="query-memory-usage-control">
<span id="helm-sep-concurrent-queries"></span><h3 id="query-memory-usage-control">Query memory usage control<a class="headerlink" href="#query-memory-usage-control" title="Permalink to this heading">#</a></h3>
<p>The top level <code class="docutils literal notranslate"><span class="pre">query:</span></code> node lets you to set the <code class="docutils literal notranslate"><span class="pre">maxConcurrentQueries</span></code>
configuration property. The <code class="docutils literal notranslate"><span class="pre">maxConcurrentQueries</span></code> configuration property
divides the query memory space by the value set. By setting this value, you
establish a limit on the maximum memory usage for each query. If a query exceeds
the allocated memory, it fails with an out-of-memory error.</p>
<p>This configuration property defaults to <code class="docutils literal notranslate"><span class="pre">3</span></code>, which means that a single query
can use up to one-third of the available memory space. To allocate more memory
for concurrent queries, decrease the value of this property.</p>
<p>All other <a class="reference internal" href="../admin/properties-query-management.html"><span class="doc">query processing properties</span></a> must be set using the
<code class="docutils literal notranslate"><span class="pre">additionalProperties:</span></code> node <a class="reference internal" href="#helm-sep-coordinator"><span class="std std-ref">on the coordinator</span></a>.</p>
</section>
<section id="spilling">
<span id="helm-sep-spilling"></span><h3 id="spilling">Spilling<a class="headerlink" href="#spilling" title="Permalink to this heading">#</a></h3>
<p>The top level <code class="docutils literal notranslate"><span class="pre">query:</span></code> node (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-hive-caching"><span class="std std-ref">example</span></a>) allows
you to configure SEP’s <a class="reference internal" href="../admin/properties-spilling.html"><span class="doc">spilling properties</span></a>.</p>
<p><a class="reference internal" href="../admin/spill.html"><span class="doc">Spilling</span></a> uses internal node storage, which is mounted
within the container.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Spilling is disabled <a class="reference internal" href="sep-config-examples.html#k8s-defaults-performance-spilling"><span class="std std-ref">by default</span></a>,
and we <strong>strongly suggest</strong> to leave it disabled. Enabling spill should be
used as a method of last resort to allow for rare, memory-intensive queries to
succeed on a smaller cluster at the expense of query performance and overall
cluster performance.</p>
</div>
</section>
<section id="hive-connector-storage-caching">
<span id="helm-sep-hive-caching"></span><h3 id="hive-connector-storage-caching">Hive connector storage caching<a class="headerlink" href="#hive-connector-storage-caching" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">cache:</span></code> top level node (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-hive-caching"><span class="std std-ref">example</span></a>) allows
you to configure <a class="reference internal" href="../object-storage/file-system-cache.html"><span class="doc">Hive connector storage caching</span></a>. It is disabled <a class="reference internal" href="sep-config-examples.html#k8s-defaults-performance-cache"><span class="std std-ref">by default</span></a>.</p>
<table id="id13">
<caption><span class="caption-text">Hive connector caching property nodes</span><a class="headerlink" href="#id13" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cache.enabled</span></code></p></td>
<td><p>Enable or disable caching for all catalogs using the Hive connector. If
you want to only enable it for a specific catalog, you have to configure
it with the <a class="reference internal" href="#helm-sep-catalogs"><span class="std std-ref">catalog configuration</span></a> and
<code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cache.diskUsagePercentage</span></code></p></td>
<td><p>Set the value for the <code class="docutils literal notranslate"><span class="pre">hive.cache.disk-usage-percentage</span></code> property.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cache.ttl</span></code></p></td>
<td><p>Set the value for the <code class="docutils literal notranslate"><span class="pre">hive.cache.ttl</span></code> property.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cache.volume</span></code></p></td>
<td><p>Configure the volume in which to store the cached files.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="catalogs">
<span id="helm-sep-catalogs"></span><h2 id="catalogs">Catalogs<a class="headerlink" href="#catalogs" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">catalogs:</span></code> top level node allows you to configure a catalog for each of
your data sources. The catalogs defined in this node are used to create catalog
properties files, which contain key-value pairs for catalog properties.
Information for specific properties supported in each catalog can be found with
the <a class="reference internal" href="../connector.html"><span class="doc">documentation for the connectors</span></a>. At the very minimum, a
catalog definition must consist of the name of the name of the catalog, and the
<code class="docutils literal notranslate"><span class="pre">connector.name</span></code> property.</p>
<p>For best practices, use the YAML multi-line syntax shown in the <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-catalogs"><span class="std std-ref">examples</span></a> to configure the content in multiple lines indented
below the catalog name.</p>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-catalogs"><span class="std std-ref">Default</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-catalogs"><span class="std std-ref">Catalog examples</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-teradata-direct-connector"><span class="std std-ref">Teradata Direct connector</span></a></p></li>
<li><p><a class="reference internal" href="hms-configuration.html"><span class="doc">Using the built in HMS with Hive connector and others</span></a></p></li>
</ul>
</section>
<section id="additional-volumes">
<span id="helm-sep-volumes"></span><h2 id="additional-volumes">Additional volumes<a class="headerlink" href="#additional-volumes" title="Permalink to this heading">#</a></h2>
<p>Additional <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#types-of-volumes">k8s
volumes</a>
can be necessary for persisting files, for <a class="reference internal" href="../object-storage/file-system-cache.html"><span class="doc">object storage caching</span></a>, and for a number of other use cases. These
can be defined in the <code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code> section (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-volumes"><span class="std std-ref">example</span></a>). None are defined <a class="reference internal" href="sep-config-examples.html#k8s-defaults-additionalvolumes"><span class="std std-ref">by default</span></a>.</p>
<table id="id14">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">additionalVolume</span></code> property nodes</span><a class="headerlink" href="#id14" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p>Specifies the path to the mounted volume. If you specify <code class="docutils literal notranslate"><span class="pre">path</span></code> only, a
directory named in <code class="docutils literal notranslate"><span class="pre">path</span></code> is created. When mounting ConfigMap or Secret,
files are created in this directory for each key.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">volume</span></code></p></td>
<td><p>A directory, with or without data, which is <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#background">accessible to the
containers in a pod</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hostpath</span></code></p></td>
<td><p>A volume with a <code class="docutils literal notranslate"><span class="pre">hostPath</span></code> defined <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath">mounts a file or
directory</a>
from the host node’s filesystem into your pod.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hostpath.path</span></code></p></td>
<td><p><strong>REQUIRED</strong> when using <code class="docutils literal notranslate"><span class="pre">hostPath</span></code>-mounted volumes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">subPath</span></code></p></td>
<td><p>When specified, a specific key named <code class="docutils literal notranslate"><span class="pre">subPath</span></code> from ConfigMap or Secret
is mounted as a file with name provided by <code class="docutils literal notranslate"><span class="pre">path</span></code>. This is an
alternative to using <code class="docutils literal notranslate"><span class="pre">hostpath</span></code>; you cannot define both for a volume.</p></td>
</tr>
</tbody>
</table>
<section id="adding-files">
<span id="helm-sep-adding-files"></span><h3 id="adding-files">Adding files<a class="headerlink" href="#adding-files" title="Permalink to this heading">#</a></h3>
<p>Various use cases around security and event listeners need additional config
files as properties or XML files. You can add any file to a pod using <a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/configmap/">config
maps</a>.</p>
<p>Types of files you may need to add:</p>
<ul class="simple">
<li><p>LDAP authentication file</p></li>
<li><p>Hive site xml file</p></li>
</ul>
<p>Alternatively you can also use <a class="reference internal" href="#helm-sep-volumes"><span class="std std-ref">additionalVolumes</span></a> to
mount the files and copy the files to appropriate location using <code class="docutils literal notranslate"><span class="pre">path</span></code> and
<code class="docutils literal notranslate"><span class="pre">subPath</span></code> parameter (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-adding-files"><span class="std std-ref">example</span></a>).</p>
</section>
</section>
<section id="prometheus">
<span id="helm-sep-prometheus"></span><h2 id="prometheus">Prometheus<a class="headerlink" href="#prometheus" title="Permalink to this heading">#</a></h2>
<p>This top level node configures the cluster to create <a class="reference external" href="https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/">Prometheus metrics</a>.
It is not to be confused with the connector of the same name. It is enabled
<a class="reference internal" href="sep-config-examples.html#k8s-defaults-prometheus"><span class="std std-ref">by default</span></a>.</p>
<p>We strongly suggest reviewing our <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-prometheus"><span class="std std-ref">example Prometheus rules</span></a>.</p>
</section>
<section id="sep-built-in-directories">
<span id="helm-sep-directories"></span><h2 id="sep-built-in-directories">SEP built-in directories<a class="headerlink" href="#sep-built-in-directories" title="Permalink to this heading">#</a></h2>
<p>The location of specific directories on the SEP container is important, if you
configure additional files or otherwise want to tweak the container.</p>
<p>SEP is configured to use the following directories in the container:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst</span></code>: Top level folder for the SEP binaries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/plugin</span></code>: All plugins for SEP including connectors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/etc</span></code>: <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder for SEP configuration files such as
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> and others.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/bin</span></code>: Location of the <code class="docutils literal notranslate"><span class="pre">run-starburst</span></code> script, which is invoked
with the container start.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/data/starburst/var/run</span></code>: Contains <code class="docutils literal notranslate"><span class="pre">launcher.pid</span></code> file used by the launcher
script.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/data/starburst/var/log</span></code>: Contains secondary, rotated log files. Main log is
redirected to stdout as recommended on containers.</p></li>
</ul>
</section>
<section id="init-containers">
<span id="helm-sep-initcontainers"></span><h2 id="init-containers">Init containers<a class="headerlink" href="#init-containers" title="Permalink to this heading">#</a></h2>
<p>Init containers are a Kubernetes feature designed for initialization and setup
tasks within a pod. Starburst recommends using init containers as they provide
alignment with Kubernetes <a class="reference external" href="https://kubernetes.io/docs/concepts/workloads/pods/init-containers/#using-init-containers">best practices</a>.</p>
<p>Using an init container within a pod allows you to prepare configuration and
plugin files with a different Docker image than your main SEP containers. The
init container’s Docker image may contain additional tools and utilities that
are not available in the SEP image.</p>
<section id="images">
<h3 id="images">Images<a class="headerlink" href="#images" title="Permalink to this heading">#</a></h3>
<p>The SEP Docker image does not include command line tools such as <code class="docutils literal notranslate"><span class="pre">curl</span></code>,
<code class="docutils literal notranslate"><span class="pre">vi</span></code>, <code class="docutils literal notranslate"><span class="pre">nano</span></code>, <code class="docutils literal notranslate"><span class="pre">sed</span></code>, <code class="docutils literal notranslate"><span class="pre">awk</span></code>, and <code class="docutils literal notranslate"><span class="pre">grep</span></code>. However, there are several
lightweight images you can use for your init container that provide access to
some of these tools. Here are some images to consider:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ubi9/ubi-minimal</span></code> provides tools like <code class="docutils literal notranslate"><span class="pre">curl</span></code>, <code class="docutils literal notranslate"><span class="pre">sed</span></code>, and <code class="docutils literal notranslate"><span class="pre">grep</span></code>.
However, it lacks <code class="docutils literal notranslate"><span class="pre">vi</span></code>.</p>
<ul>
<li><p>For more information, see <a class="reference external" href="https://catalog.redhat.com/software/containers/ubi9/ubi-minimal/615bd9b4075b022acc111bf5">Red Hat Universal Base Image 9 Minimal</a>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ubi9/ubi</span></code> provides tools like <code class="docutils literal notranslate"><span class="pre">curl</span></code>, <code class="docutils literal notranslate"><span class="pre">sed</span></code>, <code class="docutils literal notranslate"><span class="pre">grep</span></code>, and <code class="docutils literal notranslate"><span class="pre">vi</span></code>.</p>
<ul>
<li><p>For more information, see <a class="reference external" href="https://catalog.redhat.com/software/containers/ubi9/ubi/615bcf606feffc5384e8452e">Red Hat Universal Base Image 9 Full</a>.</p></li>
</ul>
</li>
</ul>
<p>Using init containers with native cloud authentication capabilities may simplify
your tasks. There are official images provided by AWS, GCP, or Azure that come
with the relevant CLI tools pre-installed:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">amazon/aws-cli</span></code></p>
<ul>
<li><p>For more information, see <a class="reference external" href="https://aws.amazon.com/cli/">AWS CLI</a>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">google/cloud-sdk</span></code></p>
<ul>
<li><p>For more information, see <a class="reference external" href="https://cloud.google.com/sdk/docs/downloads-docker">Google Cloud SDK</a>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">mcr.microsoft.com/azure-cli</span></code></p>
<ul>
<li><p>For more information, see <a class="reference external" href="https://learn.microsoft.com/en-us/cli/azure/run-azure-cli-docker">Azure CLI</a>.</p></li>
</ul>
</li>
</ul>
</section>
<section id="shared-volumes">
<h3 id="shared-volumes">Shared volumes<a class="headerlink" href="#shared-volumes" title="Permalink to this heading">#</a></h3>
<p>To make the files and data stored in your init container accessible to the main
containers in your pod, you must mount shared volumes in both the init
container and main containers. This ensures that your main containers can access
your init container’s resources.</p>
<p>The following example demonstrates mounting a shared volume in all of your pod’s
containers by defining an <code class="docutils literal notranslate"><span class="pre">emptyDir</span></code> volume in the <code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code>
section of the Helm chart:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">initContainers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">prep-node-properties</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">busybox:1.28</span>
    <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">"sh"</span><span class="p p-Indicator">]</span>
    <span class="nt">args</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">-c</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">|</span>
      <span class="no">grep -v node.environment /etc/starburst/node.properties &gt; /mnt/node.properties</span>
      <span class="no">echo node.environment=$SEPENV &gt;&gt; /mnt/node.properties</span>
<span class="nt">additionalVolumes</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/mnt</span>
  <span class="nt">volume</span><span class="p">:</span>
    <span class="nt">emptyDir</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">initFile</span><span class="p">:</span> <span class="p p-Indicator">|</span>
  <span class="no">#!/bin/bash</span>
  <span class="no">mv /mnt/node.properties2 /etc/starburst/node.properties</span>
  <span class="no">exec /usr/lib/starburst/bin/run-starburst</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">volumeMounts</span></code> entries in the <code class="docutils literal notranslate"><span class="pre">initContainers</span></code> and <code class="docutils literal notranslate"><span class="pre">sidecars</span></code>
sections are automatically added for all <code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code>.</p>
</div>
<p>For more information on additional volumes, see <a class="reference internal" href="#helm-sep-volumes"><span class="std std-ref">additional volumes</span></a>.</p>
</section>
<section id="moving-files">
<h3 id="moving-files">Moving files<a class="headerlink" href="#moving-files" title="Permalink to this heading">#</a></h3>
<p>You can use init containers to move files within your pod. This is useful for
transferring certificates or data from your init container to your pod’s main
containers. The following example demonstrates how to use an init container to
move a file within your pod:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">initContainers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">coordinator-pre-init</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">registry.access.redhat.com/ubi9/ubi:latest</span>
    <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">"sh"</span><span class="p p-Indicator">]</span>
    <span class="nt">args</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">-c</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">|</span>
      <span class="no">curl https://jdbc.postgresql.org/download/postgresql-42.2.16.jar --output postgresql.jar</span>
      <span class="no">ls -l /downloads</span>

<span class="nt">worker</span><span class="p">:</span>
  <span class="nt">initContainers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">worker-pre-init</span>
    <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">registry.access.redhat.com/ubi9/ubi:latest</span>
    <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">"sh"</span><span class="p p-Indicator">]</span>
    <span class="nt">args</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">-c</span>
    <span class="p p-Indicator">-</span> <span class="p p-Indicator">|</span>
      <span class="no">curl https://jdbc.postgresql.org/download/postgresql-42.2.16.jar --output postgresql.jar</span>
      <span class="no">ls -l /downloads</span>

<span class="nt">additionalVolumes</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">downloads</span>
    <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/downloads</span>
    <span class="nt">volume</span><span class="p">:</span>
      <span class="nt">emptyDir</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</section>
<section id="sidecars">
<h3 id="sidecars">Sidecars<a class="headerlink" href="#sidecars" title="Permalink to this heading">#</a></h3>
<p>Extra sidecars and init containers can be specified to run together with
coordinator or worker pods. You can use these containers for a number of use
cases, such as to prepare an additional driver for the SEP runtime. The
following example demonstrates declaring both sidecars and init containers:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">sidecars</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sidecar-1</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alpine:3</span>
      <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"ping"</span> <span class="p p-Indicator">]</span>
      <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"127.0.0.1"</span> <span class="p p-Indicator">]</span>
  <span class="nt">initContainers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">init-1</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alpine:3</span>
      <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"bash"</span><span class="p p-Indicator">,</span> <span class="s">"-c"</span><span class="p p-Indicator">,</span> <span class="s">"printenv</span><span class="nv"> </span><span class="s">&gt;</span><span class="nv"> </span><span class="s">/mnt/InContainer/printenv.txt"</span> <span class="p p-Indicator">]</span>

<span class="nt">worker</span><span class="p">:</span>
  <span class="nt">sidecars</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sidecar-3</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alpine:3</span>
      <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"ping"</span> <span class="p p-Indicator">]</span>
      <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"127.0.0.1"</span> <span class="p p-Indicator">]</span>

<span class="nt">additionalVolumes</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/mnt/InContainer</span>
    <span class="nt">volume</span><span class="p">:</span>
      <span class="nt">emptyDir</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>
</section>
</section>
<section id="keda-scaler">
<span id="keda-sep-scaler"></span><h2 id="keda-scaler">KEDA scaler<a class="headerlink" href="#keda-scaler" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://keda.sh/">KEDA</a> is a Kubernetes-based Event Driven Autoscaler. SEP
can be configured with an <a class="reference external" href="https://keda.sh/docs/2.6/concepts/external-scalers/">external KEDA scaler</a> to adjust the number of
workers automatically based on JVM performance metrics available via JMX. Once
it is enabled with the <code class="docutils literal notranslate"><span class="pre">.Values.worker.kedaScaler.enabled</span></code> property, the
coordinator pod runs an additional container called <code class="docutils literal notranslate"><span class="pre">keda-trino-scaler</span></code>. This
container works as a GRPC service, and communicates with KEDA to scale workers.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.Values.worker.autoscaling</span></code> and <code class="docutils literal notranslate"><span class="pre">.Values.worker.kedaScaler.enabled</span></code>
properties enable mutually-exclusive features that cannot be enabled together
as <a class="reference external" href="https://keda.sh/docs/2.6/concepts/scaling-deployments/#scaling-of-deployments-and-statefulsets">KEDA also uses HPA</a>
to scale Kubernetes Deployments.</p>
</div>
<section id="prerequisites">
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><a class="reference external" href="https://keda.sh/docs/2.6/deploy/#helm">KEDA with Helm</a> - versions 2.6.x and
higher are required.</p></li>
<li><p>Prometheus JMX Exporter - The SEP Helm chart ensures that the exporter
is enabled, and configured with all necessary rules.</p></li>
</ul>
</section>
<section id="configuration">
<h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before modifying the default KEDA configurations, review the <a class="reference external" href="https://keda.sh/docs/latest/concepts/scaling-deployments/#idlereplicacount">KEDA scaling
deployment
documentation</a>.</p>
</div>
<p>The following nodes and node sections configure the KEDA scaler:</p>
<table id="id15">
<caption><span class="caption-text">KEDA configuration nodes and sections for SEP</span><a class="headerlink" href="#id15" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node or section name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">.Values.worker.kedaScaler</span></code></p></td>
<td><p>Set this node to <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable the KEDA scaler.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">scaledObjectSpec</span></code> node structure</p></td>
<td><p>Corresponds to the parameters such as <code class="docutils literal notranslate"><span class="pre">pollingInterval</span></code>,
<code class="docutils literal notranslate"><span class="pre">minReplicaCount</span></code>, <code class="docutils literal notranslate"><span class="pre">maxReplicaCount</span></code>, and others found in the <a class="reference external" href="https://keda.sh/docs/2.6/concepts/scaling-deployments/#scaledobject-spec">KEDA
ScaledObject
spec</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scaledObjectSpec.triggers[0].metadata</span></code> section</p></td>
<td><p>Defines the scaling method implemented by this scaler. Only the
<code class="docutils literal notranslate"><span class="pre">query_queue</span></code> scaling method is available for SEP. It is enabled by
default. The value for <code class="docutils literal notranslate"><span class="pre">query_queue</span></code> is the number of outstanding
queries present on the cluster regardless of processing status.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">numberOfQueriesPerWorker</span></code></p></td>
<td><p>Defines the maximum number of concurrent queries handled by a single
worker. For example, if set to <code class="docutils literal notranslate"><span class="pre">10</span></code>, and there are currently <code class="docutils literal notranslate"><span class="pre">34</span></code>
queries submitted but not completed, KEDA scales out the workers to
<code class="docutils literal notranslate"><span class="pre">4</span></code> replicas if <code class="docutils literal notranslate"><span class="pre">maxReplicaCount</span> <span class="pre">&gt;=</span> <span class="pre">4</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scaleInToIdleReplicaCountIfNoQueuedQueriesLeft</span></code></p></td>
<td><p>Reduces the number of workers to <code class="docutils literal notranslate"><span class="pre">idleReplicaCount</span></code> when the query queue is
empty. KEDA requires the value for <code class="docutils literal notranslate"><span class="pre">idleReplicaCount</span></code> to be less than the
value of <code class="docutils literal notranslate"><span class="pre">minReplicaCount</span></code>. Must be set to <code class="docutils literal notranslate"><span class="pre">0</span></code> due to a KEDA limitation. For
more information, see the <a class="reference external" href="https://keda.sh/docs/latest/concepts/scaling-deployments/#idlereplicacount">KEDA scaling deployment
documentation</a>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using JMX metrics to monitor your deployment, you must explicitly
list those metrics in the JMX metrics whitelist located in the
<code class="docutils literal notranslate"><span class="pre">prometheus.whitelistObjectNames</span></code> section of your <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file. This
allows KEDA to access the required JMX metrics for scaling.</p>
</div>
</section>
<section id="troubleshooting">
<h3 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">#</a></h3>
<p>When the KEDA scaler does not behave as expected, review the following logs:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keda-trino-scaler</span></code> container logs in the coordinator pod</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">keda-operator</span></code> logs in the <code class="docutils literal notranslate"><span class="pre">keda</span></code> namespace</p></li>
</ul>
</section>
</section>
<section id="helm-troubleshooting-tips">
<span id="id1"></span><h2 id="helm-troubleshooting-tips">Helm troubleshooting tips<a class="headerlink" href="#helm-troubleshooting-tips" title="Permalink to this heading">#</a></h2>
<p>Here are some things to keep in mind as you implement SEP with Kubernetes and
Helm in your organization.</p>
<ul>
<li><p>Helm is space-sensitive and tabs are not valid. Our default
<code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file uses 2-space indents. Ensure that your code editor
preserves the correct indentation as it copies and pastes text.</p></li>
<li><p>Special characters such as square brackets <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code>, curly braces <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">}</span></code>, and
non-alphanumeric characters such as <code class="docutils literal notranslate"><span class="pre">$</span></code>, <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, and <code class="docutils literal notranslate"><span class="pre">!</span></code> must be escaped or
enclosed in quotes to prevent them being misinterpreted as part of YAML
syntax. Escaping with a backslash indicates that a character should be treated
as a literal character. Enclosing strings in single or double quotes ensures
that the entire string is treated as plain text. For example:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">password</span><span class="p">:</span> <span class="s">'ExamplePa$$word!'</span>
</pre></div>
</div>
</li>
<li><p>If your YAML files fail to parse, The Helm documentation provides <a class="reference external" href="https://helm.sh/docs/chart_template_guide/debugging/">several
tools to debug this issue</a>.</p></li>
<li><p>Sometimes problems can arise from improperly formatted YAML files.
SEP uses Helm to build its <code class="docutils literal notranslate"><span class="pre">*.properties</span></code> files from YAML both with
YAML key-value pairs and with multi-line strings. We recommend that you
review the <a class="reference external" href="https://helm.sh/docs/chart_template_guide/yaml_techniques/">YAML techniques</a>
used in Helm to ensure that you are comfortable with using the Helm multi-line
strings feature, and to understand the importance of consistent indentation.</p></li>
<li><p>Units can also be a source of confusion. We strongly suggest that you pay
close attention to any units regarding memory and storage. In general, units
provided for multiline strings that feed into SEP configuration files are in
traditional metric bytes, such as megabytes (MB) and gigabytes (GB) as used by
SEP. However, machine sizing and other values  are in binary multiples such
as mebibytes (Mi) and gibibytes (Gi), since these are used directly by Helm
and Kubernetes.</p></li>
</ul>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Email</button>
        <a onclick="skip()" class="feedback-skip">Cancel</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="installation.html" title="Installing Starburst Enterprise in a Kubernetes cluster"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Installing Starburst Enterprise in a Kubernetes cluster </span>
              </div>
            </a>
          
          
            <a href="sep-config-examples.html" title="Kubernetes configuration examples"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Kubernetes configuration examples </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          <img src="../_static/img/Starburst_Logo_White+Blue.svg" height="34"
            alt="Starburst Enterprise 462-e.5 LTS logo">
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2024<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="https://docs.starburst.io/462-e/_static/algolia.js"></script>
<script src="https://docs.starburst.io/462-e/_static/searchbox.js" data-versions="{'Latest LTS (468-e)': '/468-e/', '462-e LTS': '/462-e/', '453-e LTS': '/453-e/', '443-e LTS': '/443-e/', 'Latest STS (467-e)': '/467-e/'}"></script>
<script src="https://docs.starburst.io/462-e/_static/searchresults.js" data-versions="{'Latest LTS (468-e)': '/468-e/', '462-e LTS': '/462-e/', '453-e LTS': '/453-e/', '443-e LTS': '/443-e/', 'Latest STS (467-e)': '/467-e/'}"></script>
  </body>
</html>