<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst | Amazon S3</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst - Amazon S3">
    <meta property="og:description" content="Your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/starburst-og-image.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <link rel="stylesheet" href="/assets/css/style.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114610397-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114610397-1');
</script>

<script>
  var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights@2.2.1";

  !function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
  (e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
  i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
  }(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Amazon S3 | Starburst</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Amazon S3" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Your hub to all knowledge about Starburst products." />
<meta property="og:description" content="Your hub to all knowledge about Starburst products." />
<link rel="canonical" href="https://docs.starburst.io/ecosystems/amazon/data-sources/s3.html" />
<meta property="og:url" content="https://docs.starburst.io/ecosystems/amazon/data-sources/s3.html" />
<meta property="og:site_name" content="Starburst" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Amazon S3" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Your hub to all knowledge about Starburst products.","headline":"Amazon S3","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.starburst.io/assets/img/logo/starburst-reverse.png"}},"url":"https://docs.starburst.io/ecosystems/amazon/data-sources/s3.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>


<div class="wrap">
  

<header class="main-header">
  <div class="navbar fixed-top navbar-dark">
    <div class="navbar-left-container">
      <a class="navbar-brand" href="https://www.starburst.io/">
        <img src="/assets/img/logo/starburst-reverse.png" height="40" alt=" Starburst">
      </a>
      <span class="navbar-divider"></span>
      <a href="/" class="header-text">Documentation</a>
    </div>
    
    <div class="nav-item dropdown" id="site-search">
  <div id="dropdownSearchDisplay" aria-labelledby="dropdownSearch">
    <div id="algolia-search">
      <div id="searchbox"></div>
      <div id="refinement-list">
        <h6>Filter:</h6>
      </div>
      <div id="hits"></div>
      <div id="stats"></div>
    </div>
  </div>
</div>

    
  </div>
  <nav class="primary-nav">
    <ul class="navbar-layout ml-auto">
      <li class="nav-item dropdown">
        <a id="get-started"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="Get started" data-is-click="false"
          href="/get-started/index.html">Get started</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/get-started/concepts.html">Concepts</a>
          <a class="dropdown-item" href="/get-started/data-sources-catalogs.html">Data sources and catalogs</a>
          <a class="dropdown-item" href="/get-started/choose-your-starburst-product.html">Choose your Starburst product</a>
          <a class="dropdown-item" href="/data-consumer/index.html">Data consumer</a>
          <a class="dropdown-item" href="/data-engineer/index.html">Data engineer</a>
          <a class="dropdown-item" href="/platform-administrator/index.html">Platform administrator</a>
        </div>
      </li>
       <li class="nav-item dropdown">
        <a id="starburst-galaxy"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="Starburst Galaxy" data-is-click="false"
          href="/starburst-galaxy/index.html">Starburst Galaxy</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/starburst-galaxy/query/index.html">Query</a>
          <a class="dropdown-item" href="/starburst-galaxy/catalogs/index.html">Catalogs</a>
          <a class="dropdown-item" href="/starburst-galaxy/clusters/index.html">Clusters</a>
          <a class="dropdown-item" href="/starburst-galaxy/sql/index.html">SQL</a>
          <a class="dropdown-item" href="/starburst-galaxy/admin/index.html">Admin</a>
          <a class="dropdown-item" href="/starburst-galaxy/access-control/index.html">Access control</a>
          <a class="dropdown-item" href="/starburst-galaxy/cloud-settings/index.html">Cloud settings</a>
          <a class="dropdown-item" href="/starburst-galaxy/security/index.html">Security</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a id="starburst-enterprise"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="Get started" data-is-click="false"
          href="/starburst-enterprise/index.html">Starburst Enterprise</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/starburst-enterprise/try/index.html">Try Starburst Enterprise</a>
          <a class="dropdown-item" href="/starburst-enterprise/web-ui/index.html">Web UI</a>
          <a class="dropdown-item" href="/starburst-enterprise/sql.html">SQL</a>
          <a class="dropdown-item" href="/starburst-enterprise/admin-topics/index.html">Administration</a>
          <a class="dropdown-item" href="/starburst-enterprise/k8s/index.html">Kubernetes deployments</a>
          <a class="dropdown-item" href="/starburst-enterprise/starburst-admin/index.html">Starburst Admin</a>
          <a class="dropdown-item" href="/latest/index.html">Reference documentation</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a id="ecosystems"
           class="nav-link dropdown-toggle active"
          
          aria-haspopup="true" aria-label="Get started" data-is-click="false"
          href="/ecosystems/index.html">Ecosystems</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/ecosystems/amazon/index.html">Amazon AWS</a>
          <a class="dropdown-item" href="/ecosystems/google/index.html">Google Cloud</a>
          <a class="dropdown-item" href="/ecosystems/microsoft/index.html">Microsoft Azure</a>
          <a class="dropdown-item" href="/ecosystems/redhat/index.html">Red Hat OpenShift</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a id="resources"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="resources" data-is-click="false"
          href="/resources.html">Resources</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/support.html">Support</a>
          <a class="dropdown-item" href="/security/index.html">Security</a>
          <a class="dropdown-item" href="/blog/index.html">Developer blog</a>
          <a class="dropdown-item" href="/videos/index.html">Video library</a>
          <a class="dropdown-item" href="/glossary.html">Glossary</a>
          <a class="dropdown-item" href="https://www.trinoforum.org/">Trino forum</a>
        </div>
      </li>
    </ul>
  </nav>
</header>

  
  <div class="content">
    <div class="row">
      <div class="col-md-3 side-navigation">
        <div class="spacer-60 toc-sticky left-nav">
          
          <div>
    <h6 class="overline product-nav-title">Amazon AWS ecosystem</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/ecosystems/amazon/index.html" >Overview</a>
</li>
  



 





<li  class="active" 
    onclick="toggle_navigation_visibility('data');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Data sources&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="data" class="doc-subnav ">
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/data-sources/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li class="active"
      
    >
    <a href="/ecosystems/amazon/data-sources/s3.html" >Amazon S3</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/data-sources/glue.html" >AWS Glue</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/data-sources/rds.html" >Amazon RDS</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/data-sources/redshift.html" >Amazon Redshift</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/data-sources/dynamodb.html" >Amazon Dynamodb</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('aws-marketplace');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    AWS Marketplace offerings&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="aws-marketplace" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/aws-marketplace/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/aws-marketplace/aws-marketplace-cft.html" >AWS Marketplace CFT</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/aws-marketplace/aws-marketplace-eks.html" >AWS Marketplace EKS</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('eks');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Amazon EKS&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="eks" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/eks/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/eks/eks-cluster-creation.html" >Cluster creation</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/eks/eks-networking.html" >Networking</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/eks/eks-iam.html" >Configure IAM in EKS</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/eks/eks-sep.html" >Prepare for installation</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('cft');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Amazon CFT&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="cft" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/cft/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/cft/cft-connection-info.html" >Connection parameters in CFT</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/ecosystems/amazon/cft/operate-sep-in-aws.html" >Operate SEP in AWS</a>
  </li>
  
  
</ul>



<div style="padding-top: 3em;">
  <h6 class="overline product-nav-title">Resources</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/support.html" >Support</a>
</li>
  



 
  
    
    
<li >
  <a href="/security/index.html" >Security</a>
</li>
  



 
  
    
    
<li >
  <a href="/blog/index.html" >Developer blog</a>
</li>
  



 
  
    
    
<li >
  <a href="/videos/index.html" >Video library</a>
</li>
  



 
  
    
    
<li >
  <a href="/glossary.html" >Glossary</a>
</li>
  



 
  
    
    
<li >
  <a href="https://www.trinoforum.org/" >Trino Forum</a>
</li>
  




          
        </div>
      </div>
      <div class="col-md-9 col-lg-6 spacer-30 docs-content">
        



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/ecosystems/"
        style="text-transform: uppercase"
      > ecosystems</a> >
    
  
    
      <a href="/ecosystems/amazon/"
        style="text-transform: uppercase"
      > amazon</a> >
    
  
    
      <a href="/ecosystems/amazon/data-sources/"
        style="text-transform: uppercase"
      > data sources</a> >
    
  
    
      Amazon S3
    
  </p>
</div>

        <h1 id="amazon-s3">
        
        
          Amazon S3 <a href="#amazon-s3" class="titleAnchor">#</a>
        
        
      </h1>
    

<div class="row-with-logo">
<div class="row-with-logo-text-container">
    <p>You can query data stored on the Amazon Simple Storage Service (Amazon S3) with
Starburst Galaxy and Starburst Enterprise platform (SEP).</p>
  </div>
<div class="row-with-logo-image-container">
  <img class="img-fluid" src="../../../assets/img/logo/s3.png" alt="Amazon S3" />
</div>
</div>
      <h2 id="starburst-galaxy">
        
        
          Starburst Galaxy <a href="#starburst-galaxy" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Use an <a href="../../../starburst-galaxy/catalogs/s3.html">S3 catalog</a>.</p>
      <h2 id="starburst-enterprise">
        
        
          Starburst Enterprise <a href="#starburst-enterprise" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>The most common usage is with the <a href="../../../latest/connector/starburst-hive.html">Hive
connector</a>, and the dedicated
<a href="../../../latest/connector/hive-s3.html">configuration options for S3-access</a>.</p>

<p>In addition, you need to store the meta data about the object storage. Typically
this is done with <a href="./glue.html">AWS Glue</a>, but you can also use your own Hive
Metastore Service (HMS).</p>

<p>Amazon S3 can also be used as storage backend with other systems, and then
queried with the dedicated connector:</p>

<ul>
  <li><a href="../../../latest/connector/starburst-delta-lake.html">Delta Lake</a></li>
  <li><a href="../../../latest/connector/starburst-iceberg.html">Iceberg</a></li>
  <li><a href="../../../latest/connector/starburst-snowflake.html">Snowflake</a></li>
</ul>

<p>Ensure the requirements for the connector are fulfilled.</p>
      <h3 id="requirements">
        
        
          Requirements <a href="#requirements" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>To enable access to S3 with Starburst Enterprise platform (SEP), the following conditions
must be met:</p>

<ul>
  <li>Your SEP cluster must have the necessary permissions needed to
access your S3 data.</li>
  <li>Requirements of the connector used for the catalog you use to access S3 need
to be fulfilled. Typically this includes a meta store, either <a href="./glue.html">AWS
Glue</a>, or a HMS.</li>
</ul>
      <h3 id="ensuring-sep-access-to-s3">
        
        
          Ensuring SEP access to S3 <a href="#ensuring-sep-access-to-s3" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>If your S3 data is publicly available, you do not need to do anything. However,
S3 data is not typically publicly available, and you must grant
SEP access to it.</p>

<p>You get the best performance with a high performance network connection, and
when S3 and the cluster are located close to each other. Configure an <a href="https://docs.aws.amazon.com/general/latest/gr/s3.html">S3
endpoint</a>, if your
cluster is located in a different AWS account.</p>

<p>With the CFT support, you must <a href="../../../latest/aws/requirements.html#aws-instance-profiles">select an appropriate instance
profile</a> when
creating a cluster.</p>

<p>Validate that the selected instance profile is sufficient for SEP
to read S3 data by opening an SSH connection to the coordinator and issuing the
following commands:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>aws s3 <span class="nb">ls </span>s3://your-bucket/path/to/dataset/
<span class="nv">$ </span>aws s3 <span class="nb">cp </span>s3://your-bucket/path/to/dataset/data-file - <span class="o">&gt;</span> /dev/null
</code></pre></div></div>
      <h4 id="configuring-a-catalog-and-meta-store">
        
        
          Configuring a catalog and meta store <a href="#configuring-a-catalog-and-meta-store" class="titleAnchor">#</a>
        
        
      </h4>
    

<p>A <a href="../../../data-engineer/catalogs.html">catalog must be created</a> for your S3
bucket.</p>

<p>Users of the CFT can  <a href="../../../latest/aws/metastore.html">create a new HMS</a>
via a CloudFormation template. It must have an instance profile
granting access to S3. Alternatively, you can use an existing HMS:</p>

<ol>
  <li>Set the <strong>MetastoreType</strong> parameter to <code class="language-plaintext highlighter-rouge">External Hive Metastore
  Service</code> and <strong>ExternalMetastoreHost</strong> to IP address of your HMS.</li>
</ol>

<p><a href="../../../latest/k8s.html">Kubernetes deployments</a> using our Helm charts can
perform a similar configuration.</p>

<p>If the HMS uses authentication, review the Hive connector security
<a href="../../../latest/connector/hive-security.html">documentation</a> to configure the
connector for your environment.</p>
      <h2 id="usage-tips">
        
        
          Usage tips <a href="#usage-tips" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>The following sections describe usage tips applicable to Starburst Galaxy and
.</p>
      <h3 id="reading-data-from-s3">
        
        
          Reading data from S3 <a href="#reading-data-from-s3" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>If you chose an existing HMS instance when configuring the Hive catalog, chances
are that your S3 data is already mapped to SQL tables in the HMS. In that case,
you should be able to query it immediately.</p>

<p>If you created a new HMS instance, it is likely that your S3 data is not yet
mapped. In the HMS you must provide the schema of the data, the file format, and
the data location. For example, if you have ORC or Parquet files in an S3
bucket, <code class="language-plaintext highlighter-rouge">my_bucket</code>, create a queryable table in the desired schema of your
catalog.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  USE hive.default<span class="p">;</span>
  CREATE TABLE orders <span class="o">(</span>
       orderkey bigint,
       custkey bigint,
       orderstatus varchar<span class="o">(</span>1<span class="o">)</span>,
       totalprice double,
       orderdate <span class="nb">date</span>,
       orderpriority varchar<span class="o">(</span>15<span class="o">)</span>,
       clerk varchar<span class="o">(</span>15<span class="o">)</span>,
       shippriority integer,
       comment varchar<span class="o">(</span>79<span class="o">)</span>
    <span class="o">)</span> WITH <span class="o">(</span>
      external_location <span class="o">=</span> <span class="s1">'s3://my_bucket/path/to/folder'</span>,
      format <span class="o">=</span> <span class="s1">'ORC'</span> <span class="nt">--</span> or <span class="s1">'PARQUET'</span>
    <span class="o">)</span><span class="p">;</span>
</code></pre></div></div>

<p>Query the newly mapped table as usual:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  SELECT <span class="k">*</span> FROM orders<span class="p">;</span>
</code></pre></div></div>
      <h3 id="statistics">
        
        
          Statistics <a href="#statistics" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>If your queries are complex and include joining large datasets, you may run
into performance issues. This is because SEP does not know the
statistical properties of the data necessary for the cost-based optimizer’s
decisions.</p>

<p>To gather table statistics, execute the following command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ANALYZE orders<span class="p">;</span>
</code></pre></div></div>
      <h3 id="writing-data-to-s3">
        
        
          Writing data to S3 <a href="#writing-data-to-s3" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>After configuring  SEP to read data from S3, you can write to it.</p>

<p>If your HMS contains schema(s) mapped to S3 locations, you can use
them to export data to S3. If you don’t want to use existing schemas (or there
are no appropriate schemas in the HMS), create a new one.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  CREATE SCHEMA hive.s3_export WITH <span class="o">(</span>location <span class="o">=</span> <span class="s1">'s3://my_bucket/some/path'</span><span class="o">)</span><span class="p">;</span>
</code></pre></div></div>

<p>Once you have a schema pointing to a location where you want to export the data,
export data using a <code class="language-plaintext highlighter-rouge">CREATE TABLE AS</code> statement that specifies your
desired file format:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  CREATE TABLE hive.s3_export.my_table
  WITH <span class="o">(</span>format <span class="o">=</span> <span class="s1">'ORC'</span><span class="o">)</span>
  AS &lt;<span class="nb">source </span>query&gt;<span class="p">;</span>
</code></pre></div></div>

<p>Data is written to one or more files within the
<code class="language-plaintext highlighter-rouge">s3://my_bucket/some/path/my_table</code> namespace. The number of files depends on
the size of the data being exported and possible parallelization of the source
of the data.</p>

        <div class="d-lg-none">
          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
      <div class="col-lg-3 toc-styles d-none d-lg-block">
        <div class="spacer-60 toc-sticky">
          <ul><li><a href="#amazon-s3">Amazon S3</a><ul><li><a href="#starburst-galaxy">Starburst Galaxy</a></li><li><a href="#starburst-enterprise">Starburst Enterprise</a><ul><li><a href="#requirements">Requirements</a></li><li><a href="#ensuring-sep-access-to-s3">Ensuring SEP access to S3</a><ul><li><a href="#configuring-a-catalog-and-meta-store">Configuring a catalog and meta store</a></li></ul></li></ul></li><li><a href="#usage-tips">Usage tips</a><ul><li><a href="#reading-data-from-s3">Reading data from S3</a></li><li><a href="#statistics">Statistics</a></li><li><a href="#writing-data-to-s3">Writing data to S3</a></li></ul></li></ul></li></ul>

          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
  </div>
  
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://trinoforum.org" target="_blank">Trino Forum</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#download" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">
        <a href="https://www.starburst.io/" target="_blank"><img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst" style="margin-bottom:20px;"></a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
  <script type="text/javascript" src="/assets/js/custom.js"></script>
  <script type="text/javascript" src="/assets/js/algolia.js"></script>
  <script type="text/javascript" src="/assets/js/search-box.js"></script>
  <script type="text/javascript" src="/assets/js/search-results.js"></script>
</body>
</html>

