<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst | Google Kubernetes Engine deployments</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst - Google Kubernetes Engine deployments">
    <meta property="og:description" content="Your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/logo/starburst-reverse.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/style.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114610397-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114610397-1');
</script>

</head>
<body>


<div class="wrap">
  

<header style="padding-top:74px;">
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <div class="navbar-left-container">
      <a class="navbar-brand" href="https://www.starburst.io/">
        <img src="/assets/img/logo/starburst-reverse.png" height="40" alt=" Starburst">
      </a>
      <span class="navbar-divider"></span>
      <a href="/" class="nav-item nav-link">DOCUMENTATION</a>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown">
          <a id="get-started"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="Get started" data-is-click="false"
            href="/get-started/index.html">GET STARTED</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/get-started/index.html">Overview</a>
            <a class="dropdown-item" href="/data-consumer/index.html">Data consumer</a>
            <a class="dropdown-item" href="/data-engineer/index.html">Data engineer</a>
            <a class="dropdown-item" href="/platform-administrator/index.html">Platform administrator</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="starburst-enterprise"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="Get started" data-is-click="false"
            href="/starburst-enterprise/index.html">STARBURST ENTERPRISE</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/starburst-enterprise/index.html">Overview</a>
            <a class="dropdown-item" href="/starburst-enterprise/try/index.html">Try Starburst Enterprise</a>
            <a class="dropdown-item" href="/latest/index.html">Reference documentation</a>
            <a class="dropdown-item" href="/starburst-enterprise/starburst-admin/index.html">Starburst Admin</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="ecosystems"
             class="nav-link dropdown-toggle active"
            
            aria-haspopup="true" aria-label="Get started" data-is-click="false"
            href="/ecosystems/index.html">ECOSYSTEMS</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/ecosystems/index.html">Overview</a>
            <a class="dropdown-item" href="/ecosystems/amazon/index.html">Amazon AWS</a>
            <a class="dropdown-item" href="/ecosystems/google/index.html">Google Cloud</a>
            <a class="dropdown-item" href="/ecosystems/microsoft/index.html">Microsoft Azure</a>
            <a class="dropdown-item" href="/ecosystems/redhat/index.html">Red Hat OpenShift</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="starburst-galaxy"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="Starburst Galaxy" data-is-click="false"
            href="/starburst-galaxy/index.html">STARBURST GALAXY</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/starburst-galaxy/index.html">Overview</a>
            <a class="dropdown-item" href="/starburst-galaxy/worksheets/index.html">Worksheets</a>
            <a class="dropdown-item" href="/starburst-galaxy/catalogs/index.html">Catalogs</a>
            <a class="dropdown-item" href="/starburst-galaxy/warehouses/index.html">Warehouses</a>
            <a class="dropdown-item" href="/starburst-galaxy/admin/index.html">Admin</a>
          </div>
        </li>
        <li class="nav-item">
          <a id="support"
             class="nav-link" 
            href="/support.html">SUPPORT</a>
        </li>
        
        <li class="nav-item dropdown" id="site-search">
  <a id="dropdownSearch">
    <i class="fa fa-search" style="color: #ffffff; vertical-align: sub"></i>
  </a>
  <div id="dropdownSearchDisplay" class="dropdown-menu" aria-labelledby="dropdownSearch">
    <div id="algolia-search">
      <div id="searchbox"></div>
      <div id="refinement-list">
        <h6>Filter:</h6>
      </div>
      <div id="hits"></div>
      <div id="stats"></div>
    </div>
  </div>
</li>

        
      </ul>
    </div>
  </nav>
</header>

  
  <div class="content">
    <div class="row">
      <div class="col-md-3 side-navigation">
        <div class="spacer-60 toc-sticky left-nav">
          
          <div>
    <h6 class="overline product-nav-title">Google Cloud ecosystem</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/ecosystems/google/index.html" >Overview</a>
</li>
  



 
  
    
    
<li class="active">
  <a href="/ecosystems/google/gke.html" >Google Kubernetes Engine GKE</a>
</li>
  



 
  
    
    
<li >
  <a href="/ecosystems/google/gcp-marketplace.html" >GCP Marketplace offering</a>
</li>
  



<div style="padding-top: 3em;">
  <h6 class="overline product-nav-title">Resources</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/glossary.html" >Glossary</a>
</li>
  



 
  
    
    
<li >
  <a href="/videos/index.html" >Video library</a>
</li>
  




          
        </div>
      </div>
      <div class="col-md-9 col-lg-6 spacer-30 docs-content">
        



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/ecosystems/"
        style="text-transform: uppercase"
      > ecosystems</a> >
    
  
    
      <a href="/ecosystems/google/"
        style="text-transform: uppercase"
      > google</a> >
    
  
    
      Google Kubernetes Engine deployments
    
  </p>
</div>

        <h1 id="google-kubernetes-engine-deployments">
        
        
          Google Kubernetes Engine deployments <a href="#google-kubernetes-engine-deployments" class="titleAnchor">#</a>
        
        
      </h1>
    

<p>The <a href="https://cloud.google.com/kubernetes-engine">Google Kubernetes
Engine</a> (GKE), is certified to work
with Starburst Enterprise platform (SEP).</p>
      <h2 id="introduction">
        
        
          Introduction <a href="#introduction" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>This user guide provides information on using Starburst Helm charts to
deploy SEP, and eventually a cluster in Google Cloud - Kubernetes
Applications. More information is available in our <a href="../../latest/k8s/overview.html">Kubernetes reference
documentation</a>, which includes a
customization guide, examples and tips.</p>

<p>Before you get started installing SEP, we suggest that you read
our <a href="../../latest/k8s/sep-configuration.html">customization guide</a> to learn
how to customize SEP clusters.</p>

<p>We also have a helpful <a href="../../latest/k8s/installation.html">installation
checklist</a> for an overview of the general
Helm-based installation and upgrade process.</p>

<p>We recommend that you use Google Cloudâ€™s marketplace UI with <strong>Click to Deploy
on GKE</strong> to deploy. The command line <strong>Deploy via command line</strong> installation is
not supported.</p>
      <h2 id="getting-started">
        
        
          Getting started <a href="#getting-started" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Setting up and deploying SEP to a Google Kubernetes Engine
cluster using Google Cloud is pretty straightforward.</p>

<p>You can get started by simply following the UI instructions in the
<a href="https://console.cloud.google.com/marketplace/details/starburst-public/starburst-presto">marketplace</a>.</p>
      <h3 id="cluster-requirements">
        
        
          Cluster requirements <a href="#cluster-requirements" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>SEP can be deployed to an existing GKE cluster, or to a newly
created one. If using an existing GKE cluster, make sure it is configured with
the appropriate number and type of instances needed to deploy an
SEP cluster. Review the SEP
<a href="../../latest/k8s/requirements.html">requirements</a> to ensure that you have
sufficient resources. With insufficient resources available in the cluster, the
deployed pods may fail to be scheduled.</p>

<p>You can also choose to deploy a new cluster with minimal resources and default
configuration from the marketplace offering configuration page. After the
default SEP chart deploys successfully in this cluster, you must
review the cluster configuration before updating it and making any adjustments
to ensure that the cluster is sufficiently large.</p>
      <h3 id="deploying">
        
        
          Deploying <a href="#deploying" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>The default values of the SEP configuration <a href="https://console.cloud.google.com/marketplace/details/starburst-public/starburst-presto">in the
UI</a>
work for most of the cases.</p>

<div class="alert alert-danger" role="alert">
  <i class="fa fa-radiation"></i> <b>Warning:</b>

<br />
If you are enabling global access control using Ranger, make sure you note down
the values of the admin and service user passwords you provide in the UI for
later use.

</div>

<p>Once done, you can click on <strong>Deploy</strong> to install SEP in the
cluster. You can track the progress of the deployment in the <a href="https://console.cloud.google.com/kubernetes/application">applications
page</a>.</p>

<p>Once the application is successfully deployed, SEP is deployed
using the Helm charts. If you enable either or both of
<a href="../../latest/k8s/ranger-configuration">Ranger</a> and <a href="../../latest/k8s/hms-configuration">Hive Metastore
Service</a> these are also deployed. The
deployment uses the values you provide in the UI and some default values when
deployed the first time. If you want to upgrade or change the deployment
configuration, you can either use the <strong>Application info</strong> from the <a href="https://console.cloud.google.com/kubernetes/application">application
page</a> or the following
SEP upgrade instructions.</p>
      <h2 id="upgrading-sep">
        
        
          Upgrading SEP <a href="#upgrading-sep" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>You can upgrade SEP using the <a href="https://cloud.google.com/kubernetes-engine/docs/quickstart#choosing_a_shell">cloud
shell</a>.</p>

<p>You need to download the Helm charts and extract them to modify the
deployment, as shown in the following:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">export </span><span class="nv">TAG</span><span class="o">=</span>2.0.1
<span class="nb">export </span><span class="nv">APP_INSTANCE_NAME</span><span class="o">=</span>&lt;name of the application instance&gt;
wget https://console.cloud.google.com/storage/browser/starburst-enterprise-presto/helmCharts/presto-gcp/starburst-enterprise-presto-charts-<span class="nv">$TAG</span>.tgz<span class="p">;</span>
<span class="nb">tar</span> <span class="nt">-zxvf</span> starburst-enterprise-presto-charts-<span class="nv">$TAG</span>.tgz<span class="p">;</span>
</code></pre></div></div>

<p>Now update the <code class="language-plaintext highlighter-rouge">values.yaml</code> in the umbrella chart folder
(<code class="language-plaintext highlighter-rouge">starburst-enterprise-presto-charts-$TAG</code>) before you apply the manifest
file. Alternatively, you can use <code class="language-plaintext highlighter-rouge">--set</code> parameter in <code class="language-plaintext highlighter-rouge">helm template</code>
command to update the chart configuration. The values set in <code class="language-plaintext highlighter-rouge">--set</code> takes
precedence over the ones set in <code class="language-plaintext highlighter-rouge">values.yaml</code>.</p>

<p>Once you have the manifest created, apply (<code class="language-plaintext highlighter-rouge">kubectl apply</code>) the file to update
the deployment.</p>

<p>More details about the SEP configuration are found in the <a href="../../latest/k8s/sep-configuration">reference documentation</a>.</p>

<p>Make sure you have <a href="../../latest/k8s/sep-configuration.html?highlight=usage%20metrics#usage-metrics">usage
metrics</a>
enabled in your SEP configuration. Our Google Cloud offering
relies on the metrics and if disabled, the deployment is terminated after 36
hours.</p>

<p>The minimum set of parameters required for the upgrade are shown below:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>helm template starburst-enterprise-presto-charts-<span class="nv">$TAG</span>/ <span class="se">\</span>
  <span class="nt">--name-template</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> deployerHelm.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/deployer:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">reportingSecret</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">-reporting-secret"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/presto-init"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> metricsReporter.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/metrics_reporter:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">imageUbbagent</span><span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace-tools/metering/ubbagent:latest"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="o">[</span>PUT OTHER CHART PARAMETERS YOU WANT TO UPDATE] <span class="o">&gt;</span> presto_manifest.yaml
</code></pre></div></div>

<p>The following example shows how to update the number of SEP workers:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>helm template starburst-enterprise-presto-charts-<span class="nv">$TAG</span>/ <span class="se">\</span>
  <span class="nt">--name-template</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> deployerHelm.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/deployer:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">reportingSecret</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">-reporting-secret"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/presto-init"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> metricsReporter.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/metrics_reporter:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">imageUbbagent</span><span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace-tools/metering/ubbagent:latest"</span> <span class="se">\</span>
  <span class="nt">--set</span> worker.count <span class="o">&gt;</span> presto_manifest.yaml
</code></pre></div></div>

<p>Configure <code class="language-plaintext highlighter-rouge">kubectl</code> to point at your cluster and then apply the configuration:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> presto_manifest.yaml
</code></pre></div></div>
      <h2 id="enabling-global-access-control-with-apache-ranger">
        
        
          Enabling global access control with Apache Ranger <a href="#enabling-global-access-control-with-apache-ranger" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>You can deploy or upgrade Ranger for <a href="../../latest/security/global-ranger">global access
control</a> by creating a manifest file with
Ranger parameters set.</p>

<p>You can either update the <code class="language-plaintext highlighter-rouge">values.yaml</code> in the umbrella chart folder
<code class="language-plaintext highlighter-rouge">starburst-enterprise-presto-charts-$TAG</code> for the configuration
(<code class="language-plaintext highlighter-rouge">starburst-ranger</code>) prior to generating the manifest file or or use <code class="language-plaintext highlighter-rouge">--set</code>
parameter while creating the manifest file. The <code class="language-plaintext highlighter-rouge">--set</code> parameters must be
prefixed by <code class="language-plaintext highlighter-rouge">starburst-ranger</code>.</p>

<p>The complete reference of the chart configuration can be found in the
<a href="../../latest/k8s/ranger-configuration.html">Ranger chart documentation</a>.</p>

<p>Example with Ranger enabled:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>helm template starburst-enterprise-presto-charts-<span class="nv">$TAG</span>/ <span class="se">\</span>
  <span class="nt">--name-template</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> deployerHelm.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/deployer:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">reportingSecret</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">-reporting-secret"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/presto-init"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> metricsReporter.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/metrics_reporter:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">imageUbbagent</span><span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace-tools/metering/ubbagent:latest"</span> <span class="se">\</span>
  <span class="nt">--set</span> starburst-ranger.enabled<span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="o">[</span>PUT OTHER CHART PARAMETERS YOU WANT TO UPDATE] <span class="o">&gt;</span> presto_manifest.yaml
</code></pre></div></div>
      <h2 id="enabling-the-hive-metastore-service">
        
        
          Enabling the Hive Metastore Service <a href="#enabling-the-hive-metastore-service" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Similar to Ranger, to deploy or upgrade the Hive Metastore Service (HMS)
provided by Starburst, generate a manifest file with Hive chart
parameters set. You can either use <code class="language-plaintext highlighter-rouge">values.yaml</code> (for <code class="language-plaintext highlighter-rouge">starburst-hive</code>) or
use the <code class="language-plaintext highlighter-rouge">--set</code> parameters. For Hive charts, the <code class="language-plaintext highlighter-rouge">--set</code> parameters must be
prefixed by <code class="language-plaintext highlighter-rouge">starburst-hive</code>.</p>

<p>The complete reference of the chart configuration for the metastore can be found
in the <a href="../../latest/k8s/hms-configuration.html">HMS documentation</a>.</p>

<p>Example with HMS enabled:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>helm template starburst-enterprise-presto-charts-<span class="nv">$TAG</span>/ <span class="se">\</span>
  <span class="nt">--name-template</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> deployerHelm.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/deployer:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">reportingSecret</span><span class="o">=</span><span class="s2">"</span><span class="nv">$APP_INSTANCE_NAME</span><span class="s2">-reporting-secret"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto"</span> <span class="se">\</span>
  <span class="nt">--set</span> image.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/presto-init"</span> <span class="se">\</span>
  <span class="nt">--set</span> initImage.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> metricsReporter.image<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/metrics_reporter:</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> <span class="nv">imageUbbagent</span><span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace-tools/metering/ubbagent:latest"</span> <span class="se">\</span>
  <span class="nt">--set</span> starburst-hive.image.repository<span class="o">=</span><span class="s2">"gcr.io/cloud-marketplace/starburst-public/starburst-presto/hive"</span> <span class="se">\</span>
  <span class="nt">--set</span> starburst-hive.image.tag<span class="o">=</span><span class="s2">"</span><span class="nv">$TAG</span><span class="s2">"</span> <span class="se">\</span>
  <span class="nt">--set</span> starburst-hive.enabled<span class="o">=</span><span class="nb">true</span> <span class="o">&gt;</span> presto_manifest.yaml
</code></pre></div></div>

<p>Configure <code class="language-plaintext highlighter-rouge">kubectl</code> to point at your cluster and then apply the configuration:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl apply <span class="nt">-f</span> presto_manifest.yaml
</code></pre></div></div>
      <h2 id="deleting-a-deployment">
        
        
          Deleting a deployment <a href="#deleting-a-deployment" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>To delete a GKE deployment, run the following command:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl delete <span class="nt">-f</span> presto_manifest.yaml
</code></pre></div></div>

        <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
    <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

      </div>
      <div class="col-lg-3 toc-styles d-none d-lg-block">
        <div class="spacer-60 toc-sticky">
          <ul><li><a href="#google-kubernetes-engine-deployments">Google Kubernetes Engine deployments</a><ul><li><a href="#introduction">Introduction</a></li><li><a href="#getting-started">Getting started</a><ul><li><a href="#cluster-requirements">Cluster requirements</a></li><li><a href="#deploying">Deploying</a></li></ul></li><li><a href="#upgrading-sep">Upgrading SEP</a></li><li><a href="#enabling-global-access-control-with-apache-ranger">Enabling global access control with Apache Ranger</a></li><li><a href="#enabling-the-hive-metastore-service">Enabling the Hive Metastore Service</a></li><li><a href="#deleting-a-deployment">Deleting a deployment</a></li></ul></li></ul>

        </div>
      </div>
  </div>
  
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#download" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">
        <a href="https://www.starburst.io/" target="_blank"><img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst" style="margin-bottom:20px;"></a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright Â© 2017-2021<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
  <script type="text/javascript" src="/assets/js/custom.js"></script>
  <script type="text/javascript" src="/assets/js/algolia.js"></script>
  <script type="text/javascript" src="/assets/js/search-box.js"></script>
  <script type="text/javascript" src="/assets/js/search-results.js"></script>
</body>
</html>

