
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CY10FQPGJS"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-CY10FQPGJS');
</script>
  
  
    <title>Starburst Teradata connectors &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=bbebba6e" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css?v=0e0f969e" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css?v=c0e612e9" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css?v=87ff3654" />
    <link rel="stylesheet" type="text/css" href="../_static/sidebar.css?v=7da5440c" />
    <script src="../_static/documentation_options.js?v=a68ab161"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=e378d701"></script>
    <script src="../_static/main.js?v=45c62a64"></script>
    <script src="../_static/heap_analytics.js?v=eba036f6"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Vertica connector" href="vertica.html" />
    <link rel="prev" title="Starburst Synapse connector" href="starburst-synapse.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" >


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/connector/starburst-teradata.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#connector/starburst-teradata" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.starburst.io" title="Starburst Enterprise"
          class="md-header-nav__button md-logo">
            <img src="../_static/img/Starburst_Logo_White+Blue.svg"
              alt="Starburst Enterprise 479-e STS logo">
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 479-e STS</a>
          <span class="md-header-nav__topic"> Starburst Teradata connectors </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="product-list">
    <h6 class="filter-label">Product:</h6>
  </div>
  <div id="versionsRefinementList" id="version-list" style="display:none"></div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (477-e)" href="/477-e/">Latest LTS (477-e)</a>
      
          <a title="476-e LTS" href="/476-e/">476-e LTS</a>
      
          <a title="474-e LTS" href="/474-e/">474-e LTS</a>
      
          <a title="468-e LTS" href="/468-e/">468-e LTS</a>
      
          <a title="Latest STS (478-e)" href="/478-e/">Latest STS (478-e)</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/introduction/index.html" class="md-tabs__link">Introduction</a></li>
            
            <li class="md-tabs__item"><a href="/clients/index.html" class="md-tabs__link">Clients</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../non-object-storage-connectors.html" class="md-tabs__link">Non-object storage connectors</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 479-e STS</a>
  </label>
  
  
  <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/starburst-enterprise.html">What is Starburst Enterprise?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/try/try-sep.html">Try Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learn/index.html">Learn Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Product versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.starburst.io/support.html">Get support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For all users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/sep-ui.html">Starburst Enterprise web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-ai/index.html">Starburst AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-products.html">Data products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../insights.html">Insights</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use SQL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language.html">SQL language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">SQL statement syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">Functions and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udf.html">User-defined functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For data engineers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../catalogs.html">Define catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/materialized-views.html">Materialized views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/data-maintenance.html">Data maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">Query optimizer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Connect to data sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../connector.html">Connector overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage-connectors.html">Object storage connectors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../non-object-storage-connectors.html">Non-object storage connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">Cassandra connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="clickhouse.html">Clickhouse connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-cosmosdb.html">Cosmos DB connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">BigQuery connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-dynamodb.html">DynamoDB connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-db2.html">IBM Db2 connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-generic-jdbc.html">Generic JDBC connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-greenplum.html">Greenplum connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">Kafka connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">Kudu connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-maxcompute.html">MaxCompute connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">MongoDB connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-neo4j.html">Neo4j connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-netezza.html">Netezza connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="oracle.html">Oracle connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">PostgreSQL connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">Redshift connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-salesforce.html">Salesforce connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-sap-hana.html">SAP HANA connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="singlestore.html">SingleStore connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="snowflake.html">Snowflake connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-splunk.html">Splunk connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">SQL Server connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-synapse.html">Synapse connector</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Teradata connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#starburst-teradata-connector">Starburst Teradata connector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#general-configuration-properties">General configuration properties</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#transaction-mode">Transaction mode</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parallelism">Parallelism</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-mapping">Type mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#teradata-to-trino-type-mapping">Teradata to Trino type mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trino-to-teradata-type-mapping">Trino to Teradata type mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#type-mapping-configuration-properties">Type mapping configuration properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#teradata-type-mapping-configuration">Teradata type mapping configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lower-case-of-teradata-not-casespecific-char-types">Lower case of Teradata <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">CASESPECIFIC</span></code> char types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-table-with-syntax"><code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">WITH</span></code> syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#table-functions">Table functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#query-varchar-table"><code class="docutils literal notranslate"><span class="pre">query(VARCHAR)</span> <span class="pre">-&gt;</span> <span class="pre">table</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#performance">Performance</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#table-statistics">Table statistics</a></li>
<li class="toctree-l5"><a class="reference internal" href="#managed-statistics">Managed statistics</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pushdown">Pushdown</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cost-based-join-pushdown">Cost-based join pushdown</a></li>
<li class="toctree-l5"><a class="reference internal" href="#predicate-pushdown-support">Predicate pushdown support</a></li>
<li class="toctree-l5"><a class="reference internal" href="#dynamic-filtering">Dynamic filtering</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#wait-timeout">Wait timeout</a></li>
<li class="toctree-l6"><a class="reference internal" href="#compaction">Compaction</a></li>
<li class="toctree-l6"><a class="reference internal" href="#metrics">Metrics</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#jdbc-connection-pooling">JDBC connection pooling</a></li>
<li class="toctree-l5"><a class="reference internal" href="#starburst-cached-views">Starburst Cached Views</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lock-manager">Lock manager</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#security">Security</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#user-impersonation">User impersonation</a></li>
<li class="toctree-l5"><a class="reference internal" href="#definer-authorization-for-views">DEFINER authorization for views</a></li>
<li class="toctree-l5"><a class="reference internal" href="#kerberos-authentication">Kerberos authentication</a></li>
<li class="toctree-l5"><a class="reference internal" href="#kerberos-credential-pass-through">Kerberos credential pass-through</a></li>
<li class="toctree-l5"><a class="reference internal" href="#password-credential-pass-through">Password credential pass-through</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#audit">Audit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sql-support">SQL support</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-limitation">UPDATE limitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-limitation">DELETE limitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alter-table-rename-to-limitation">ALTER TABLE RENAME TO limitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#alter-table-execute">ALTER TABLE EXECUTE</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#collect-statistics">collect_statistics</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#procedures">Procedures</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#system-flush-metadata-cache"><code class="docutils literal notranslate"><span class="pre">system.flush_metadata_cache()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#system-execute-query"><code class="docutils literal notranslate"><span class="pre">system.execute('query')</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#starburst-teradata-direct-connector">Starburst Teradata Direct connector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sep-controller-and-receiver-installation">SEP controller and receiver installation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">General configuration properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-teradata-configuration-properties">Additional Teradata configuration properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-in-kubernetes-deployments">Configuring in Kubernetes deployments</a></li>
<li class="toctree-l4"><a class="reference internal" href="#https-communication">HTTPS communication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#native-table-operator">Native table operator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vertica.html">Vertica connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-connectors.html">Community-supported connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-catalog/index.html">Starburst catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="starburst-connectors.html">Starburst connectors feature matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/cost-and-performance/index.html">Monitor and manage cost and performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For platform administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-topics.html">Administration topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">Performance, logging, and governance features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-rest-api.html">Starburst Enterprise REST API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deploy in cloud ecosystems</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/aws/index.html">AWS ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/google/index.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/microsoft/index.html">Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/redhat/index.html">Red Hat OpenShift</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEP deployment mechanisms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license-requirements.html">Starburst Enterprise license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s.html">Deploy with Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-admin.html">Deploy with Starburst Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">Deploy with CFT on AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Local installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Trino developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Version-specific notices and information</a></li>
</ul>
  
  
</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
  <div class="local-toc">
    <strong>Contents</strong>
    <ul>
<li><a class="reference internal" href="#">Starburst Teradata connectors</a><ul>
<li><a class="reference internal" href="#starburst-teradata-connector">Starburst Teradata connector</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#general-configuration-properties">General configuration properties</a><ul>
<li><a class="reference internal" href="#transaction-mode">Transaction mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#parallelism">Parallelism</a></li>
<li><a class="reference internal" href="#type-mapping">Type mapping</a></li>
<li><a class="reference internal" href="#teradata-to-trino-type-mapping">Teradata to Trino type mapping</a></li>
<li><a class="reference internal" href="#trino-to-teradata-type-mapping">Trino to Teradata type mapping</a></li>
<li><a class="reference internal" href="#type-mapping-configuration-properties">Type mapping configuration properties</a></li>
<li><a class="reference internal" href="#teradata-type-mapping-configuration">Teradata type mapping configuration</a></li>
<li><a class="reference internal" href="#lower-case-of-teradata-not-casespecific-char-types">Lower case of Teradata <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">CASESPECIFIC</span></code> char types</a></li>
<li><a class="reference internal" href="#create-table-with-syntax"><code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">WITH</span></code> syntax</a></li>
</ul>
</li>
<li><a class="reference internal" href="#table-functions">Table functions</a><ul>
<li><a class="reference internal" href="#query-varchar-table"><code class="docutils literal notranslate"><span class="pre">query(VARCHAR)</span> <span class="pre">-&gt;</span> <span class="pre">table</span></code></a></li>
<li><a class="reference internal" href="#performance">Performance</a><ul>
<li><a class="reference internal" href="#table-statistics">Table statistics</a></li>
<li><a class="reference internal" href="#managed-statistics">Managed statistics</a></li>
<li><a class="reference internal" href="#pushdown">Pushdown</a></li>
<li><a class="reference internal" href="#cost-based-join-pushdown">Cost-based join pushdown</a></li>
<li><a class="reference internal" href="#predicate-pushdown-support">Predicate pushdown support</a></li>
<li><a class="reference internal" href="#dynamic-filtering">Dynamic filtering</a><ul>
<li><a class="reference internal" href="#wait-timeout">Wait timeout</a></li>
<li><a class="reference internal" href="#compaction">Compaction</a></li>
<li><a class="reference internal" href="#metrics">Metrics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#jdbc-connection-pooling">JDBC connection pooling</a></li>
<li><a class="reference internal" href="#starburst-cached-views">Starburst Cached Views</a></li>
<li><a class="reference internal" href="#lock-manager">Lock manager</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security">Security</a><ul>
<li><a class="reference internal" href="#user-impersonation">User impersonation</a></li>
<li><a class="reference internal" href="#definer-authorization-for-views">DEFINER authorization for views</a></li>
<li><a class="reference internal" href="#kerberos-authentication">Kerberos authentication</a></li>
<li><a class="reference internal" href="#kerberos-credential-pass-through">Kerberos credential pass-through</a></li>
<li><a class="reference internal" href="#password-credential-pass-through">Password credential pass-through</a></li>
</ul>
</li>
<li><a class="reference internal" href="#audit">Audit</a></li>
<li><a class="reference internal" href="#sql-support">SQL support</a></li>
<li><a class="reference internal" href="#update-limitation">UPDATE limitation</a></li>
<li><a class="reference internal" href="#delete-limitation">DELETE limitation</a></li>
<li><a class="reference internal" href="#alter-table-rename-to-limitation">ALTER TABLE RENAME TO limitation</a></li>
<li><a class="reference internal" href="#alter-table-execute">ALTER TABLE EXECUTE</a><ul>
<li><a class="reference internal" href="#collect-statistics">collect_statistics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#procedures">Procedures</a><ul>
<li><a class="reference internal" href="#system-flush-metadata-cache"><code class="docutils literal notranslate"><span class="pre">system.flush_metadata_cache()</span></code></a></li>
<li><a class="reference internal" href="#system-execute-query"><code class="docutils literal notranslate"><span class="pre">system.execute('query')</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#starburst-teradata-direct-connector">Starburst Teradata Direct connector</a><ul>
<li><a class="reference internal" href="#sep-controller-and-receiver-installation">SEP controller and receiver installation</a></li>
<li><a class="reference internal" href="#id4">General configuration properties</a></li>
<li><a class="reference internal" href="#additional-teradata-configuration-properties">Additional Teradata configuration properties</a></li>
<li><a class="reference internal" href="#configuring-in-kubernetes-deployments">Configuring in Kubernetes deployments</a></li>
<li><a class="reference internal" href="#https-communication">HTTPS communication</a></li>
<li><a class="reference internal" href="#native-table-operator">Native table operator</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="starburst-teradata-connectors">
<h1 id="connector-starburst-teradata--page-root">Starburst Teradata connectors<a class="headerlink" href="#connector-starburst-teradata--page-root" title="Link to this heading">#</a></h1>
<img class="connector-logo" src="../_static/img/teradata.png"/><p>The Teradata connectors allow querying and creating tables in external
Teradata databases. There are two connectors available:</p>
<p>The Starburst <a class="reference internal" href="#starburst-teradata-connector"><span class="std std-ref">Teradata connector</span></a> is a
standard connector with a rich feature set, which is easy to install.</p>
<p>The Starburst <a class="reference internal" href="#starburst-teradata-direct-connector"><span class="std std-ref">Teradata Direct connector</span></a> has the same feature set as the Starburst
Teradata connector. It combines the connector with a table operator installed on
the Teradata servers. This makes it more complex to install and update, but can
produce higher query performance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>SEP release 477-e includes copies of the connectors for compatibility with
previous behavior. They are available under the names <code class="docutils literal notranslate"><span class="pre">teradata_direct_legacy</span></code>
and <code class="docutils literal notranslate"><span class="pre">teradata_legacy</span></code>. To use them, update the <code class="docutils literal notranslate"><span class="pre">connector.name</span></code> property to use
one of these values. These connectors are intended only as a temporary fallback
and will be removed in the next LTS release.</p>
</div>
<section id="starburst-teradata-connector">
<span id="id1"></span><h2 id="starburst-teradata-connector">Starburst Teradata connector<a class="headerlink" href="#starburst-teradata-connector" title="Link to this heading">#</a></h2>
<p>The Starburst Teradata connector is a feature-rich, easy to install connector.</p>
<section id="requirements">
<h3 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Link to this heading">#</a></h3>
<p>To connect to Teradata, you need:</p>
<ul class="simple">
<li><p>Teradata 17 or higher.</p></li>
<li><p>Network access from the coordinator and workers to Teradata.</p></li>
<li><p>Teradata’s JDBC driver, downloaded from
<a class="reference external" href="https://downloads.teradata.com/download/connectivity/jdbc-driver">Teradata</a>.</p></li>
<li><p>A valid <a class="reference internal" href="../license-requirements.html"><span class="doc">Starburst Enterprise license</span></a>.</p></li>
</ul>
</section>
<section id="configuration">
<span id="sb-teradata-configuration"></span><h3 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">#</a></h3>
<p>To configure the Teradata connector as <code class="docutils literal notranslate"><span class="pre">example</span></code> catalog, create a file named
<code class="docutils literal notranslate"><span class="pre">example.properties</span></code> in <code class="docutils literal notranslate"><span class="pre">etc/catalog</span></code> (replace example with your database
name or some other descriptive name of the catalog) with the following contents:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">teradata</span>
<span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:teradata://HOST</span>
<span class="na">connection-user</span><span class="o">=</span><span class="s">USERNAME</span>
<span class="na">connection-password</span><span class="o">=</span><span class="s">PASSWORD</span>
</pre></div>
</div>
<p>More information about the supported JDBC URL format and parameters of the
Teradata JDBC driver is available in the <a class="reference external" href="https://docs.teradata.com">Teradata
documentation</a>.</p>
</section>
<section id="general-configuration-properties">
<h3 id="general-configuration-properties">General configuration properties<a class="headerlink" href="#general-configuration-properties" title="Link to this heading">#</a></h3>
<p>The following table describes general catalog configuration properties for the
connector:</p>
<table>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching</span></code></p></td>
<td><p>Support case insensitive schema and table names. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which case insensitive schema and table
names are cached. Defaults to <code class="docutils literal notranslate"><span class="pre">1m</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching.config-file</span></code></p></td>
<td><p>Path to a name mapping configuration file in JSON format that allows
Trino to disambiguate between schemas and tables with similar names in
different cases. Defaults to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching.config-file.refresh-period</span></code></p></td>
<td><p>Frequency with which Trino checks the name matching configuration file
for changes. The <a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">duration value</span></a> defaults to <code class="docutils literal notranslate"><span class="pre">0s</span></code>
(refresh disabled).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which metadata, including table and
column statistics, is cached. Defaults to <code class="docutils literal notranslate"><span class="pre">0s</span></code> (caching disabled).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.cache-missing</span></code></p></td>
<td><p>Cache the fact that metadata, including table and column statistics, is
not available. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.schemas.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which schema metadata is cached.
Defaults to the value of <code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.tables.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which table metadata is cached.
Defaults to the value of <code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.statistics.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which tables statistics are cached.
Defaults to the value of <code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.cache-maximum-size</span></code></p></td>
<td><p>Maximum number of objects stored in the metadata cache. Defaults to <code class="docutils literal notranslate"><span class="pre">10000</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sql-based-metadata.enabled</span></code></p></td>
<td><p>Controls how the connector retrieves metadata. When <code class="docutils literal notranslate"><span class="pre">true</span></code>, the connector
uses <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> queries for faster performance. When <code class="docutils literal notranslate"><span class="pre">false</span></code>, it uses the
standard JDBC metadata API, which avoids <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code> but can be slower.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">write.batch-size</span></code></p></td>
<td><p>Maximum number of statements in a batched execution. Do not change
this setting from the default. Non-default values may negatively
impact performance. Defaults to <code class="docutils literal notranslate"><span class="pre">1000</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dynamic-filtering.enabled</span></code></p></td>
<td><p>Push down dynamic filters into JDBC queries. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dynamic-filtering.wait-timeout</span></code></p></td>
<td><p>Maximum <a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">duration</span></a> for which Trino waits for dynamic
filters to be collected from the build side of joins before starting a
JDBC query. Using a large timeout can potentially result in more detailed
dynamic filters. However, it can also increase latency for some queries.
Defaults to <code class="docutils literal notranslate"><span class="pre">20s</span></code>.</p></td>
</tr>
</tbody>
</table>
<section id="transaction-mode">
<span id="sb-teradata-tmode"></span><h4 id="transaction-mode">Transaction mode<a class="headerlink" href="#transaction-mode" title="Link to this heading">#</a></h4>
<p>As a new user, consider setting the Teradata system default to the ANSI session
mode. For more information, read <a class="reference external" href="https://docs.teradata.com/r/Teradata-VantageCloud-Lake/SQL-Reference/SQL-Request-and-Transaction-Processing/Transaction-Processing/Comparison-of-Transactions-in-ANSI-and-Teradata-Session-Modes">Transaction Semantics Differences in ANSI and
Teradata Session
Modes</a>.</p>
<p>Unless the Teradata system default is changed, the connector defaults to the
<code class="docutils literal notranslate"><span class="pre">TERA</span></code> transaction mode. To set the connector’s transaction mode to
<code class="docutils literal notranslate"><span class="pre">ANSI</span></code> without changing the mode system-wide on Teradata, append
<code class="docutils literal notranslate"><span class="pre">/TMODE=ANSI</span></code> to the <code class="docutils literal notranslate"><span class="pre">connection-url</span></code> parameter in your catalog properties
file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:teradata://HOST/TMODE=ANSI</span>
</pre></div>
</div>
</section>
</section>
<section id="installation">
<h3 id="installation">Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h3>
<p>To install the Teradata connector, use the following directions:</p>
<ol class="arabic simple">
<li><p>Obtain the Teradata JDBC driver file (<code class="docutils literal notranslate"><span class="pre">terajdbc4.jar</span></code>) from the Teradata
website.</p></li>
<li><p>Add the Teradata JDBC JAR file to the SEP <code class="docutils literal notranslate"><span class="pre">plugin/teradata</span></code> directory.</p></li>
<li><p>Add SEP Teradata catalog properties file (such as <code class="docutils literal notranslate"><span class="pre">example.properties</span></code>
for a SEP catalog named <code class="docutils literal notranslate"><span class="pre">example</span></code>).</p></li>
<li><p>Perform the above steps on every SEP cluster node.</p></li>
<li><p>Restart SEP on every node.</p></li>
</ol>
</section>
<section id="parallelism">
<span id="teradata-parallelism"></span><h3 id="parallelism">Parallelism<a class="headerlink" href="#parallelism" title="Link to this heading">#</a></h3>
<p>SEP can read from Teradata tables using multiple parallel JDBC connections. By
default, parallel reads are disabled. To enable parallel reads, set the
following catalog configuration property to a value greater than <code class="docutils literal notranslate"><span class="pre">1</span></code>:</p>
<table id="id6">
<caption><span class="caption-text">Teradata parallelism configuration properties</span><a class="headerlink" href="#id6" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 60%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.connections-count</span></code></p></td>
<td><p>Number of parallel JDBC connections to use when reading from Teradata.
The corresponding <a class="reference internal" href="../sql/set-session.html#session-properties-definition"><span class="std std-ref">catalog session property</span></a> is <code class="docutils literal notranslate"><span class="pre">connections_count</span></code>.</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Parallelism is not supported for views in the Teradata JDBC connector. The
Teradata Direct connector supports parallelism for both tables and views.</p>
</div>
</section>
<section id="type-mapping">
<h3 id="type-mapping">Type mapping<a class="headerlink" href="#type-mapping" title="Link to this heading">#</a></h3>
<p>Because Trino and Teradata each support types that the other does not, this
connector <a class="reference internal" href="../language/types.html#type-mapping-overview"><span class="std std-ref">modifies some types</span></a> when reading or
writing data. Data types may not map the same way in both directions between
Trino and the data source. Refer to the following sections for type mapping in
each direction.</p>
</section>
<section id="teradata-to-trino-type-mapping">
<h3 id="teradata-to-trino-type-mapping">Teradata to Trino type mapping<a class="headerlink" href="#teradata-to-trino-type-mapping" title="Link to this heading">#</a></h3>
<p>The connector maps Teradata types to the corresponding Trino types according to the
following table:</p>
<table id="id7">
<caption><span class="caption-text">Teradata to Trino type mapping</span><a class="headerlink" href="#id7" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Teradata type</p></th>
<th class="head"><p>Trino type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BYTEINT</p></td>
<td><p>TINYINT</p></td>
</tr>
<tr class="row-odd"><td><p>SMALLINT</p></td>
<td><p>SMALLINT</p></td>
</tr>
<tr class="row-even"><td><p>INTEGER</p></td>
<td><p>INTEGER</p></td>
</tr>
<tr class="row-odd"><td><p>BIGINT</p></td>
<td><p>BIGINT</p></td>
</tr>
<tr class="row-even"><td><p>REAL</p></td>
<td><p>REAL</p></td>
</tr>
<tr class="row-odd"><td><p>FLOAT</p></td>
<td><p>DOUBLE</p></td>
</tr>
<tr class="row-even"><td><p>DOUBLE</p></td>
<td><p>DOUBLE</p></td>
</tr>
<tr class="row-odd"><td><p>NUMERIC</p></td>
<td><p>DECIMAL</p></td>
</tr>
<tr class="row-even"><td><p>DECIMAL</p></td>
<td><p>DECIMAL</p></td>
</tr>
<tr class="row-odd"><td><p>CHAR</p></td>
<td><p>CHAR</p></td>
</tr>
<tr class="row-even"><td><p>NCHAR</p></td>
<td><p>CHAR</p></td>
</tr>
<tr class="row-odd"><td><p>VARCHAR</p></td>
<td><p>VARCHAR</p></td>
</tr>
<tr class="row-even"><td><p>NVARCHAR</p></td>
<td><p>VARCHAR</p></td>
</tr>
<tr class="row-odd"><td><p>LONGVARCHAR</p></td>
<td><p>VARCHAR</p></td>
</tr>
<tr class="row-even"><td><p>DATE</p></td>
<td><p>DATE</p></td>
</tr>
<tr class="row-odd"><td><p>TIMESTAMP</p></td>
<td><p>TIMESTAMP</p></td>
</tr>
</tbody>
</table>
<p>No other types are supported.</p>
</section>
<section id="trino-to-teradata-type-mapping">
<h3 id="trino-to-teradata-type-mapping">Trino to Teradata type mapping<a class="headerlink" href="#trino-to-teradata-type-mapping" title="Link to this heading">#</a></h3>
<p>The connector maps Trino types to the corresponding Teradata types according to
the following table:</p>
<table id="id8">
<caption><span class="caption-text">Trino to Teradata type mapping</span><a class="headerlink" href="#id8" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Trino type</p></th>
<th class="head"><p>Teradata type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TINYINT</p></td>
<td><p>BYTEINT</p></td>
</tr>
<tr class="row-odd"><td><p>SMALLINT</p></td>
<td><p>SMALLINT</p></td>
</tr>
<tr class="row-even"><td><p>INTEGER</p></td>
<td><p>INTEGER</p></td>
</tr>
<tr class="row-odd"><td><p>BIGINT</p></td>
<td><p>BIGINT</p></td>
</tr>
<tr class="row-even"><td><p>REAL</p></td>
<td><p>REAL</p></td>
</tr>
<tr class="row-odd"><td><p>DOUBLE</p></td>
<td><p>DOUBLE PRECISION</p></td>
</tr>
<tr class="row-even"><td><p>DATE</p></td>
<td><p>DATE</p></td>
</tr>
<tr class="row-odd"><td><p>TIMESTAMP</p></td>
<td><p>TIMESTAMP</p></td>
</tr>
<tr class="row-even"><td><p>CHAR</p></td>
<td><p>CHAR</p></td>
</tr>
<tr class="row-odd"><td><p>VARCHAR</p></td>
<td><p>VARCHAR</p></td>
</tr>
</tbody>
</table>
<p>No other types are supported.</p>
<p>The mapping above applies to creating a table with <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> and <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">...</span> <span class="pre">AS</span> <span class="pre">[SELECT]</span></code> statements.</p>
<p>Any Trino data type not listed in the above table cannot be created as a column
in a new Teradata table.</p>
</section>
<section id="type-mapping-configuration-properties">
<h3 id="type-mapping-configuration-properties">Type mapping configuration properties<a class="headerlink" href="#type-mapping-configuration-properties" title="Link to this heading">#</a></h3>
<p>The following properties can be used to configure how data types from the
connected data source are mapped to Trino data types and how the metadata is
cached in Trino.</p>
<table>
<colgroup>
<col style="width: 30%"/>
<col style="width: 40%"/>
<col style="width: 30%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">unsupported-type-handling</span></code></p></td>
<td><p>Configure how unsupported column data types are handled:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">IGNORE</span></code>, column is not accessible.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONVERT_TO_VARCHAR</span></code>, column is converted to unbounded <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code>.</p></li>
</ul>
<p>The respective catalog session property is <code class="docutils literal notranslate"><span class="pre">unsupported_type_handling</span></code>.</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">jdbc-types-mapped-to-varchar</span></code></p></td>
<td><p>Allow forced mapping of comma separated lists of data types to convert to
unbounded <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="teradata-type-mapping-configuration">
<span id="id2"></span><h3 id="teradata-type-mapping-configuration">Teradata type mapping configuration<a class="headerlink" href="#teradata-type-mapping-configuration" title="Link to this heading">#</a></h3>
<p>The following additional properties can be used to configure the type mapping.</p>
<table id="id9">
<caption><span class="caption-text">Mapping configuration properties</span><a class="headerlink" href="#id9" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 15%"/>
<col style="width: 15%"/>
<col style="width: 55%"/>
<col style="width: 15%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Session property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.number.default-scale</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">number_default_scale</span></code></p></td>
<td><p>Default SEP <code class="docutils literal notranslate"><span class="pre">DECIMAL</span></code> scale for Teradata <code class="docutils literal notranslate"><span class="pre">NUMBER</span></code> (without
precision and scale) date type. When not set then such column is treated
as not supported.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.number.rounding-mode</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">number_rounding_mode</span></code></p></td>
<td><p>Rounding mode for the Teradata <code class="docutils literal notranslate"><span class="pre">NUMBER</span></code> data type. Possible values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UNNECESSARY</span></code> - Rounding mode to assert that the requested operation
has an exact result, hence no rounding is necessary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CEILING</span></code> - Rounding mode to round towards positive infinity.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FLOOR</span></code> - Rounding mode to round towards negative infinity.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HALF_DOWN</span></code> - Rounding mode to round towards <code class="docutils literal notranslate"><span class="pre">nearest</span> <span class="pre">neighbor</span></code>
unless both neighbors are equidistant, in which case rounding down is
used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HALF_EVEN</span></code> - Rounding mode to round towards the
<code class="docutils literal notranslate"><span class="pre">nearest</span> <span class="pre">neighbor</span></code> unless both neighbors are equidistant, in which
case rounding towards the nearest neighbor is performed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HALF_UP</span></code> - Rounding mode to round towards <code class="docutils literal notranslate"><span class="pre">nearest</span> <span class="pre">neighbor</span></code>
unless both neighbors are equidistant, in which case rounding up is
used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UP</span></code> - Rounding mode to round towards zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DOWN</span></code> - Rounding mode to round towards zero.</p></li>
</ul>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">UNNECESSARY</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.force-integerdate.enabled</span></code></p></td>
<td></td>
<td><p>If enabled, sets the Teradata <code class="docutils literal notranslate"><span class="pre">DATEFORM</span></code> session property to use the
<code class="docutils literal notranslate"><span class="pre">INTEGERDATE</span></code> date form instead of <code class="docutils literal notranslate"><span class="pre">ANSIDATE</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="lower-case-of-teradata-not-casespecific-char-types">
<h3 id="lower-case-of-teradata-not-casespecific-char-types">Lower case of Teradata <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">CASESPECIFIC</span></code> char types<a class="headerlink" href="#lower-case-of-teradata-not-casespecific-char-types" title="Link to this heading">#</a></h3>
<p>SEP does not support case insensitive comparison of values with char-based
type. However, it is possible to force the connector to convert values to lower
case for these comparisons. You can activate this behavior with a catalog
property:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata.type.not-case-specific.to-lower-case</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>Alternatively, you can use a catalog session property:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SET</span><span class="w"> </span><span class="k">SESSION</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">not_casespecific_to_lower_case</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="create-table-with-syntax">
<h3 id="create-table-with-syntax"><code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">WITH</span></code> syntax<a class="headerlink" href="#create-table-with-syntax" title="Link to this heading">#</a></h3>
<p>The Teradata connector supports <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">[</span> <span class="pre">WITH</span> <span class="pre">(</span> <span class="pre">property_name</span> <span class="pre">=</span> <span class="pre">expression</span> <span class="pre">[,</span> <span class="pre">...]</span> <span class="pre">)</span> <span class="pre">]</span></code> trino syntax.</p>
<table id="id10">
<caption><span class="caption-text">Create table properties</span><a class="headerlink" href="#id10" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">primary_index</span></code></p></td>
<td><p>This allows to configure primary index for the table.
The value is the array of columns used for the index.
NOTE:
If provided array is empty the Teradata behaviour is equal to
<code class="docutils literal notranslate"><span class="pre">NO</span> <span class="pre">PRIMARY</span> <span class="pre">INDEX</span></code> and default index is not created. Defaults to
<code class="docutils literal notranslate"><span class="pre">ARRAY[]</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">primary_index_unique</span></code></p></td>
<td><p>Specifies if created primary index is unique. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="table-functions">
<h2 id="table-functions">Table functions<a class="headerlink" href="#table-functions" title="Link to this heading">#</a></h2>
<p>The connector provides specific <a class="reference internal" href="../functions/table.html"><span class="doc">table functions</span></a> to
access Teradata.</p>
<section id="query-varchar-table">
<span id="teradata-query-function"></span><h3 id="query-varchar-table"><code class="docutils literal notranslate"><span class="pre">query(VARCHAR)</span> <span class="pre">-&gt;</span> <span class="pre">table</span></code><a class="headerlink" href="#query-varchar-table" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">query</span></code> function allows you to query the underlying database directly. It
requires syntax native to the data source, because the full query is pushed down
and processed in the data source. This can be useful for accessing native
features or for improving query performance in situations where running a query
natively may be faster.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">query</span></code> table function is available in the <code class="docutils literal notranslate"><span class="pre">system</span></code> schema of any
catalog that uses the Teradata connector, such as <code class="docutils literal notranslate"><span class="pre">example</span></code>. The
following example passes <code class="docutils literal notranslate"><span class="pre">myQuery</span></code> to the data source. <code class="docutils literal notranslate"><span class="pre">myQuery</span></code> has to be a
valid query for the data source, and is required to return a table as a result:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">  </span><span class="o">*</span>
<span class="k">FROM</span>
<span class="w">  </span><span class="k">TABLE</span><span class="p">(</span>
<span class="w">    </span><span class="n">example</span><span class="p">.</span><span class="k">system</span><span class="p">.</span><span class="n">query</span><span class="p">(</span>
<span class="w">      </span><span class="n">query</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'myQuery'</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="performance">
<h3 id="performance">Performance<a class="headerlink" href="#performance" title="Link to this heading">#</a></h3>
<p>The connector includes a number of performance improvements, detailed in the
following sections.</p>
<section id="table-statistics">
<h4 id="table-statistics">Table statistics<a class="headerlink" href="#table-statistics" title="Link to this heading">#</a></h4>
<p>The Teradata connector can use <a class="reference internal" href="../optimizer/statistics.html"><span class="doc">table and column statistics</span></a> for <a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">cost based optimizations</span></a>, to improve query processing performance
based on the actual data in the data source.</p>
<p>The statistics are collected by Teradata and retrieved by the connector.</p>
<p>To collect statistics for a table, execute the following statements in Teradata.
The second statement needs to be repeated for every column you want to collect
statistics for.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">COLLECT</span><span class="w"> </span><span class="n">SUMMARY</span><span class="w"> </span><span class="k">STATISTICS</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">table_schema</span><span class="p">.</span><span class="k">table_name</span><span class="p">;</span>
<span class="n">COLLECT</span><span class="w"> </span><span class="k">STATISTICS</span><span class="w"> </span><span class="k">COLUMN</span><span class="p">(</span><span class="k">column_name</span><span class="p">)</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">table_schema</span><span class="p">.</span><span class="k">table_name</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="managed-statistics">
<h4 id="managed-statistics">Managed statistics<a class="headerlink" href="#managed-statistics" title="Link to this heading">#</a></h4>
<p>The connector supports <a class="reference internal" href="../optimizer/managed-statistics.html"><span class="doc">Managed statistics</span></a> allowing SEP to
collect and store its own table and column statistics that can then be used for
performance optimizations in query planning.</p>
<p>Statistics must be collected manually using the built-in
<code class="docutils literal notranslate"><span class="pre">collect_statistics</span></code> command, see
<a class="reference internal" href="#starburst-teradata-collect-statistics"><span class="std std-ref">collect_statistics</span></a> for details and examples.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If managed statistics is enabled, automatic internal TLS cannot secure
communication between the Teradata Direct connector and the cluster. To use the
feature, you must add the <code class="docutils literal notranslate"><span class="pre">http-server.https.port</span></code> configuration property to
your <code class="docutils literal notranslate"><span class="pre">teradata_direct</span></code> catalog configuration and set it to an available HTTPS
port. Additionally, ensure that the entire cluster uses an identical Java
keystore configuration.</p>
</div>
</section>
<section id="pushdown">
<h4 id="pushdown">Pushdown<a class="headerlink" href="#pushdown" title="Link to this heading">#</a></h4>
<p>The connector supports pushdown for a number of operations:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../optimizer/pushdown.html#join-pushdown"><span class="std std-ref">Join pushdown</span></a></p></li>
<li><p><a class="reference internal" href="../optimizer/pushdown.html#limit-pushdown"><span class="std std-ref">Limit pushdown</span></a></p></li>
<li><p><a class="reference internal" href="../optimizer/pushdown.html#topn-pushdown"><span class="std std-ref">Top-N pushdown</span></a></p></li>
<li><p><a class="reference internal" href="../optimizer/pushdown.html#projection-pushdown"><span class="std std-ref">Projection pushdown</span></a></p></li>
</ul>
<p><a class="reference internal" href="../optimizer/pushdown.html#aggregation-pushdown"><span class="std std-ref">Aggregate pushdown</span></a> for the following
functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../functions/aggregate.html#avg" title="avg"><code class="xref py py-func docutils literal notranslate"><span class="pre">avg()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#count" title="count"><code class="xref py py-func docutils literal notranslate"><span class="pre">count()</span></code></a>, also <code class="docutils literal notranslate"><span class="pre">count(distinct</span> <span class="pre">x)</span></code></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#max" title="max"><code class="xref py py-func docutils literal notranslate"><span class="pre">max()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#min" title="min"><code class="xref py py-func docutils literal notranslate"><span class="pre">min()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#sum" title="sum"><code class="xref py py-func docutils literal notranslate"><span class="pre">sum()</span></code></a></p></li>
</ul>
<p>Additionally, pushdown is only supported for <code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code> type columns with the
following functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../functions/aggregate.html#stddev" title="stddev"><code class="xref py py-func docutils literal notranslate"><span class="pre">stddev()</span></code></a> and <a class="reference internal" href="../functions/aggregate.html#stddev_samp" title="stddev_samp"><code class="xref py py-func docutils literal notranslate"><span class="pre">stddev_samp()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#stddev_pop" title="stddev_pop"><code class="xref py py-func docutils literal notranslate"><span class="pre">stddev_pop()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#var_pop" title="var_pop"><code class="xref py py-func docutils literal notranslate"><span class="pre">var_pop()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#variance" title="variance"><code class="xref py py-func docutils literal notranslate"><span class="pre">variance()</span></code></a> and <a class="reference internal" href="../functions/aggregate.html#var_samp" title="var_samp"><code class="xref py py-func docutils literal notranslate"><span class="pre">var_samp()</span></code></a></p></li>
</ul>
<p>Additionally pushdown is only supported for <code class="docutils literal notranslate"><span class="pre">REAL</span></code> or <code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code> type column
with the following functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../functions/aggregate.html#covar_samp" title="covar_samp"><code class="xref py py-func docutils literal notranslate"><span class="pre">covar_samp()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/aggregate.html#covar_pop" title="covar_pop"><code class="xref py py-func docutils literal notranslate"><span class="pre">covar_pop()</span></code></a></p></li>
</ul>
<p><a class="reference internal" href="../optimizer/pushdown.html#projection-pushdown"><span class="std std-ref">Projection pushdown</span></a> for the following
functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../functions/conversion.html#cast" title="cast"><code class="xref py py-func docutils literal notranslate"><span class="pre">cast()</span></code></a></p></li>
<li><p><a class="reference internal" href="../functions/string.html#upper" title="upper"><code class="xref py py-func docutils literal notranslate"><span class="pre">upper()</span></code></a> and <code class="docutils literal notranslate"><span class="pre">lower()</span></code></p></li>
<li><p><a class="reference internal" href="../functions/string.html#trim" title="trim"><code class="xref py py-func docutils literal notranslate"><span class="pre">trim()</span></code></a>, <code class="docutils literal notranslate"><span class="pre">ltrim()</span></code> and <code class="docutils literal notranslate"><span class="pre">rtrim()</span></code></p></li>
<li><p><a class="reference internal" href="../functions/string.html#substring" title="substring"><code class="xref py py-func docutils literal notranslate"><span class="pre">substring()</span></code></a></p></li>
</ul>
</section>
<section id="cost-based-join-pushdown">
<h4 id="cost-based-join-pushdown">Cost-based join pushdown<a class="headerlink" href="#cost-based-join-pushdown" title="Link to this heading">#</a></h4>
<p>The connector supports cost-based <a class="reference internal" href="../optimizer/pushdown.html#join-pushdown"><span class="std std-ref">Join pushdown</span></a> to make intelligent
decisions about whether to push down a join operation to the data source.</p>
<p>When cost-based join pushdown is enabled, the connector only pushes down join
operations if the available <a class="reference internal" href="../optimizer/statistics.html"><span class="doc">Table statistics</span></a> suggest that doing so
improves performance. Note that if no table statistics are available, join
operation pushdown does not occur to avoid a potential decrease in query
performance.</p>
<p>The following table describes catalog configuration properties for
join pushdown:</p>
<table>
<colgroup>
<col style="width: 30%"/>
<col style="width: 40%"/>
<col style="width: 30%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">join-pushdown.enabled</span></code></p></td>
<td><p>Enable <a class="reference internal" href="../optimizer/pushdown.html#join-pushdown"><span class="std std-ref">join pushdown</span></a>. Equivalent <a class="reference internal" href="../sql/set-session.html#session-properties-definition"><span class="std std-ref">catalog
session property</span></a> is
<code class="docutils literal notranslate"><span class="pre">join_pushdown_enabled</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">join-pushdown.strategy</span></code></p></td>
<td><p>Strategy used to evaluate whether join operations are pushed down. Set to
<code class="docutils literal notranslate"><span class="pre">AUTOMATIC</span></code> to enable cost-based join pushdown, or <code class="docutils literal notranslate"><span class="pre">EAGER</span></code> to
push down joins whenever possible. Note that <code class="docutils literal notranslate"><span class="pre">EAGER</span></code> can push down joins
even when table statistics are unavailable, which may result in degraded
query performance. Because of this, <code class="docutils literal notranslate"><span class="pre">EAGER</span></code> is only recommended for
testing and troubleshooting purposes.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AUTOMATIC</span></code></p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Teradata connector only pushes down join operations where the join
condition uses columns of type <code class="docutils literal notranslate"><span class="pre">CHAR</span></code> or <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> with <code class="docutils literal notranslate"><span class="pre">=</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code> operators.</p>
</div>
</section>
<section id="predicate-pushdown-support">
<span id="teradata-predicate-pushdown"></span><h4 id="predicate-pushdown-support">Predicate pushdown support<a class="headerlink" href="#predicate-pushdown-support" title="Link to this heading">#</a></h4>
<p>The connector’s support of predicate pushdown is partially dependent on the
configured <a class="reference external" href="https://teradata-docs.s3.amazonaws.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html#TMODESEC">transaction
mode</a>.
You can modify the connector’s transaction mode in the <a class="reference internal" href="#sb-teradata-tmode"><span class="std std-ref">catalog configuration file</span></a>.</p>
<p>The predicate pushdown supports statements with the following
arithmetic, boolean, comparison operators, and functions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">%</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NOT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIKE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIKE</span></code> with <code class="docutils literal notranslate"><span class="pre">ESCAPE</span></code> character</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">NULL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IS</span> <span class="pre">NOT</span> <span class="pre">NULL</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NULLIF</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code></p></li>
</ul>
<p>If the transaction mode is set to <code class="docutils literal notranslate"><span class="pre">TERA</span></code>, the support for pushdown of any
predicates on columns of <a class="reference internal" href="../language/types.html#string-data-types"><span class="std std-ref">character string types</span></a> like
<code class="docutils literal notranslate"><span class="pre">CHAR</span></code> or <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> is limited.</p>
<p>If the transaction mode is set to <code class="docutils literal notranslate"><span class="pre">ANSI</span></code>, the connector does not support
pushdown of inequality predicates such as <code class="docutils literal notranslate"><span class="pre">!=</span></code>, or range predicates such as
<code class="docutils literal notranslate"><span class="pre">&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">BETWEEN</span></code>, on columns with character string types. Equality
predicates, such as <code class="docutils literal notranslate"><span class="pre">IN</span></code> or <code class="docutils literal notranslate"><span class="pre">=</span></code>, on columns with character string types are
pushed down. This ensures correctness of results since the remote data source
may sort strings differently than SEP.</p>
<p>In the following example, the predicate of the first query is not pushed down
since <code class="docutils literal notranslate"><span class="pre">name</span></code> is a column of type <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code>, and <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> is an inequality
predicate. The second query is pushed down.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">nation</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="s1">'CANADA'</span><span class="p">;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">nation</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'CANADA'</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="dynamic-filtering">
<h4 id="dynamic-filtering">Dynamic filtering<a class="headerlink" href="#dynamic-filtering" title="Link to this heading">#</a></h4>
<p><a class="reference internal" href="../admin/dynamic-filtering.html"><span class="doc">Dynamic filtering</span></a> is enabled by default. It
causes the connector to wait for dynamic filtering to complete before starting a
JDBC query.</p>
<p>You can disable dynamic filtering by setting the  <code class="docutils literal notranslate"><span class="pre">dynamic-filtering.enabled</span></code>
property in your catalog configuration file to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<section id="wait-timeout">
<h5 id="wait-timeout">Wait timeout<a class="headerlink" href="#wait-timeout" title="Link to this heading">#</a></h5>
<p>By default, table scans on the connector are delayed up to 20 seconds until
dynamic filters are collected from the build side of joins. Using a large
timeout can potentially result in more detailed dynamic filters.
However, it can also increase latency for some queries.</p>
<p>You can configure the <code class="docutils literal notranslate"><span class="pre">dynamic-filtering.wait-timeout</span></code> property in your
catalog properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">dynamic-filtering.wait-timeout</span><span class="o">=</span><span class="s">1m</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">dynamic_filtering_wait_timeout</span></code> <a class="reference internal" href="../sql/set-session.html"><span class="doc">catalog session property</span></a> in a specific session:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>SET SESSION example.dynamic_filtering_wait_timeout = 1s;
</pre></div>
</div>
</section>
<section id="compaction">
<h5 id="compaction">Compaction<a class="headerlink" href="#compaction" title="Link to this heading">#</a></h5>
<p>The maximum size of dynamic filter predicate, that is pushed down to the
connector during table scan for a column, is configured using the
<code class="docutils literal notranslate"><span class="pre">domain-compaction-threshold</span></code> property in the catalog
properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">domain-compaction-threshold</span><span class="o">=</span><span class="s">100</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">domain_compaction_threshold</span></code> catalog
session property:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>SET SESSION domain_compaction_threshold = 10;
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">domain-compaction-threshold</span></code> is set to <code class="docutils literal notranslate"><span class="pre">32</span></code>.
When the dynamic predicate for a column exceeds this threshold, it is compacted
into a single range predicate.</p>
<p>For example, if the dynamic filter collected for a date column <code class="docutils literal notranslate"><span class="pre">dt</span></code> on the
fact table selects more than 32 days, the filtering condition is simplified from
<code class="docutils literal notranslate"><span class="pre">dt</span> <span class="pre">IN</span> <span class="pre">('2020-01-10',</span> <span class="pre">'2020-01-12',...,</span> <span class="pre">'2020-05-30')</span></code> to <code class="docutils literal notranslate"><span class="pre">dt</span> <span class="pre">BETWEEN</span> <span class="pre">'2020-01-10'</span> <span class="pre">AND</span> <span class="pre">'2020-05-30'</span></code>. Using a large threshold can result in increased
table scan overhead due to a large <code class="docutils literal notranslate"><span class="pre">IN</span></code> list getting pushed down to the data
source.</p>
</section>
<section id="metrics">
<h5 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Link to this heading">#</a></h5>
<p>Metrics about dynamic filtering are reported in a JMX table for each catalog:</p>
<p><code class="docutils literal notranslate"><span class="pre">jmx.current."com.starburstdata.presto.plugin.jdbc.dynamicfiltering:name=example,type=dynamicfilteringstats"</span></code></p>
<p>Metrics include information about the total number of dynamic filters, the
number of completed dynamic filters, the number of available dynamic filters and
the time spent waiting for dynamic filters.</p>
</section>
</section>
<section id="jdbc-connection-pooling">
<h4 id="jdbc-connection-pooling">JDBC connection pooling<a class="headerlink" href="#jdbc-connection-pooling" title="Link to this heading">#</a></h4>
<p>When JDBC connection pooling is enabled, each node creates and maintains a
connection pool instead of opening and closing separate connections to the data
source. Each connection is available to connect to the data source and retrieve
data. After completion of an operation, the connection is returned to the pool
and can be reused. This improves performance by a small amount, reduces the load
on any required authentication system used for establishing the connection, and
helps avoid running into connection limits on data sources.</p>
<p>JDBC connection pooling is disabled by default. You can enable JDBC connection
pooling by setting the <code class="docutils literal notranslate"><span class="pre">connection-pool.enabled</span></code> property to <code class="docutils literal notranslate"><span class="pre">true</span></code> in your
catalog configuration file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connection-pool.enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>The following catalog configuration properties can be used to tune
connection pooling:</p>
<table id="id11">
<caption><span class="caption-text">JDBC connection pooling catalog configuration properties</span><a class="headerlink" href="#id11" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 40%"/>
<col style="width: 30%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connection-pool.enabled</span></code></p></td>
<td><p>Enable connection pooling for the catalog.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">connection-pool.max-size</span></code></p></td>
<td><p>The maximum number of idle and active connections in the pool.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connection-pool.max-connection-lifetime</span></code></p></td>
<td><p>The maximum lifetime of a connection. When a connection reaches this
lifetime it is removed, regardless of how recently it has been active.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30m</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">connection-pool.pool-cache-max-size</span></code></p></td>
<td><p>The maximum size of the JDBC data source cache.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connection-pool.pool-cache-ttl</span></code></p></td>
<td><p>The expiration time of a cached data source when it is no longer accessed.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30m</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="starburst-cached-views">
<h4 id="starburst-cached-views">Starburst Cached Views<a class="headerlink" href="#starburst-cached-views" title="Link to this heading">#</a></h4>
<p>The connectors supports <a class="reference internal" href="../admin/table-scan-redirection.html"><span class="doc">table scan redirection</span></a> to improve performance and reduce load on the
data source.</p>
</section>
<section id="lock-manager">
<h4 id="lock-manager">Lock manager<a class="headerlink" href="#lock-manager" title="Link to this heading">#</a></h4>
<p>The <a class="reference external" href="https://docs.teradata.com/r/Ws7YT1jvRK2vEr1LpVURug/X1_LVUNkdzf0ufVZInf9Gw/">Lock
Manager</a>
imposes concurrency control on Teradata Database by managing the locks on the
database objects being accessed by each transaction and releasing those locks
when the transaction either commits or rolls back its work. This control ensures
that the data remains consistent for all users. However for analytic queries
default Teradata Lock Manager could be too restrictive.</p>
<table id="id12">
<caption><span class="caption-text">Locking configuration properties</span><a class="headerlink" href="#id12" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.lock.type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LOCKING</span> <span class="pre">ROW</span> <span class="pre">FOR</span> <span class="pre">[ACCESS</span> <span class="pre">|</span> <span class="pre">READ]</span></code> request modifier is used for outer
<code class="docutils literal notranslate"><span class="pre">SELECT</span></code> requests. Defaults to <code class="docutils literal notranslate"><span class="pre">ACCESS</span></code>.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="security">
<h3 id="security">Security<a class="headerlink" href="#security" title="Link to this heading">#</a></h3>
<p>The connector includes a number of security-related features, detailed in the
following sections.</p>
<section id="user-impersonation">
<span id="teradata-user-impersonation"></span><h4 id="user-impersonation">User impersonation<a class="headerlink" href="#user-impersonation" title="Link to this heading">#</a></h4>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>User impersonation may reduce the effectiveness of caching in SEP, potentially leading to degraded performance.</p>
</div>
<p>Teradata connector supports <a class="reference internal" href="../security/impersonation.html"><span class="doc">user impersonation</span></a>.</p>
<p>User impersonation can be enabled in the catalog file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata.impersonation.enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>User impersonation in Teradata connector is based on <code class="docutils literal notranslate"><span class="pre">GRANT</span> <span class="pre">CONNECT</span> <span class="pre">THROUGH</span></code>.
For more details, search for <code class="docutils literal notranslate"><span class="pre">GRANT</span> <span class="pre">CONNECT</span> <span class="pre">THROUGH</span></code> on <a class="reference external" href="https://docs.teradata.com/">the Teradata
documentation</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Option <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">TRUST_ONLY</span></code> in <code class="docutils literal notranslate"><span class="pre">GRANT</span> <span class="pre">CONNECT</span> <span class="pre">THROUGH</span></code> is not yet supported.</p>
</div>
</section>
<section id="definer-authorization-for-views">
<span id="teradata-definer-authorization"></span><h4 id="definer-authorization-for-views">DEFINER authorization for views<a class="headerlink" href="#definer-authorization-for-views" title="Link to this heading">#</a></h4>
<p>For views with <code class="docutils literal notranslate"><span class="pre">DEFINER</span></code> security mode, the Teradata connector can use the
permissions of the view owner rather than the permissions of the user executing
the query to access tables referenced in a view.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">authorization.enabled</span></code> to true to use <code class="docutils literal notranslate"><span class="pre">DEFINER</span></code> authorization for views
during query execution. User impersonation must be enabled for the connector to
use this feature.</p>
</section>
<section id="kerberos-authentication">
<span id="teradata-kerberos-authentication"></span><h4 id="kerberos-authentication">Kerberos authentication<a class="headerlink" href="#kerberos-authentication" title="Link to this heading">#</a></h4>
<p>The connector supports <a class="reference internal" href="../security/kerberos.html"><span class="doc">Kerberos authentication</span></a>. Use the following properties
in the catalog properties file to configure it.</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata.authentication.type</span><span class="o">=</span><span class="s">KERBEROS</span>
<span class="na">kerberos.client.principal</span><span class="o">=</span><span class="s">example@example.com</span>
<span class="na">kerberos.client.keytab</span><span class="o">=</span><span class="s">&lt;PATH_TO_KEYTAB_FILE&gt;</span>
<span class="na">kerberos.config</span><span class="o">=</span><span class="s">etc/kerberos/krb5.conf</span>
</pre></div>
</div>
<p>With this configuration the user <code class="docutils literal notranslate"><span class="pre">example@example.com</span></code>, defined in the
principal property, is used to connect to the database, and the related Kerberos
service ticket is located in the keytab file. The Kerberos
configuration specified with <code class="docutils literal notranslate"><span class="pre">kerberos.config</span></code> is used.</p>
</section>
<section id="kerberos-credential-pass-through">
<span id="teradata-kerberos-passthrough"></span><h4 id="kerberos-credential-pass-through">Kerberos credential pass-through<a class="headerlink" href="#kerberos-credential-pass-through" title="Link to this heading">#</a></h4>
<p>The connector can be configured to pass through Kerberos credentials, received
by SEP, to the Teradata database.</p>
<p>Configure Kerberos and SEP, following the instructions in
<a class="reference internal" href="../security/kerberos-passthrough.html"><span class="doc">Kerberos credential pass-through</span></a>.</p>
<p>Then configure the connector to pass through the credentials from the server to
the database in your catalog properties file and ensure the Kerberos client
configuration properties are in place:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata.authentication.type</span><span class="o">=</span><span class="s">KERBEROS_PASS_THROUGH</span>
<span class="na">http.authentication.krb5.config</span><span class="o">=</span><span class="s">/etc/krb5.conf</span>
<span class="na">http-server.authentication.krb5.service-name</span><span class="o">=</span><span class="s">exampleServiceName</span>
<span class="na">http-server.authentication.krb5.keytab</span><span class="o">=</span><span class="s">&lt;PATH_TO_KEYTAB_FILE&gt;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <a class="reference internal" href="../overview/sep-ui.html#ui-kerberos-auth"><span class="std std-ref">delegated Kerberos authentication</span></a> is configured
for the Starburst Enterprise web UI, make sure the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.krb5.service-name</span></code>
value is set to <code class="docutils literal notranslate"><span class="pre">HTTP</span></code> to match the configured Kerberos service name.</p>
</div>
<p>Now any database access via SEP is subject to the data access restrictions
and permissions of the user supplied via Kerberos.</p>
</section>
<section id="password-credential-pass-through">
<h4 id="password-credential-pass-through">Password credential pass-through<a class="headerlink" href="#password-credential-pass-through" title="Link to this heading">#</a></h4>
<p>The connector supports <a class="reference internal" href="../security/password-passthrough.html"><span class="doc">password credential pass-through</span></a>. To enable it, edit the catalog properties
file to include the authentication type:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata.authentication.type</span><span class="o">=</span><span class="s">PASSWORD_PASS_THROUGH</span>
</pre></div>
</div>
<p>For more information about configurations and limitations, see
<a class="reference internal" href="../security/password-passthrough.html"><span class="doc">Password credential pass-through</span></a>.</p>
</section>
</section>
<section id="audit">
<h3 id="audit">Audit<a class="headerlink" href="#audit" title="Link to this heading">#</a></h3>
<p>The connector utilizes the <code class="docutils literal notranslate"><span class="pre">QUERY_ID</span></code> property for Teradata’s <a class="reference external" href="https://docs.teradata.com/r/rgAb27O_xRmMVc_aQq2VGw/sME3hVgEFSOZHQh_qyV8_Q">Query
Band</a>
to annotate any query from SEP in Teradata with the SEP query
identifier. If <code class="docutils literal notranslate"><span class="pre">teradata.query-band.query-id.enabled=true</span></code> each Teradata query
has <code class="docutils literal notranslate"><span class="pre">QUERY_ID=&lt;query_id&gt;</span></code> with the current identifier added. This allows you to
determine which queries originated from SEP, and specifically also details
such as user submitting the query, for audit purposes.</p>
<p>The following example shows a <code class="docutils literal notranslate"><span class="pre">QUERY_ID</span></code> value for a query issued from
SEP:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">QUERY_ID</span><span class="o">=</span><span class="mi">20220324</span><span class="n">_142042_00000_zkr9n</span><span class="p">;</span>
</pre></div>
</div>
<p>If <a class="reference internal" href="#teradata-user-impersonation"><span class="std std-ref">User impersonation</span></a> is enabled, the impersonated username
is appended to the <code class="docutils literal notranslate"><span class="pre">QUERY_ID</span></code> value as an additional <code class="docutils literal notranslate"><span class="pre">PROXYROLE</span></code> property:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">QUERY_ID</span><span class="o">=</span><span class="mi">20220324</span><span class="n">_142042_00000_zkr9n</span><span class="p">;</span><span class="n">PROXYROLE</span><span class="o">=</span><span class="n">user_name</span><span class="p">;</span>
</pre></div>
</div>
<table id="id13">
<caption><span class="caption-text">Audit configuration properties</span><a class="headerlink" href="#id13" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.query-band.query-id.enabled</span></code></p></td>
<td><p>Add a SEP query identifier to the Teradata QUERY_BAND. Defaults to
<code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">teradata.query-band.query-id.key-name</span></code></p></td>
<td><p>Name of a SEP property for query identifier in the Teradata QUERY_BAND.
Defaults to <code class="docutils literal notranslate"><span class="pre">QUERY_ID</span></code>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="sql-support">
<span id="teradata-sql-support"></span><h3 id="sql-support">SQL support<a class="headerlink" href="#sql-support" title="Link to this heading">#</a></h3>
<p>The connector provides read and write access to data and metadata in
Teradata. In addition to the <a class="reference internal" href="../language/sql-support.html#sql-globally-available"><span class="std std-ref">globally available</span></a> and <a class="reference internal" href="../language/sql-support.html#sql-read-operations"><span class="std std-ref">read operation</span></a>
statements, the connector supports the following features:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql/insert.html"><span class="doc">INSERT</span></a></p></li>
<li><p><a class="reference internal" href="../sql/delete.html"><span class="doc">DELETE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-table.html"><span class="doc">CREATE TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-table-as.html"><span class="doc">CREATE TABLE AS</span></a></p></li>
<li><p><a class="reference internal" href="../sql/drop-table.html"><span class="doc">DROP TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/alter-table.html"><span class="doc">ALTER TABLE</span></a></p></li>
</ul>
</section>
<section id="update-limitation">
<h3 id="update-limitation">UPDATE limitation<a class="headerlink" href="#update-limitation" title="Link to this heading">#</a></h3>
<p>Only <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> statements with constant assignments and predicates are
supported. For example, the following statement is supported because the values
assigned are constants:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">col3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
<p>Arithmetic expressions, function calls, and other non-constant <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>
statements are not supported. For example, the following statement is not
supported because arithmetic expressions cannot be used with the <code class="docutils literal notranslate"><span class="pre">SET</span></code>
command:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">col2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">col3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
<p>All column values of a table row cannot be updated simultaneously. For a three
column table, the following statement is not supported:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">col1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">col2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">col3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">col3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</pre></div>
</div>
</section>
<section id="delete-limitation">
<h3 id="delete-limitation">DELETE limitation<a class="headerlink" href="#delete-limitation" title="Link to this heading">#</a></h3>
<p>If a <code class="docutils literal notranslate"><span class="pre">WHERE</span></code> clause is specified, the <code class="docutils literal notranslate"><span class="pre">DELETE</span></code> operation only works if the
predicate in the clause can be fully pushed down to the data source.</p>
</section>
<section id="alter-table-rename-to-limitation">
<h3 id="alter-table-rename-to-limitation">ALTER TABLE RENAME TO limitation<a class="headerlink" href="#alter-table-rename-to-limitation" title="Link to this heading">#</a></h3>
<p>The connector does not support renaming tables across multiple schemas. For
example, the following statement is supported:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">schema_one</span><span class="p">.</span><span class="n">table_one</span><span class="w"> </span><span class="k">RENAME</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">schema_one</span><span class="p">.</span><span class="n">table_two</span>
</pre></div>
</div>
<p>The following statement attempts to rename a table across schemas, and therefore
is not supported:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">schema_one</span><span class="p">.</span><span class="n">table_one</span><span class="w"> </span><span class="k">RENAME</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">schema_two</span><span class="p">.</span><span class="n">table_two</span>
</pre></div>
</div>
</section>
<section id="alter-table-execute">
<h3 id="alter-table-execute">ALTER TABLE EXECUTE<a class="headerlink" href="#alter-table-execute" title="Link to this heading">#</a></h3>
<p>The connector supports the following commands for use with
<a class="reference internal" href="../sql/alter-table.html#alter-table-execute"><span class="std std-ref">ALTER TABLE EXECUTE</span></a>:</p>
<section id="collect-statistics">
<span id="starburst-teradata-collect-statistics"></span><h4 id="collect-statistics">collect_statistics<a class="headerlink" href="#collect-statistics" title="Link to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">collect_statistics</span></code> command is used with
<a class="reference internal" href="../optimizer/managed-statistics.html"><span class="doc">Managed statistics</span></a> to collect statistics for a table
and its columns.</p>
<p>The following statement collects statistics for the <code class="docutils literal notranslate"><span class="pre">example_table</span></code> table
and all of its columns:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">example_table</span><span class="w"> </span><span class="k">EXECUTE</span><span class="w"> </span><span class="n">collect_statistics</span><span class="p">;</span>
</pre></div>
</div>
<p>Collecting statistics for all columns in a table may be unnecessarily
performance-intensive, especially for wide tables. To only collect statistics
for a subset of columns, you can include the <code class="docutils literal notranslate"><span class="pre">columns</span></code> parameter with an
array of column names. For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">example_table</span>
<span class="w">    </span><span class="k">EXECUTE</span><span class="w"> </span><span class="n">collect_statistics</span><span class="p">(</span><span class="n">columns</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="nb">ARRAY</span><span class="p">[</span><span class="s1">'customer'</span><span class="p">,</span><span class="s1">'line_item'</span><span class="p">]);</span>
</pre></div>
</div>
</section>
</section>
<section id="procedures">
<span id="sb-teradata-procedures"></span><h3 id="procedures">Procedures<a class="headerlink" href="#procedures" title="Link to this heading">#</a></h3>
<section id="system-flush-metadata-cache">
<h4 id="system-flush-metadata-cache"><code class="docutils literal notranslate"><span class="pre">system.flush_metadata_cache()</span></code><a class="headerlink" href="#system-flush-metadata-cache" title="Link to this heading">#</a></h4>
<p>Flush JDBC metadata caches. For example, the following system call
flushes the metadata caches for all schemas in the <code class="docutils literal notranslate"><span class="pre">example</span></code> catalog</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">USE</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">example_schema</span><span class="p">;</span>
<span class="k">CALL</span><span class="w"> </span><span class="k">system</span><span class="p">.</span><span class="n">flush_metadata_cache</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="system-execute-query">
<h4 id="system-execute-query"><code class="docutils literal notranslate"><span class="pre">system.execute('query')</span></code><a class="headerlink" href="#system-execute-query" title="Link to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">execute</span></code> procedure allows you to execute a query in the underlying data
source directly. The query must use supported syntax of the connected data
source. Use the procedure to access features which are not available in Trino
or to execute queries that return no result set and therefore can not be used
with the <code class="docutils literal notranslate"><span class="pre">query</span></code> or <code class="docutils literal notranslate"><span class="pre">raw_query</span></code> pass-through table function. Typical use cases
are statements that create or alter objects, and require native feature such
as constraints, default values, automatic identifier creation, or indexes.
Queries can also invoke statements that insert, update, or delete data, and do
not return any data as a result.</p>
<p>The query text is not parsed by Trino, only passed through, and therefore only
subject to any security or access control of the underlying data source.</p>
<p>The following example sets the current database to the <code class="docutils literal notranslate"><span class="pre">example_schema</span></code> of the
<code class="docutils literal notranslate"><span class="pre">example</span></code> catalog. Then it calls the procedure in that schema to drop the
default value from <code class="docutils literal notranslate"><span class="pre">your_column</span></code> on <code class="docutils literal notranslate"><span class="pre">your_table</span></code> table using the standard SQL
syntax in the parameter value assigned for <code class="docutils literal notranslate"><span class="pre">query</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">USE</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">example_schema</span><span class="p">;</span>
<span class="k">CALL</span><span class="w"> </span><span class="k">system</span><span class="p">.</span><span class="k">execute</span><span class="p">(</span><span class="n">query</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'ALTER TABLE your_table ALTER COLUMN your_column DROP DEFAULT'</span><span class="p">);</span>
</pre></div>
</div>
<p>Verify that the specific database supports this syntax, and adapt as necessary
based on the documentation for the specific connected database and database
version.</p>
</section>
</section>
</section>
<section id="starburst-teradata-direct-connector">
<span id="id3"></span><h2 id="starburst-teradata-direct-connector">Starburst Teradata Direct connector<a class="headerlink" href="#starburst-teradata-direct-connector" title="Link to this heading">#</a></h2>
<p>The Teradata Direct connector is an alternative to the standard Starburst Teradata
connector.</p>
<p>Compared to the <a class="reference internal" href="#starburst-teradata-connector"><span class="std std-ref">Starburst Teradata connector</span></a>, it requires more advanced
configuration and is designed for improved performance. It supports all
use cases of the Teradata connector, and adds greatly improved performance for
<code class="docutils literal notranslate"><span class="pre">SELECT</span></code> queries.</p>
<p>The connector is composed of components running on SEP, and others running
on Teradata. All components participate in every transmission. A transmission
includes all data transfer related to a single table scan.</p>
<p>The connector uses JDBC as a control channel to schedule the query in Teradata.
Any <code class="docutils literal notranslate"><span class="pre">SELECT</span></code> statement run with JDBC is passed to a Teradata table operator,
which then uses the custom transmitters to pass the data over HTTP to the SEP
controller and receivers:</p>
<p>Starburst Enterprise</p>
<blockquote>
<div><dl class="simple myst">
<dt>Controller</dt><dd><p>The controller starts and manages all transmissions. It runs on the
SEP coordinator and distributes work to the receivers, and provides
status information to the transmitters.</p>
</dd>
<dt>Receivers</dt><dd><p>The receivers connect to the transmitters and receive data from Teradata
from the transmitters. They run on the SEP workers and are managed by
the controller.</p>
</dd>
</dl>
</div></blockquote>
<p>Teradata</p>
<blockquote>
<div><dl class="simple myst">
<dt>Table operator and JDBC driver</dt><dd><p>The table operator and JDBC driver read the data from the Teradata
storage.</p>
</dd>
<dt>Transmitters</dt><dd><p>The transmitters send the data for each table operator invocation on
Teradata to the receivers on SEP.</p>
</dd>
</dl>
</div></blockquote>
<p>The following features from the Teradata connector are also supported by the
Teradata Direct connector:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#teradata-kerberos-authentication"><span class="std std-ref">Kerberos authentication</span></a></p></li>
<li><p><a class="reference internal" href="#teradata-kerberos-passthrough"><span class="std std-ref">Kerberos credential pass-through</span></a></p></li>
<li><p><a class="reference internal" href="#teradata-user-impersonation"><span class="std std-ref">User impersonation</span></a></p></li>
</ul>
<p>Unlike the standard Teradata connector, the Teradata Direct connector supports
parallelism for both tables and views.</p>
<section id="sep-controller-and-receiver-installation">
<h3 id="sep-controller-and-receiver-installation">SEP controller and receiver installation<a class="headerlink" href="#sep-controller-and-receiver-installation" title="Link to this heading">#</a></h3>
<p>The Teradata Direct connector must be configured in a catalog
properties file. e.g. <code class="docutils literal notranslate"><span class="pre">example.properties</span></code>, using the connector name
<code class="docutils literal notranslate"><span class="pre">teradata_direct</span></code>.</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">teradata_direct</span>
<span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:teradata://HOST</span>
<span class="na">connection-user</span><span class="o">=</span><span class="s">USERNAME</span>
<span class="na">connection-password</span><span class="o">=</span><span class="s">PASSWORD</span>
<span class="na">teradata-direct.table-operator.name</span><span class="o">=</span><span class="s">some_schema.table_operator</span>
<span class="na">teradata-direct.http.port</span><span class="o">=</span><span class="s">9000</span>
<span class="na">teradata-direct.http.host</span><span class="o">=</span><span class="s">hostname.accessible.from.teradata.instance</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The port used for the <code class="docutils literal notranslate"><span class="pre">teradata-direct.http.port</span></code> catalog configuration
property must be unique across all catalogs that use the Teradata Direct
connector. If multiple different catalogs use the same port value for this
property the cluster fails to start.</p>
</div>
<p>Besides the connector name, you need to provide the JDBC connection parameters
and the relevant JAR files in the <code class="docutils literal notranslate"><span class="pre">teradata</span></code> plugin directory, as discussed in
<a class="reference internal" href="#starburst-teradata-connector"><span class="std std-ref">Starburst Teradata connector</span></a>.</p>
<p>You must install the <a class="reference internal" href="#native-table-operator"><span class="std std-ref">native table operator</span></a> on
Teradata in the queried schema. Specify the required table operator name. SEP automatically calculates values for the optional <code class="docutils literal notranslate"><span class="pre">teradata-direct.http.port</span></code>
and <code class="docutils literal notranslate"><span class="pre">teradata-direct.http.host</span></code> properties, but in more complex network
environments we recommend that you manually specify the port and host used to
connect with a particular node.</p>
<table id="id14">
<caption><span class="caption-text">Required Teradata Direct connector catalog properties</span><a class="headerlink" href="#id14" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">teradata-direct.table-operator.name</span></code></p></td>
<td><p>Native Table Operator function name.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">teradata-direct.table-operator.logging-level</span></code></p></td>
<td><p>We <strong>strongly recommend</strong> that you set this to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> until you have
validated that all networking and access works as expected. You can safely
remove this setting once you have verified all connections. Leaving it set
to DEBUG can affect performance.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id4">
<h3 id="id4">General configuration properties<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>The following table describes general catalog configuration properties for the
connector:</p>
<table>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching</span></code></p></td>
<td><p>Support case insensitive schema and table names. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which case insensitive schema and table
names are cached. Defaults to <code class="docutils literal notranslate"><span class="pre">1m</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching.config-file</span></code></p></td>
<td><p>Path to a name mapping configuration file in JSON format that allows
Trino to disambiguate between schemas and tables with similar names in
different cases. Defaults to <code class="docutils literal notranslate"><span class="pre">null</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">case-insensitive-name-matching.config-file.refresh-period</span></code></p></td>
<td><p>Frequency with which Trino checks the name matching configuration file
for changes. The <a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">duration value</span></a> defaults to <code class="docutils literal notranslate"><span class="pre">0s</span></code>
(refresh disabled).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which metadata, including table and
column statistics, is cached. Defaults to <code class="docutils literal notranslate"><span class="pre">0s</span></code> (caching disabled).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.cache-missing</span></code></p></td>
<td><p>Cache the fact that metadata, including table and column statistics, is
not available. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.schemas.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which schema metadata is cached.
Defaults to the value of <code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.tables.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which table metadata is cached.
Defaults to the value of <code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.statistics.cache-ttl</span></code></p></td>
<td><p><a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">Duration</span></a> for which tables statistics are cached.
Defaults to the value of <code class="docutils literal notranslate"><span class="pre">metadata.cache-ttl</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">metadata.cache-maximum-size</span></code></p></td>
<td><p>Maximum number of objects stored in the metadata cache. Defaults to <code class="docutils literal notranslate"><span class="pre">10000</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">write.batch-size</span></code></p></td>
<td><p>Maximum number of statements in a batched execution. Do not change
this setting from the default. Non-default values may negatively
impact performance. Defaults to <code class="docutils literal notranslate"><span class="pre">1000</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">dynamic-filtering.enabled</span></code></p></td>
<td><p>Push down dynamic filters into JDBC queries. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">dynamic-filtering.wait-timeout</span></code></p></td>
<td><p>Maximum <a class="reference internal" href="../admin/properties.html#prop-type-duration"><span class="std std-ref">duration</span></a> for which Trino waits for dynamic
filters to be collected from the build side of joins before starting a
JDBC query. Using a large timeout can potentially result in more detailed
dynamic filters. However, it can also increase latency for some queries.
Defaults to <code class="docutils literal notranslate"><span class="pre">20s</span></code>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="additional-teradata-configuration-properties">
<h3 id="additional-teradata-configuration-properties">Additional Teradata configuration properties<a class="headerlink" href="#additional-teradata-configuration-properties" title="Link to this heading">#</a></h3>
<p>Further configuration can be done with the following parameters:</p>
<p><code class="docutils literal notranslate"><span class="pre">teradata-direct.receiver.buffer.size</span></code> in the catalog properties file:</p>
<blockquote>
<div><p>Determines the buffer size per each SEP worker. This buffer is available
per table scan, so a single query joining three tables uses three buffers.
Default value is 32MB.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">teradata-direct.parcel.size</span></code> the catalog properties file:</p>
<blockquote>
<div><p>The size of the data packets sent to the SEP receivers. The last packet
may be smaller. Defaults to 2MB. Parcel size should not be higher than the
buffer size.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">teradata-direct.compression.enabled</span></code> in the catalog properties file:</p>
<blockquote>
<div><p>Determines if transmission data is compressed. Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">teradata-direct.splits-per-worker</span></code> in the catalog properties file:</p>
<blockquote>
<div><p>Determines how many splits each SEP worker receives. This determines the
maximum concurrency level on SEP. Defaults to 16, identical to the
<code class="docutils literal notranslate"><span class="pre">task.concurrency</span></code> of the SEP server.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">teradata-direct.table-operator.logging-path</span></code> in the catalog properties file:</p>
<blockquote>
<div><p>Set the path for log files of the <a class="reference internal" href="#native-table-operator"><span class="std std-ref">native table operator</span></a> on the Teradata nodes. Default behavior is to log
to files in the the <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> folder.</p>
</div></blockquote>
</section>
<section id="configuring-in-kubernetes-deployments">
<h3 id="configuring-in-kubernetes-deployments">Configuring in Kubernetes deployments<a class="headerlink" href="#configuring-in-kubernetes-deployments" title="Link to this heading">#</a></h3>
<p>The Starburst Teradata Direct connector is supported for Kubernetes deployments in
AWS EKS and in Azure AKS meeting <a class="reference internal" href="../k8s/sep-config-teradata-direct.html"><span class="doc">certain requirements</span></a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The configuration to use the connector on Kubernetes is complex and requires
significant networking and Kubernetes expertise. Contact Starburst Support for
assistance and help.</p>
</div>
</section>
<section id="https-communication">
<h3 id="https-communication">HTTPS communication<a class="headerlink" href="#https-communication" title="Link to this heading">#</a></h3>
<p>The Starburst Teradata Direct connector supports secure HTTPS communication between
Teradata and SEP nodes. Configuration for HTTPS changed in SEP release
477-e.</p>
<p>Previously, HTTPS settings were configured directly on the connector itself.
HTTPS configuration is now inherited from SEP coordinator and worker
properties.</p>
<p>A new mandatory property, <code class="docutils literal notranslate"><span class="pre">teradata-direct.root-certificate.path</span></code>, specifies the
path to the root certificate on the Teradata instance. This root certificate
must be used to sign all SEP coordinator and worker certificates (For
example, <code class="docutils literal notranslate"><span class="pre">presto-master.jks</span></code> and <code class="docutils literal notranslate"><span class="pre">presto-worker.jks</span></code>). This certificate should
be copied to the Teradata instance in the same way as the native table operator
<code class="docutils literal notranslate"><span class="pre">.so</span></code> file. Without it, Teradata will not be able to communicate with SEP
nodes over TLS.</p>
<p>If SEP node communication is non-HTTPS, Teradata Direct
communication is also non-HTTPS. If SEP node communication is HTTPS,
Teradata Direct communication uses HTTPS.</p>
<p>The only available option for encryption is via the SEP keystore. Automatic
TLS configuration is not supported.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These HTTPS configuration changes apply to the Teradata Direct connector
(<code class="docutils literal notranslate"><span class="pre">teradata_direct</span></code>). The temporary fallback connector (<code class="docutils literal notranslate"><span class="pre">teradata_direct_legacy</span></code>)
continues to use the previous behavior. Additionally, the <code class="docutils literal notranslate"><span class="pre">.so</span></code> files for the
updated Teradata Direct connector and the <code class="docutils literal notranslate"><span class="pre">teradata_direct_legacy</span></code> fallback
connector are not compatible. You must install the <code class="docutils literal notranslate"><span class="pre">.so</span></code> file that matches the
connector version in use.</p>
</div>
</section>
<section id="native-table-operator">
<span id="id5"></span><h3 id="native-table-operator">Native table operator<a class="headerlink" href="#native-table-operator" title="Link to this heading">#</a></h3>
<p>Install the native table operator with the following steps:</p>
<ul>
<li><p>To obtain access to the Teradata native table operator file, contact
Starburst Support.</p></li>
<li><p>Copy the provided file onto all Teradata servers into an identical location
such as <code class="docutils literal notranslate"><span class="pre">/opt/starburst</span></code>.</p></li>
<li><p>Allow Teradata processes to access the file by either adding read permission
with a command such as <code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+r</span> <span class="pre">&lt;.so</span> <span class="pre">file&gt;</span></code>, or allowing access by the
<code class="docutils literal notranslate"><span class="pre">tdtrusted</span></code> group with <code class="docutils literal notranslate"><span class="pre">chown</span> <span class="pre">:tdtrusted</span> <span class="pre">&lt;.so</span> <span class="pre">file&gt;;</span> <span class="pre">chmod</span> <span class="pre">g+r</span> <span class="pre">&lt;.so</span> <span class="pre">file&gt;</span></code>.</p></li>
<li><p>Create the table operator function in the desired schema. We recommend a
dedicated database for the current operator version.</p>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">some_database</span><span class="p">.</span><span class="n">table_operator</span><span class="p">()</span>
<span class="k">RETURNS</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="nb">VARYING</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">starburst_teradata_contract</span>
<span class="k">LANGUAGE</span><span class="w"> </span><span class="k">C</span>
<span class="k">NO</span><span class="w"> </span><span class="k">SQL</span>
<span class="k">PARAMETER</span><span class="w"> </span><span class="n">STYLE</span><span class="w"> </span><span class="n">SQLTABLE</span>
<span class="k">EXTERNAL</span><span class="w"> </span><span class="n">NAME</span><span class="w"> </span><span class="s1">'SP!/opt/starburst/starburst-direct-&lt;version&gt;.so!F!starburst_teradata'</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not install the native table operator in the <code class="docutils literal notranslate"><span class="pre">syslib</span></code> database.</p>
</div>
<p>No Teradata restart is needed for the changes to take effect.</p>
<p>By default the UDF is created to run in protected mode. It allocates memory and
opens socket and can therefore not be used in unprotected mode.</p>
<p>The path and access for the <code class="docutils literal notranslate"><span class="pre">.so</span></code> file, for example <code class="docutils literal notranslate"><span class="pre">/opt/starburst</span></code>, has to
be adjusted to a suitable location on your Teradata servers.</p>
<p>Each user that connects to Teradata from SEP needs to be granted sufficient
access:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span><span class="w"> </span><span class="k">EXECUTE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">SPECIFIC</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">some_database</span><span class="p">.</span><span class="n">table_operator</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">your_user</span><span class="p">;</span>
</pre></div>
</div>
<p>Alternatively access to table operator UDF can be granted via ROLE</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="n">table_operator_users</span><span class="p">;</span>
<span class="k">GRANT</span><span class="w"> </span><span class="k">EXECUTE</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">SPECIFIC</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">some_database</span><span class="p">.</span><span class="n">table_operator</span>
<span class="w">  </span><span class="k">TO</span><span class="w"> </span><span class="n">table_operator_users</span><span class="p">;</span>
<span class="k">GRANT</span><span class="w"> </span><span class="n">table_operator_users</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">your_user</span><span class="p">;</span>
</pre></div>
</div>
<p>This also requires to set the role for any impersonated user, this could be
achieved with the below in the catalog file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata.impersonation-role</span><span class="o">=</span><span class="s">table_operator_users</span>
</pre></div>
</div>
<p><strong>Updates</strong></p>
<p>You must only update the native table operator when required in the release
notes. The requirement can be in the specific release you are installing, or in
a release that you are skipping over. For example, the requirement result from
an STS release between two LTS releases. An update from one LTS to the other,
skipping the STS, still includes the need to update the native table operator.
Contact Starburst Support if you require specific guidance for your update.</p>
<p>The following list details the necessary steps:</p>
<ol class="arabic">
<li><p>Download the new native table operator <code class="docutils literal notranslate"><span class="pre">starburst-direct-&lt;version&gt;.so</span></code>.
The version needs to correspond to the version of the SEP cluster.</p></li>
<li><p>Remove the function in Teradata before any updates:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DROP</span><span class="w"> </span><span class="k">FUNCTION</span><span class="w"> </span><span class="n">some_database</span><span class="p">.</span><span class="n">table_operator</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Drop the database used for the function in Teradata with <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">DATABASE</span></code>.</p></li>
<li><p>Remove all old <code class="docutils literal notranslate"><span class="pre">.so</span></code> files from all Teradata server nodes.</p></li>
<li><p>Restart Teradata with <code class="docutils literal notranslate"><span class="pre">tparesert</span> <span class="pre">-force</span></code> to remove the native table
operator from memory. This step may not be necessary and is solely
determined by the memory management of Teradata. If you skip this step and
run into an error like <code class="docutils literal notranslate"><span class="pre">[Error</span> <span class="pre">7559]</span> <span class="pre">[SQLState</span> <span class="pre">HY000]</span> <span class="pre">Memory</span> <span class="pre">(via</span> <span class="pre">malloc</span> <span class="pre">call)</span> <span class="pre">not</span> <span class="pre">freed</span> <span class="pre">before</span> <span class="pre">exiting</span> <span class="pre">UDF/XSP/UDM</span></code>, you must restart the upgrade
process.</p></li>
<li><p>Copy the new native table operator file to all Teradata server nodes. Use
the original filename from the download. The filename is required to be
different from each prior install.</p></li>
<li><p>Proceed with the <a class="reference internal" href="#native-table-operator"><span class="std std-ref">same steps as performed during the initial installation</span></a>. Make sure you update the create
function statement to the new database and <code class="docutils literal notranslate"><span class="pre">.so</span></code> file path.</p></li>
<li><p>Update the catalog properties files to point to the new database on the SEP
coordinator and all workers.</p></li>
</ol>
<blockquote>
<div><div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">teradata-direct.table-operator.name</span><span class="o">=</span><span class="s">new_database.table_operator</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="9">
<li><p>Restart the SEP cluster.</p></li>
</ol>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Email</button>
        <a onclick="skip()" class="feedback-skip">Cancel</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="starburst-synapse.html" title="Starburst Synapse connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Starburst Synapse connector </span>
              </div>
            </a>
          
          
            <a href="vertica.html" title="Vertica connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> Vertica connector </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          <img src="../_static/img/Starburst_Logo_White+Blue.svg" height="34"
            alt="Starburst Enterprise 479-e STS logo">
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2025<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="https://docs.starburst.io/479-e/_static/algolia.js"></script>
<script src="https://docs.starburst.io/479-e/_static/searchbox.js" data-versions="{'Latest LTS (477-e)': '/477-e/', '476-e LTS': '/476-e/', '474-e LTS': '/474-e/', '468-e LTS': '/468-e/', 'Latest STS (478-e)': '/478-e/'}"></script>
<script src="https://docs.starburst.io/479-e/_static/searchresults.js" data-versions="{'Latest LTS (477-e)': '/477-e/', '476-e LTS': '/476-e/', '474-e LTS': '/474-e/', '468-e LTS': '/468-e/', 'Latest STS (478-e)': '/478-e/'}"></script>
  </body>
</html>