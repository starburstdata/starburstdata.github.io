

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Configuring SEP &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/trino.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuring Hive Metastore" href="metastore.html" />
    <link rel="prev" title="Deploying SEP" href="deploy.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#aws/configuration" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise</span>
          <span class="md-header-nav__topic"> Configuring SEP </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (350-e)" href="/350-e/">Latest LTS (350-e)</a>
      
          <a title="345-e LTS" href="/345-e/">345-e LTS</a>
      
          <a title="338-e LTS" href="/338-e/">338-e LTS</a>
      
          <a title="Latest STS (355-e)" href="/355-e/">Latest STS (355-e)</a>
      
          <a title="354-e STS" href="/354-e/">354-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
            
            <li class="md-tabs__item"><a href="https://starburst.io" class="md-tabs__link">Starburst</a></li>
          <li class="md-tabs__item"><a href="../aws.html" class="md-tabs__link">Amazon Web Services</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Amazon Web Services</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="quickstart.html" class="md-nav__link">Getting started on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="prerequisites.html" class="md-nav__link">Prerequisites</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="deploy.html" class="md-nav__link">Deploying SEP</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Configuring SEP </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Configuring SEP</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#aws-configuration--page-root" class="md-nav__link">Configuring SEP</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#default-configuration" class="md-nav__link">Default configuration</a>
        </li>
        <li class="md-nav__item"><a href="#custom-configuration" class="md-nav__link">Custom configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#creating-a-configuration-package" class="md-nav__link">Creating a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#uploading-a-configuration-package-to-s3" class="md-nav__link">Uploading a configuration package to S3</a>
        </li>
        <li class="md-nav__item"><a href="#using-a-configuration-package" class="md-nav__link">Using a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#example-configuration-package" class="md-nav__link">Example configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#updating-a-configuration-package" class="md-nav__link">Updating a configuration package</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#interactions-between-default-and-advanced-configurations" class="md-nav__link">Interactions between default and advanced configurations</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="metastore.html" class="md-nav__link">Configuring Hive Metastore</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="access.html" class="md-nav__link">Accessing the SEP cluster</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="query.html" class="md-nav__link">Querying SEP</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="s3.html" class="md-nav__link">Querying AWS S3</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="glue.html" class="md-nav__link">AWS Glue support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="superset.html" class="md-nav__link">Using Apache Superset</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="manualscale.html" class="md-nav__link">Manually scaling a running SEP cluster</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="autoscale.html" class="md-nav__link">Auto scaling</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="high-availability.html" class="md-nav__link">Coordinator high availability</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="secrets.html" class="md-nav__link">Secrets</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="logs.html" class="md-nav__link">Integration with CloudWatch logs</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="metrics.html" class="md-nav__link">Integration with CloudWatch metrics</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="troubleshooting.html" class="md-nav__link">Troubleshooting</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="uninstall.html" class="md-nav__link">Uninstalling SEP</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-notes.html" class="md-nav__link">AWS AMI/CFT release notes</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Kubernetes with Helm</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">355-e STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#aws-configuration--page-root" class="md-nav__link">Configuring SEP</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#default-configuration" class="md-nav__link">Default configuration</a>
        </li>
        <li class="md-nav__item"><a href="#custom-configuration" class="md-nav__link">Custom configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#creating-a-configuration-package" class="md-nav__link">Creating a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#uploading-a-configuration-package-to-s3" class="md-nav__link">Uploading a configuration package to S3</a>
        </li>
        <li class="md-nav__item"><a href="#using-a-configuration-package" class="md-nav__link">Using a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#example-configuration-package" class="md-nav__link">Example configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#updating-a-configuration-package" class="md-nav__link">Updating a configuration package</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#interactions-between-default-and-advanced-configurations" class="md-nav__link">Interactions between default and advanced configurations</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="aws-configuration--page-root">Configuring SEP<a class="headerlink" href="#aws-configuration--page-root" title="Permalink to this headline">#</a></h1>
<p>Starburst Enterprise platform (SEP) has an extensive set of configuration switches that allow it to be
tuned for certain specific requirements. Default values are chosen for the best
“out of the box” experience. However, if you need to fine-tune SEP
behavior, you can do so when using Starburst’s CloudFormation template.</p>

<span id="aws-default-configuration"></span><h2 id="default-configuration">Default configuration<a class="headerlink" href="#default-configuration" title="Permalink to this headline">#</a></h2>
<p>The following configuration changes are applied automatically for you:</p>
<ul class="simple">
<li><p>Java heap maximum memory (-Xmx) is set appropriately for the selected EC2
instance type</p></li>
<li><p>JVM’s JIT caches are set to 512 MiB</p></li>
<li><p>Java is configured to use G1 garbage collector, this is the recommended
garbage collector to use when running SEP</p></li>
<li><p>If Hive Metastore is configured (refer to <a class="reference internal" href="metastore.html"><span class="doc">Configuring Hive Metastore</span></a>), the
<code class="docutils literal notranslate"><span class="pre">hive</span></code> catalog is configured with connector configuration left at
<a class="reference internal" href="../connector/starburst-hive.html"><span class="doc">default values</span></a>.</p></li>
<li><p>A <a class="reference internal" href="../security/audit.html"><span class="doc">query audit</span></a> event listener is configured in
<code class="docutils literal notranslate"><span class="pre">etc/event-listener-audit-log.properties</span></code>. If you have configured
<a class="reference internal" href="../develop/event-listener.html"><span class="doc">another event listener</span></a>, add the property
<code class="docutils literal notranslate"><span class="pre">event-listener.config-files</span></code> in <a class="reference internal" href="../installation/deployment.html#config-properties"><span class="std std-ref">the config properties file</span></a>, and ensure both files are in the list comma-separated
list.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All configuration is stored in the <code class="docutils literal notranslate"><span class="pre">etc</span></code> directory in the SEP
installation directory. The directory is mounted using a RAM disk - so files
are stored in memory only. The files are generated by the CFT configuration
scripts.  No secrets in any files, such as usernames or passwords in catalog
files, are actually stored on disk at any time and they files can not be
access from outside the running EC2 instances.</p>
</div>


<span id="id1"></span><h2 id="custom-configuration">Custom configuration<a class="headerlink" href="#custom-configuration" title="Permalink to this headline">#</a></h2>
<p>When using Starburst’s CloudFormation template, you can expand on the default
configuration by providing your own configuration packages for the coordinator,
workers or both. These configuration packages are used to append or override the
default SEP configuration. In addition they can be used to provide the
configuration for additional catalogs.</p>
<p>The CloudFormation template provides the
<code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code> and
<code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code> parameters used to specify the locations
of the configuration packages for the coordinator and workers respectively. See
the following sections for how to create, upload, and use configuration
packages.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All configuration changes made to your SEP cluster should be performed via
the CloudFormation Template. If you manually change the configurations on the
instances running SEP, the changes are not guaranteed to be persisted. If
you manually edit the configuration the first time while you set up and
configure SEP, you should create a configuration package from it so you can
reuse and persist the configuration.</p>
</div>

<h3 id="creating-a-configuration-package">Creating a configuration package<a class="headerlink" href="#creating-a-configuration-package" title="Permalink to this headline">#</a></h3>
<p>A configuration package is a ZIP file with the structure shown below. All files
are optional except for top-level <code class="docutils literal notranslate"><span class="pre">etc/</span></code> directory entry.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>etc/
  config.properties
  jvm.config
  catalog/
    hive.properties
    &lt;catalog-name&gt;.properties
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is important to use this exact directory structure. It is not adequate to
simply zip up a directory structure from another SEP installation to use
unless that directory structure follows this same template.</p>
</div>
<p><strong>etc/config.properties</strong></p>
<p>This file is optional. Refer to <a class="reference internal" href="../admin/properties.html"><span class="doc">the properties reference
documentation</span></a> for details.</p>
<p><strong>etc/jvm.config</strong></p>
<p>This file is optional. Refer to <a class="reference external" href="https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html">Oracle’s</a>
documentation of options that can be set here. Refer to SEP <a class="reference internal" href="../admin/tuning.html"><span class="doc">Tuning</span></a> for information about JVM options that are often
useful when troubleshooting performance issues.</p>
<p>Certain options, including <code class="docutils literal notranslate"><span class="pre">-Xmx</span></code> and garbage collection algorithm selection
are set by default.</p>
<p><strong>etc/catalog/hive.properties</strong></p>
<p>This file is optional. If the configuration package contains this file and the
Hive Metastore is not configured (refer to <a class="reference internal" href="metastore.html"><span class="doc">Configuring Hive Metastore</span></a>) when launching
Starburst’s CloudFormation template, then the file must contain the following:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">hive-hadoop2</span>
<span class="na">hive.metastore.uri</span><span class="o">=</span><span class="s">thrift://example.net:9083</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter is set to something other than <code class="docutils literal notranslate"><span class="pre">None</span></code>, then
the <code class="docutils literal notranslate"><span class="pre">hive.properties</span></code> file was already created and it is not needed to provide
the above. However, you can still provide a <code class="docutils literal notranslate"><span class="pre">hive.properties</span></code> file that
include properties you wish to append to the configuration. Refer to the
<a class="reference internal" href="../connector/starburst-hive.html"><span class="doc">Hive connector</span></a> and <a class="reference internal" href="../connector/hive-security.html"><span class="doc">Hive security</span></a> documentation of options that can be set here.
Also refer to <a class="reference internal" href="#aux-files-aws"><span class="std std-ref">Auxiliary Files</span></a> for instructions on how to
configure properties that refer to additional files.</p>
<p><strong>etc/catalog/&lt;catalog-name&gt;.properties</strong></p>
<p>This file is optional. When such a file is placed in the configuration package,
a catalog <code class="docutils literal notranslate"><span class="pre">&lt;catalog-name&gt;</span></code> is created. The file must contain the
following:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">&lt;connector-name&gt;</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;connector-name&gt;</span></code> is the name of the connector, refer to the
<a class="reference internal" href="../connector.html"><span class="doc">connector documentation</span></a> documentation for a list of
supported connectors and their documentation. If the chosen connector has some
mandatory configuration parameters, they must be set in the
<code class="docutils literal notranslate"><span class="pre">&lt;catalog-name&gt;.properties</span></code> file. There can be more than one such file in the
<code class="docutils literal notranslate"><span class="pre">etc/catalog/</span></code> folder of the configuration package. This allows you to define
multiple catalogs.</p>
<p>Refer to <a class="reference internal" href="#aux-files-aws"><span class="std std-ref">Auxiliary Files</span></a> for instructions on how to
configure properties that refer to additional files.</p>
<p id="aux-files-aws"><strong>Auxiliary files</strong></p>
<p>If a configuration property in any of the configuration files accepts a path to
an additional file (e.g., Hive’s <code class="docutils literal notranslate"><span class="pre">security.config-file</span></code>), add the file in the
configuration package and refer to it using a path that is <em>relative</em>, starting
with the configuration package top-level directory.</p>
<p>For example, if you are configuring Hive connector to use
<code class="docutils literal notranslate"><span class="pre">hive.security=file</span></code>, you also need to set <code class="docutils literal notranslate"><span class="pre">security.config-file</span></code> (see
<a class="reference internal" href="../connector/hive-security.html"><span class="doc">Hive Security</span></a> documentation for the meaning
and structure of the file). To do so, add <code class="docutils literal notranslate"><span class="pre">etc/catalog/hive-security.json</span></code> in
the configuration package and refer to <code class="docutils literal notranslate"><span class="pre">etc/catalog/hive-security.json</span></code> using
a relative path:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>...
hive.security=file
security.config-file=etc/catalog/hive-security.json
</pre></div>
</div>


<h3 id="uploading-a-configuration-package-to-s3">Uploading a configuration package to S3<a class="headerlink" href="#uploading-a-configuration-package-to-s3" title="Permalink to this headline">#</a></h3>
<p>For a configuration package ZIP to be used when launching  Starburst’s
CloudFormation template, it must be uploaded to S3 first to a location of your
choice. If the configuration package contains sensitive information (passwords,
AWS access keys or Kerberos keytab files, etc.), make sure to use an S3 location
that is not publicly accessible.</p>


<h3 id="using-a-configuration-package">Using a configuration package<a class="headerlink" href="#using-a-configuration-package" title="Permalink to this headline">#</a></h3>
<p>When launching Starburst’s CloudFormation template, you can use the
<code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code> and
<code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code> parameters to refer to the configuration
package that should be applied on top of default configuration done by the
template. The URI should be of the form
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package.zip</span></code>. You may decide to use a
single configuration package for use by both the SEP Coordinator and Workers
or use different packages for each. Additionally, you may provide a
configuration package only for the coordinator or worker.</p>
<p>If you upload to a location that is not publicly accessible, you need to use <code class="docutils literal notranslate"><span class="pre">IamInstanceProfile</span></code> parameter when launching the cluster, and the selected Instance Profile must allow read access to the selected S3 location.</p>


<h3 id="example-configuration-package">Example configuration package<a class="headerlink" href="#example-configuration-package" title="Permalink to this headline">#</a></h3>
<p>You can download an example configuration package from Starburst <a class="reference external" href="https://s3.us-east-2.amazonaws.com/starburstdata/aws-marketplace/examples/cft/cloudformation-template-configuration/0.1/hive-allow-drop-table.zip">here</a>.
To use it when launching Starburst’s CloudFormation template, use its S3-native
address:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>s3://starburstdata/aws-marketplace/examples/cft/cloudformation-template-configuration/0.1/hive-allow-drop-table.zip
</pre></div>
</div>


<h3 id="updating-a-configuration-package">Updating a configuration package<a class="headerlink" href="#updating-a-configuration-package" title="Permalink to this headline">#</a></h3>
<p>Instead of deleting a CloudFormation stack and creating a new one, you can use
the AWS <a class="reference external" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html">stack update</a>
feature to update the SEP configuration package. You first need to create a
new configuration package with the changes you need, and then upload it to S3 as
described in the previous sections. Then when updating the CloudFormation stack,
you enter the new S3 location as values to the
<code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code> and
<code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code> parameters. When CloudFormation is
applying the updates, it updates the stack by using the new configuration
package to configure SEP.</p>
<p>AWS CloudFormation does not update the CloudFormation stack if the values to the
parameters have not changed. Therefore you should create a new configuration
package zip file with a different name. We recommend including a version name
within the file name to avoid any complications when updating your
configurations.</p>
<p>For example, if the original configuration package was located at:
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package-1.0.zip</span></code>, then you want to
create a new configuration package with location such as:
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package-2.0.zip</span></code>. Even if you changed
the contents of <code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package-1.0.zip</span></code> and
keep the name, CloudFormation is not able to update the configuration.</p>
<p>The advanced configuration zip file name must be changed in order to update it
successfully. We recommend including a version name within the file name to
avoid any complications when updating your configurations.</p>



<h2 id="interactions-between-default-and-advanced-configurations">Interactions between default and advanced configurations<a class="headerlink" href="#interactions-between-default-and-advanced-configurations" title="Permalink to this headline">#</a></h2>
<p>It is important to note that the “out of the box” default values are overridden
only for the keys where an advanced configuration entry exits. If no advanced
configuration is entered, the default value remains. However, in the case of
<code class="docutils literal notranslate"><span class="pre">jvm.config</span></code> , additional configuration entries are appended to the default
configuration.</p>




          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="deploy.html" title="Deploying SEP"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Deploying SEP </span>
              </div>
            </a>
          
          
            <a href="metastore.html" title="Configuring Hive Metastore"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Configuring Hive Metastore </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/knowledge-base/index.html">Knowledge base</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-presto-guide/" target="_blank">Free O'Reilly book - Presto: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                  alt="Starburst Enterprise logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2021<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
  </body>
</html>