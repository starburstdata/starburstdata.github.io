

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Starburst smart indexing and caching &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Starburst Stargate" href="starburst-stargate.html" />
    <link rel="prev" title="Utilities" href="../utilities.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/connector/starburst-siac.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#connector/starburst-siac" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/starburst_KO-T.png"
                   alt="Starburst Enterprise 403-e STS logo">
          
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 403-e STS</a>
          <span class="md-header-nav__topic"> Starburst smart indexing and caching </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (402-e)" href="/402-e/">Latest LTS (402-e)</a>
      
          <a title="393-e LTS" href="/393-e/">393-e LTS</a>
      
          <a title="380-e LTS" href="/380-e/">380-e LTS</a>
      
          <a title="370-e LTS" href="/370-e/">370-e LTS</a>
      
          <a title="Latest STS (403-e)" href="/403-e/">Latest STS (403-e)</a>
      
          <a title="401-e STS" href="/401-e/">401-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/get-started/index.html" class="md-tabs__link">Get started</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/ecosystems/index.html" class="md-tabs__link">Ecosystems</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../utilities.html" class="md-tabs__link">Utilities</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/starburst_KO-T.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 403-e STS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Overview</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Features, use cases, and support</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For all users</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../overview/sep-ui.html" class="md-nav__link">Starburst Enterprise web UI</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-products.html" class="md-nav__link">Data products</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For data engineers</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For platform administrators</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Performance, logging, and governance features</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Data sources</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connector overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../object-storage.html" class="md-nav__link">Object storage connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html" class="md-nav__link">Non-object storage connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../utilities.html" class="md-nav__link">Utilities</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../utilities.html#utility-connectors" class="md-nav__link">Utility connectors</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../utilities.html#starburst-tools" class="md-nav__link">Starburst tools</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../utilities.html#system-information" class="md-nav__link">System information</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../utilities.html#benchmarking" class="md-nav__link">Benchmarking</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-connectors.html" class="md-nav__link">Starburst connectors feature matrix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">SQL reference</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">403-e STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Appendix</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Version-specific notices and information</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#connector-starburst-siac--page-root" class="md-nav__link">Starburst smart indexing and caching</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#requirements" class="md-nav__link">Requirements</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#supported-object-storage" class="md-nav__link">Supported object storage</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#cluster-configuration" class="md-nav__link">Cluster configuration</a>
        </li>
        <li class="md-nav__item"><a href="#catalog-configuration" class="md-nav__link">Catalog configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#catalog-configuration-properties" class="md-nav__link">Catalog configuration properties</a>
        </li>
        <li class="md-nav__item"><a href="#hive-considerations" class="md-nav__link">Hive considerations</a>
        </li>
        <li class="md-nav__item"><a href="#iceberg-considerations" class="md-nav__link">Iceberg considerations</a>
        </li>
        <li class="md-nav__item"><a href="#delta-lake-considerations" class="md-nav__link">Delta Lake considerations</a>
        </li>
        <li class="md-nav__item"><a href="#s3-considerations" class="md-nav__link">S3 considerations</a>
        </li>
        <li class="md-nav__item"><a href="#adls-considerations" class="md-nav__link">ADLS considerations</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#indexing-and-caching-management" class="md-nav__link">Indexing and caching management</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#warming-status" class="md-nav__link">Warming status</a>
        </li>
        <li class="md-nav__item"><a href="#debug-tools" class="md-nav__link">Debug tools</a>
        </li>
        <li class="md-nav__item"><a href="#row-group-count" class="md-nav__link">Row group count</a>
        </li>
        <li class="md-nav__item"><a href="#create-a-warmup-rule" class="md-nav__link">Create a warmup rule</a>
        </li>
        <li class="md-nav__item"><a href="#get-all-warmup-rules" class="md-nav__link">Get all warmup rules</a>
        </li>
        <li class="md-nav__item"><a href="#delete-a-warmup-rule" class="md-nav__link">Delete a warmup rule</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#sql-support" class="md-nav__link">SQL support</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="sb-smart-indexing-and-caching">
<h1 id="connector-starburst-siac--page-root">Starburst smart indexing and caching<a class="headerlink" href="#connector-starburst-siac--page-root" title="Permalink to this heading">#</a></h1>
<p>Starburst smart indexing and caching enables higher performance for catalogs using
the Hive, Iceberg, or Delta Lake connectors by transparently adding an indexing
and caching layer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Learn more about high level architecture and characteristics of <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html">smart
indexing and caching</a>
before using it.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Smart indexing and caching is a <a class="reference internal" href="../versions.html#feature-release-status"><span class="std std-ref">public preview</span></a> feature. Contact <a class="reference external" href="../../support.html">Starburst support</a> with questions or feedback.</p>
</div>
<section id="requirements">
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">#</a></h2>
<p>To use smart indexing and caching, you need:</p>
<ul class="simple">
<li><p>One or more catalogs that use the <a class="reference internal" href="starburst-hive.html"><span class="doc">Hive</span></a>,
<a class="reference internal" href="starburst-iceberg.html"><span class="doc">Iceberg</span></a>, or <a class="reference internal" href="starburst-delta-lake.html"><span class="doc">Delta Lake</span></a> connectors.</p></li>
<li><p>A cluster deployment on Amazon Elastic Kubernetes Service (EKS) or Microsoft
Azure Kubernetes Service (AKS) as detailed in
<a class="reference internal" href="#siac-cluster-configuration"><span class="std std-ref">Cluster configuration</span></a>.</p></li>
<li><p>A valid <a class="reference internal" href="../installation/license-requirements.html"><span class="doc">Starburst Enterprise license</span></a>.</p></li>
</ul>
<section id="supported-object-storage">
<span id="siac-object-storage-support"></span><h3 id="supported-object-storage">Supported object storage<a class="headerlink" href="#supported-object-storage" title="Permalink to this heading">#</a></h3>
<p>Smart indexing and caching only supports the following object storage:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#siac-s3-considerations"><span class="std std-ref">Amazon S3</span></a>.</p></li>
<li><p><a class="reference internal" href="#siac-adls-considerations"><span class="std std-ref">Microsoft ADLS Gen 2</span></a>.</p></li>
</ul>
<p>No other other object storage systems, including on-premises storage, Google
Cloud Storage, S3-compatible storage such as MinIO, and any others are
supported.</p>
</section>
</section>
<section id="cluster-configuration">
<span id="siac-cluster-configuration"></span><h2 id="cluster-configuration">Cluster configuration<a class="headerlink" href="#cluster-configuration" title="Permalink to this heading">#</a></h2>
<p>Smart indexing and caching requires your cluster to operate on the
Kubernetes-based platform with the recommended node sizes. These sizes provide
the necessary resources in terms of CPU, memory, and storage. Specifically, the
included SSD storage is heavily used. You need to ensure that these devices are
not used for any other purpose.</p>
<p>EKS node sizes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r5d.4xlarge</span></code> or larger</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r5dn.4xlarge</span></code> or larger</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r6gd.4xlarge</span></code> or larger</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i3.4xlarge</span></code> or larger</p></li>
</ul>
<p>Create an EKS Managed Node Group with a specific size, and use it for
all nodes in the cluster.</p>
<p>AKS node size:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Standard_L16s_v2</span></code> or larger with SSDs attached</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Smart indexing and caching is not supported on a cluster running in
<a class="reference internal" href="../admin/fault-tolerant-execution.html"><span class="doc">Fault-tolerant execution</span></a> mode.</p>
</div>
<p>Deployment and management is performed with the SEP Helm charts detailed in
<a class="reference internal" href="../k8s.html"><span class="doc">Deploying with Kubernetes</span></a> and <a class="reference internal" href="../k8s/sep-configuration.html"><span class="doc">Configuring Starburst Enterprise in Kubernetes</span></a>.</p>
<p>Add the following section in your values file for the specific cluster to enable
smart indexing and caching:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">siac</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>By default, it is disabled. The recommended memory allocation is automatically
configured, but can be optionally overridden.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">siac</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">additionalHeapSizePercentage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">15</span>
</pre></div>
</div>
<p>Smart indexing and caching requires privileged access to the attached storage on
the nodes. Configure this for the coordinator and all workers.</p>
<p>Coordinator configuration for privileged access:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">securityContext</span><span class="p">:</span>
    <span class="nt">privileged</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>Worker configuration for privileged access:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">worker</span><span class="p">:</span>
  <span class="nt">securityContext</span><span class="p">:</span>
    <span class="nt">privileged</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>As a last step, you need to ensure that you use a dedicated coordinator that is
not scheduled for query processing, and adjust the query processing
configuration to allow for more splits:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">additionalProperties</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">...</span>
    <span class="no">node-scheduler.include-coordinator=false</span>
    <span class="no">node-scheduler.max-splits-per-node=4096</span>
    <span class="no">node-scheduler.max-unacknowledged-splits-per-task=1024</span>
    <span class="no">node-scheduler.max-pending-splits-per-task=1024</span>
</pre></div>
</div>
<p>Use Helm to update the values and restart the cluster nodes. Confirm the cluster
is operating correctly with the new configuration, but without any adjusted
catalogs, and then proceed to configure catalogs.</p>
<p>Related to the catalog usage, the cluster needs to allow internal communication
between all workers, as well as with the coordinator on all the HTTP ports
configured by the different values for <code class="docutils literal notranslate"><span class="pre">http-rest-port</span></code> in all catalogs.</p>
<p>When starting the cluster, smart indexing and caching parses all configuration
parameters and can send invalid warnings such as <code class="docutils literal notranslate"><span class="pre">Configuration</span> <span class="pre">property</span>
<span class="pre">'cache-service.password'</span> <span class="pre">was</span> <span class="pre">not</span> <span class="pre">used</span></code>. You can safely ignore these warnings.</p>
</section>
<section id="catalog-configuration">
<span id="siac-catalog-configuration"></span><h2 id="catalog-configuration">Catalog configuration<a class="headerlink" href="#catalog-configuration" title="Permalink to this heading">#</a></h2>
<p>After a successful <a class="reference internal" href="#siac-cluster-configuration"><span class="std std-ref">Cluster configuration</span></a>, you can configure the
desired catalog to use smart indexing and caching.</p>
<p>Only catalogs using the Hive, Iceberg, or Delta Lake connectors can be
accelerated:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">connector.name=hive</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">connector.name=iceberg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">connector.name=delta-lake</span></code></p></li>
</ul>
<p>For more details, see <a class="reference internal" href="#siac-delta-lake-considerations"><span class="std std-ref">Delta Lake considerations</span></a>,
<a class="reference internal" href="#siac-iceberg-considerations"><span class="std std-ref">Iceberg considerations</span></a>, and
<a class="reference internal" href="#siac-hive-considerations"><span class="std std-ref">Hive considerations</span></a>.</p>
<p>Only catalogs backed by S3 and ADLS object storage are supported. For more
details, see <a class="reference internal" href="#siac-s3-considerations"><span class="std std-ref">S3 considerations</span></a> and
<a class="reference internal" href="#siac-adls-considerations"><span class="std std-ref">ADLS considerations</span></a>.</p>
<p>For example, update the <code class="docutils literal notranslate"><span class="pre">example</span></code> catalog that uses the Hive connector
and AWS Glue as metastore in the values file.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">catalogs</span><span class="p">:</span>
  <span class="nt">example</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=hive</span>
    <span class="no">hive.metastore=glue</span>
    <span class="no">...</span>
</pre></div>
</div>
<p>Enable smart indexing and caching on the catalog by updating the connector name
to <code class="docutils literal notranslate"><span class="pre">siac</span></code> and adding the required configuration properties:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">catalogs</span><span class="p">:</span>
  <span class="nt">example</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=siac</span>
    <span class="no">siac.proxied-connector=HIVE</span>
    <span class="no">siac.store.path=s3://example/path/</span>
    <span class="no">siac.cluster-uuid=example-cluster-567891234567</span>
    <span class="no">siac.workerdb.hibernate.connection.url=jdbc:hsqldb:file:/usr/lib/starburst/[CATALOG_NAME]/workerDB/db</span>
    <span class="no">http-rest-port=8088</span>
    <span class="no">hive.metastore=glue</span>
    <span class="no">...</span>
</pre></div>
</div>
<p>For testing purposes, or alternatively for permanent usage of a new catalog name
(for example, <code class="docutils literal notranslate"><span class="pre">faster</span></code>), in parallel to the existing catalog, you can copy the
configuration of a catalog and update it:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">catalogs</span><span class="p">:</span>
  <span class="nt">example</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=hive</span>
    <span class="no">hive.metastore=glue</span>
    <span class="no">...</span>
  <span class="nt">faster</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">connector.name=siac</span>
    <span class="no">siac.proxied-connector=HIVE</span>
    <span class="no">siac.store.path=s3://example/path/</span>
    <span class="no">siac.cluster-uuid=example-cluster-567891234567</span>
    <span class="no">siac.workerdb.hibernate.connection.url=jdbc:hsqldb:file:/usr/lib/starburst/[CATALOG_NAME]/workerDB/db</span>
    <span class="no">http-rest-port=8088</span>
    <span class="no">hive.metastore=glue</span>
    <span class="no">...</span>
</pre></div>
</div>
<p>This allows you to query the same data with or without smart indexing and
caching using different catalog names. However, existing scripts and statements
that include the old catalog name <code class="docutils literal notranslate"><span class="pre">example</span></code> are not accelerated.</p>
<section id="catalog-configuration-properties">
<h3 id="catalog-configuration-properties">Catalog configuration properties<a class="headerlink" href="#catalog-configuration-properties" title="Permalink to this heading">#</a></h3>
<p>The following table provides more information about the available catalog
configuration properties:</p>
<table id="id4">
<caption><span class="caption-text">Catalog configuration properties</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connector.name</span></code></p></td>
<td><p><strong>Required.</strong> Must be set to <code class="docutils literal notranslate"><span class="pre">siac</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">siac.proxied-connector</span></code></p></td>
<td><p><strong>Required.</strong> The type of embedded connector that is used for accessing
cold data through the smart indexing and caching connector. Defaults to
<code class="docutils literal notranslate"><span class="pre">HIVE</span></code>. Valid values are <code class="docutils literal notranslate"><span class="pre">HIVE</span></code>, <code class="docutils literal notranslate"><span class="pre">ICEBERG</span></code>, or <code class="docutils literal notranslate"><span class="pre">DELTA_LAKE</span></code>. All
properties supported by these connectors can be used to configure the
catalog.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">siac.store.path</span></code></p></td>
<td><p><strong>Required.</strong> The path of the object store where call-home data,
metadata, and import-export data is managed. Required to use <code class="docutils literal notranslate"><span class="pre">s3://</span></code>,
<code class="docutils literal notranslate"><span class="pre">abfs://</span></code> or <code class="docutils literal notranslate"><span class="pre">abfss://</span></code> as protocol. Write access privileges are
necessary.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">siac.cluster-uuid</span></code></p></td>
<td><p><strong>Required.</strong> Unique identifier of the cluster. Used as the folder name
in the store path. When creating a new cluster and the same
<code class="docutils literal notranslate"><span class="pre">siac.store.path</span></code> and <code class="docutils literal notranslate"><span class="pre">siac.cluster-uuid</span></code> is used, then the
<a class="reference internal" href="#siac-management"><span class="std std-ref">cluster warmup rules</span></a> for index and cache
creation are imported into the newly created cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">siac.workerdb.hibernate.connection.url</span></code></p></td>
<td><p><strong>Required.</strong> JDBC connection string for the internal database. Must be
set to
<code class="docutils literal notranslate"><span class="pre">jdbc:hsqldb:file:/usr/lib/starburst/[CATALOG_NAME]/workerDB/db</span></code>.
Include <code class="docutils literal notranslate"><span class="pre">[CATALOG_NAME]</span></code> verbatim in the string. Do not replace the
<code class="docutils literal notranslate"><span class="pre">CATALOG_NAME</span></code> text because the catalog directory name is generated
for you. The brackets are required. Write access privileges are
necessary.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">http-rest-port</span></code></p></td>
<td><p><strong>Required.</strong> The port to use to run the REST server used for smart
indexing and caching configuration. This port needs to be open across
the cluster. Each catalog needs to use a different value. Defaults to
<code class="docutils literal notranslate"><span class="pre">8088</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">siac.call-home.enable</span></code></p></td>
<td><p>Enable pushing logs and metadata to the object store path configured at
<code class="docutils literal notranslate"><span class="pre">siac.store.path</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">siac.config.azure.connection-string</span></code></p></td>
<td><p><strong>Required</strong> when using <a class="reference internal" href="#siac-object-storage-support"><span class="std std-ref">ADLS for storage</span></a>. Authorizes access to data in an Azure
Storage account. For more information, see <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/common/storage-configure-connection-string#configure-a-connection-string-for-an-azure-storage-account">configure a connection
string for an Azure storage account</a>
and <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-portal#view-account-access-keys">copy the connection string</a>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="hive-considerations">
<span id="siac-hive-considerations"></span><h3 id="hive-considerations">Hive considerations<a class="headerlink" href="#hive-considerations" title="Permalink to this heading">#</a></h3>
<p>All configurations of the <a class="reference internal" href="starburst-hive.html"><span class="doc">Hive connector</span></a> are
supported. Additionally, the following considerations apply when using the Hive
connector as the proxied connector for smart indexing and caching:</p>
<ul class="simple">
<li><p><a class="reference internal" href="hive.html#hive-table-redirection"><span class="std std-ref">Table redirection from a catalog using the Hive connector</span></a> to Delta Lake or Iceberg is not supported.</p></li>
<li><p>Materialized views are supported.</p></li>
</ul>
<p>For optimal performance, add the following properties to your catalog
configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">catalogs</span><span class="p">:</span>
  <span class="nt">example</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">...</span>
    <span class="no">hive.max-outstanding-splits-size=512MB</span>
    <span class="no">hive.max-initial-splits=0</span>
    <span class="no">hive.max-outstanding-splits=2000</span>
    <span class="no">hive.max-split-size=64MB</span>
    <span class="no">...</span>
</pre></div>
</div>
</section>
<section id="iceberg-considerations">
<span id="siac-iceberg-considerations"></span><h3 id="iceberg-considerations">Iceberg considerations<a class="headerlink" href="#iceberg-considerations" title="Permalink to this heading">#</a></h3>
<p>All configurations of the <a class="reference internal" href="starburst-iceberg.html"><span class="doc">Iceberg connector</span></a> are supported. Additionally, the following
considerations apply when using the Iceberg connector as the proxied connector
for smart indexing and caching:</p>
<ul class="simple">
<li><p>Materialized views are not supported.</p></li>
<li><p>An associated split is served from object storage and no acceleration occurs
when:</p>
<ul>
<li><p>A row-level <a class="reference internal" href="iceberg.html#iceberg-data-management"><span class="std std-ref">update or delete operation</span></a>.</p></li>
<li><p>A merge operation that causes a record update.</p></li>
</ul>
</li>
</ul>
</section>
<section id="delta-lake-considerations">
<span id="siac-delta-lake-considerations"></span><h3 id="delta-lake-considerations">Delta Lake considerations<a class="headerlink" href="#delta-lake-considerations" title="Permalink to this heading">#</a></h3>
<p>All configurations of the <a class="reference internal" href="starburst-delta-lake.html"><span class="doc">Delta Lake connector</span></a> are supported. Additionally, the following
considerations apply when using the Delta Lake connector as the proxied connector
for smart indexing and caching:</p>
<ul class="simple">
<li><p>Materialized views are not supported.</p></li>
<li><p>An associated split is served from object storage and no acceleration occurs
when:</p>
<ul>
<li><p>A row-level <a class="reference internal" href="delta-lake.html#delta-lake-write-support"><span class="std std-ref">update or delete operation</span></a>.</p></li>
<li><p>A merge operation that causes a record update.</p></li>
</ul>
</li>
</ul>
</section>
<section id="s3-considerations">
<span id="siac-s3-considerations"></span><h3 id="s3-considerations">S3 considerations<a class="headerlink" href="#s3-considerations" title="Permalink to this heading">#</a></h3>
<p>Smart indexing and caching supports <a class="reference external" href="https://aws.amazon.com/s3/">Amazon S3</a>
with catalogs using the Hive, Iceberg and Delta Lake connectors.</p>
<p>Using the <code class="docutils literal notranslate"><span class="pre">s3://</span></code> protocol is required.</p>
</section>
<section id="adls-considerations">
<span id="siac-adls-considerations"></span><h3 id="adls-considerations">ADLS considerations<a class="headerlink" href="#adls-considerations" title="Permalink to this heading">#</a></h3>
<p>Smart indexing and caching supports
<a class="reference external" href="https://azure.microsoft.com/en-us/products/storage/data-lake-storage/">Microsoft ADLS Gen 2</a>.
<a class="reference external" href="https://learn.microsoft.com/en-us/azure/data-lake-store/data-lake-store-overview">ADLS Gen1</a>
is not supported.</p>
<p>Using the <code class="docutils literal notranslate"><span class="pre">abfs://</span></code> or <code class="docutils literal notranslate"><span class="pre">abfss://</span></code> protocol is required.</p>
<p>ADLS can be used with catalogs using the Hive and Delta Lake connectors with the
following configuration properties to connect to Azure storage:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">catalogs</span><span class="p">:</span>
  <span class="nt">faster</span><span class="p">:</span> <span class="p p-Indicator">|</span>
    <span class="no">...</span>
    <span class="no">siac.store.path=abfs://&lt;container_name@account_name&gt;.dfs.core.windows.net/folder</span>
    <span class="no">siac.config.azure.connection-string=&lt;connection_string&gt;</span>
    <span class="no">hive.azure.abfs-storage-account=&lt;storage_account_name&gt;</span>
    <span class="no">hive.azure.abfs-access-key=xxx</span>
    <span class="no">...</span>
</pre></div>
</div>
<p>In addition, <code class="docutils literal notranslate"><span class="pre">siac.call-home.enable</span></code> must be disabled. Then it is possible to
secure the connection with TLS and use the <code class="docutils literal notranslate"><span class="pre">abfss</span></code> protocol with the <a class="reference external" href="https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction-abfs-uri#uri-syntax">URI
syntax</a>.</p>
</section>
</section>
<section id="indexing-and-caching-management">
<span id="siac-management"></span><h2 id="indexing-and-caching-management">Indexing and caching management<a class="headerlink" href="#indexing-and-caching-management" title="Permalink to this heading">#</a></h2>
<p>Smart caching and indexing automatically creates and manages its data based on
processed queries, also called the <a class="reference external" href="../../../starburst-enterprise/admin-topics/siac.html#overview">default acceleration</a>.</p>
<p>In addition, you can further configure it with the REST API exposed on the
coordinator at the port configured with <code class="docutils literal notranslate"><span class="pre">http-rest-port</span></code> for each catalog.
This port on the coordinator node needs to be exposed to the machine from where
you call the REST API. Typically this is outside the cluster.</p>
<p>The following example call accesses the <code class="docutils literal notranslate"><span class="pre">row-group/row-group-count</span></code> endpoint
for the catalog configured for port 8088 on the cluster at <code class="docutils literal notranslate"><span class="pre">sep.example.com</span></code>
via HTTP with a GET command.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X GET <span class="s2">"http://sep.example.com:8088/row-group/row-group-count"</span> -H <span class="s2">"accept: application/json"</span>
</pre></div>
</div>
<p>Alternatively you can use the <code class="docutils literal notranslate"><span class="pre">curl</span></code> installed on the coordinator, and execute
commands towards the <code class="docutils literal notranslate"><span class="pre">row-group/row-group-count</span></code> endpoint of the API directly
on the coordinator container with localhost and the HTTP port for the specific
catalog:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl <span class="nb">exec</span> &lt;coordinator-pod&gt; -c coordinator --  <span class="se">\</span>
curl -X GET <span class="s2">"http://localhost:8088/row-group/row-group-count"</span> -H <span class="s2">"accept: application/json"</span>
</pre></div>
</div>
<p>The JSON-formatted response is returned on your machine, where you run
<code class="docutils literal notranslate"><span class="pre">kubectl</span></code>. You can pipe results into a locally installed <code class="docutils literal notranslate"><span class="pre">jq</span></code> command to be
able to read the result.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl <span class="nb">exec</span> &lt;coordinator-pod&gt; -c coordinator --  <span class="se">\</span>
curl -X GET <span class="s2">"http://localhost:8088/row-group/row-group-count"</span> -H <span class="s2">"accept: application/json"</span> <span class="se">\</span>
<span class="p">|</span> jq
</pre></div>
</div>
<p>Alternatively you can pipe the output into a file and then view it with an
editor or other tool that improves the JSON file formatting.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>kubectl <span class="nb">exec</span> &lt;coordinator-pod&gt; -c coordinator -- <span class="se">\</span>
curl -X GET <span class="s2">"http://localhost:8088/row-group/row-group-count"</span> -H <span class="s2">"accept: application/json"</span> <span class="se">\</span>
&gt; result.json
</pre></div>
</div>
<p>The following sections detail the REST API and available endpoints. The example
calls use plain curl calls to the endpoints at via HTTP on localhost. Adapt them
to your usage by adding the kubectl invocation or update the coordinator URL.</p>
<section id="warming-status">
<h3 id="warming-status">Warming status<a class="headerlink" href="#warming-status" title="Permalink to this heading">#</a></h3>
<p>You can determine the status of the warmup for smart indexing and caching with a
GET operation of the <code class="docutils literal notranslate"><span class="pre">/warming/status</span></code> endpoint. It measures the warmup
progress for splits across workers and if warming is currently taking place.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X GET <span class="s2">"http://localhost:8088/warming/status"</span> -H <span class="s2">"accept: application/json"</span>
</pre></div>
</div>
<p>Example response:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{"nodesStatus":
  {"172.31.16.98": {"started":22136,"finished":22136},
   "172.31.25.207":{"started":20702,"finished":20702},
   "172.31.19.167":{"started":21116,"finished":21116},
   "172.31.22.28":{"started":20678,"finished":20678}},
   "warming":false}
</pre></div>
</div>
<p>The response shows that warmup started and finished on four workers, and is
currently not in progress.</p>
</section>
<section id="debug-tools">
<h3 id="debug-tools">Debug tools<a class="headerlink" href="#debug-tools" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">debug-tools</span></code> endpoint requires an HTTP POST to specify the detailed
command with a JSON payload to retrieve the desired data. You can use it to
return the storage utilization:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X POST <span class="s2">"http://localhost:8088/debug-tools"</span> -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
-d <span class="s1">'{"commandName" : "all","@class" : "io.trino.plugin.varada.execution.debugtools.DebugToolData"}'</span>
</pre></div>
</div>
<p>Example response:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{"coordinator-container":
  {"result":
    {"Storage_capacity":15000000,
     "Allocated 8k pages":1000000,
     "Num used stripes":0
    }
  }
}
</pre></div>
</div>
<p>Calculate the storage utilization percentage with  <code class="docutils literal notranslate"><span class="pre">(Allocated</span> <span class="pre">8k</span> <span class="pre">pages</span> <span class="pre">/</span>
<span class="pre">Storage_capacity)</span> <span class="pre">*</span> <span class="pre">100</span></code>.</p>
</section>
<section id="row-group-count">
<h3 id="row-group-count">Row group count<a class="headerlink" href="#row-group-count" title="Permalink to this heading">#</a></h3>
<p>A row group in smart indexing and caching is a collection of index and cache
elements that are used to accelerate processing of Trino splits from the SSD
storage.</p>
<blockquote id="note">
<div><p>A row group in smart indexing and caching is not equivalent to a Parquet row
group or an ORC stripe, but a higher level artifact specific to smart indexing
and caching. It can be related to a specific Parquet row group or ORC stripe
but can also represent data from a whole file or more.</p>
</div></blockquote>
<p>The <code class="docutils literal notranslate"><span class="pre">row-group/row-group-count</span></code> endpoint exposes all currently warmed up
columns via an HTTP GET:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X GET <span class="s2">"http://localhost:8088/row-group/row-group-count"</span> -H <span class="s2">"accept: application/json"</span>
</pre></div>
</div>
<p>The result is a list of columns specified by <code class="docutils literal notranslate"><span class="pre">schema.table.column.warumuptype</span></code>
as the key. The value represents the corresponding count of accelerated row
groups. Warmup types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">COL_WARM_UP_TYPE_DATA</span></code> represents <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html#data-cache-accel">data cache acceleration</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COL_WARM_UP_TYPE_BASIC</span></code> represents <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html#index-accel">index acceleration</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">COL_WARM_UP_TYPE_LUCENE</span></code> represents <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html#text-search-accel">text search acceleration</a>.</p></li>
</ul>
<p>In the following example, 20 row groups of the <code class="docutils literal notranslate"><span class="pre">tripid</span></code> column of the
<code class="docutils literal notranslate"><span class="pre">trips_data</span></code> table in the <code class="docutils literal notranslate"><span class="pre">trips</span></code> schema are accelerated with a data cache
and an index.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
  trips.trips_data.tripid.COL_WARM_UP_TYPE_DATA": 20,
  trips.trips_data.tripdid.COL_WARM_UP_TYPE_BASIC": 20
}
</pre></div>
</div>
</section>
<section id="create-a-warmup-rule">
<h3 id="create-a-warmup-rule">Create a warmup rule<a class="headerlink" href="#create-a-warmup-rule" title="Permalink to this heading">#</a></h3>
<p>Use the <code class="docutils literal notranslate"><span class="pre">warmup/warmup-rule-set</span></code> endpoint with an HTTP POST and a JSON
payload to create a new rule for a column of a table in a schema. This forces
the creation of index and caching data for the column, independent of processed
queries and the default acceleration.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X POST -H <span class="s2">"Content-Type: application/json"</span> http://localhost:8088/warmup/warmup-rule-set <span class="se">\</span>
-d <span class="s1">'[ { "colNameId": "int_1", "schema": "tmp", "table": "aaa", "colWarmUpType": "COL_WARM_UP_TYPE_BASIC", "priority": 8, "ttl": "PT720H", "predicates": [ ] } ]'</span>
</pre></div>
</div>
<table id="id5">
<caption><span class="caption-text">Warmup rule properties</span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 65%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">colNameid</span></code></p></td>
<td><p>Name of the column to which a warmup rule is attached.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">schema</span></code></p></td>
<td><p>Name of the schema that contains the specified table.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">table</span></code></p></td>
<td><p>Name of the table that contains the specified column.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">predicates</span></code></p></td>
<td><p>Defaults to all partitions. Use the JSON array syntax <code class="docutils literal notranslate"><span class="pre">["example1",</span>
<span class="pre">"example2"]</span></code> to limit to specific partitions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">colWarmUpType</span></code></p></td>
<td><p>The materialization type performed on the specified column in the
specified table. Valid values are <code class="docutils literal notranslate"><span class="pre">COL_WARM_UP_TYPE_DATA</span></code> for <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html#data-cache-accel">data
cache acceleration</a>,
<code class="docutils literal notranslate"><span class="pre">COL_WARM_UP_TYPE_BASIC</span></code> for <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html#index-accel">index acceleration</a>, and
<code class="docutils literal notranslate"><span class="pre">COL_WARM_UP_TYPE_LUCENE</span></code> for <a class="reference external" href="../../starburst-enterprise/admin-topics/siac.html#text-search-accel">text search acceleration</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">priority</span></code></p></td>
<td><p>Priority for the warmup rule. To ensure a column is accelerated even if
storage capacity is exceeded, set the <code class="docutils literal notranslate"><span class="pre">priority</span></code> as high as <code class="docutils literal notranslate"><span class="pre">10</span></code>. To
ensure a column is never accelerated and prevent data cache or index
creation, set to <code class="docutils literal notranslate"><span class="pre">-10</span></code>. Valid range of values: <code class="docutils literal notranslate"><span class="pre">-10</span></code> to <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ttl</span></code></p></td>
<td><p>Duration for which the warmup rule remains active.  Use <code class="docutils literal notranslate"><span class="pre">PT0M</span></code> to
prevent expiration of the rule. Use duration specified in <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO-8601</a> duration format
(PnDTnHnMn).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="get-all-warmup-rules">
<h3 id="get-all-warmup-rules">Get all warmup rules<a class="headerlink" href="#get-all-warmup-rules" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">warmup/warmup-rule-get</span></code> endpoint exposes all defined warmup rules via an
HTTP GET:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X GET <span class="s2">"http://localhost:8088/warmup/warmup-rule-get"</span> -H <span class="s2">"accept: application/json"</span>
</pre></div>
</div>
<p>Response:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
  "id":186229827,
  "schema":"ride_sharing_dataset",
  "table":"trips_data_big",
  "colNameId":"d_date",
  "column":
    {
      "classType":"RegularColumn",
      "key":"d_date"
     },
  "colWarmUpType":"COL_WARM_UP_TYPE_BASIC",
  "priority":8.0,
  "ttl":2592000.000000000,
  "predicates":[]
}
</pre></div>
</div>
</section>
<section id="delete-a-warmup-rule">
<h3 id="delete-a-warmup-rule">Delete a warmup rule<a class="headerlink" href="#delete-a-warmup-rule" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">warmup/warmup-rule-delete</span></code> endpoint allows you to delete a warmup rule
via an HTTP DELETE. The identifier for the rule is a required parameter and can
be seen from the result of <code class="docutils literal notranslate"><span class="pre">warmup/warmup-rule-get</span></code> in the <code class="docutils literal notranslate"><span class="pre">id</span></code> value.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -X DELETE <span class="s2">"http://localhost:8088/warmup/warmup-rule-delete"</span> -H <span class="s2">"accept: application/json"</span> -H <span class="s2">"Content-Type: application/json"</span> -d <span class="s2">"[186229827]""</span>
</pre></div>
</div>
<p>When you delete a warmup rule, the column index and cache data is de-prioritized
to data from a default acceleration, and therefore is subject to earlier
deletion.</p>
</section>
</section>
<section id="sql-support">
<h2 id="sql-support">SQL support<a class="headerlink" href="#sql-support" title="Permalink to this heading">#</a></h2>
<p>All SQL statements and functions supported by the connector used in the
accelerated catalog are supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="starburst-hive.html#sb-hive-sql-support"><span class="std std-ref">Starburst Hive connector</span></a></p></li>
<li><p><a class="reference internal" href="starburst-iceberg.html#sb-iceberg-sql-support"><span class="std std-ref">Starburst Iceberg connector</span></a></p></li>
<li><p><a class="reference internal" href="starburst-delta-lake.html#sb-delta-lake-sql-support"><span class="std std-ref">Starburst Delta Lake connector</span></a></p></li>
</ul>
<p>When functions are applied on columns for the filtering operation, there is no
acceleration for the filtering operation for some functions. For example, the
filtering operation in the following example is not accelerated:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="k">catalog</span><span class="p">.</span><span class="k">schema</span><span class="p">.</span><span class="k">table</span>
<span class="k">WHERE</span> <span class="k">lower</span><span class="p">(</span><span class="n">company</span><span class="p">)</span> <span class="o">=</span> <span class="s1">'starburst'</span><span class="p">;</span>
</pre></div>
</div>
<p>In addition, the following functions are accelerated by indexing when used on
the left right or the right side of the predicate:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ceil(x)</span></code> with <code class="docutils literal notranslate"><span class="pre">real</span></code> or <code class="docutils literal notranslate"><span class="pre">double</span></code> data type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">in_nan(x)</span></code> with <code class="docutils literal notranslate"><span class="pre">real</span></code> or <code class="docutils literal notranslate"><span class="pre">double</span></code> data type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cast(x</span> <span class="pre">as</span> <span class="pre">type)</span></code> with <code class="docutils literal notranslate"><span class="pre">double</span></code> cast to <code class="docutils literal notranslate"><span class="pre">real</span></code>, or any type cast to
<code class="docutils literal notranslate"><span class="pre">varchar</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day(d)</span></code> and <code class="docutils literal notranslate"><span class="pre">day_of_month(d)</span></code> with <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day_of_year(d)</span></code> and <code class="docutils literal notranslate"><span class="pre">doy(y)</span></code> with <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">day_of_week(d)</span></code> and <code class="docutils literal notranslate"><span class="pre">dow(d)</span></code> with <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">year(d)</span></code> with <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">year_of_week(d)</span></code> and <code class="docutils literal notranslate"><span class="pre">yow(d)</span></code> with <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">week(d)</span></code> and <code class="docutils literal notranslate"><span class="pre">week_of_year(d)</span></code> with <code class="docutils literal notranslate"><span class="pre">date</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> data types</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LIKE</span></code>, <code class="docutils literal notranslate"><span class="pre">NOT</span> <span class="pre">LIKE</span></code> with <code class="docutils literal notranslate"><span class="pre">varchar</span></code> data type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contains(arr_varchar,</span> <span class="pre">value)</span></code> with array of <code class="docutils literal notranslate"><span class="pre">varchar</span></code> data type</p></li>
</ul>
<p>The maximum supported string length for any data type used for caching and
indexing is 50.000 characters.</p>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="../utilities.html" title="Utilities"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Utilities </span>
              </div>
            </a>
          
          
            <a href="starburst-stargate.html" title="Starburst Stargate"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Starburst Stargate </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/starburst_KO-T.png" height="26"
                  alt="Starburst Enterprise 403-e STS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>