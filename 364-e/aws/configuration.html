

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Configuring Starburst Enterprise with CFT &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuring the Hive Metastore Service with CFT" href="metastore.html" />
    <link rel="prev" title="Installing Starburst Enterprise in AWS" href="installation.html" />

  
   



<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/aws/configuration.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#aws/configuration" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 364-e.0 LTS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise 364-e.0 LTS</span>
          <span class="md-header-nav__topic"> Configuring Starburst Enterprise with CFT </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (364-e)" href="/364-e/">Latest LTS (364-e)</a>
      
          <a title="350-e LTS" href="/350-e/">350-e LTS</a>
      
          <a title="356-e LTS" href="/356-e/">356-e LTS</a>
      
          <a title="Latest STS (363-e)" href="/363-e/">Latest STS (363-e)</a>
      
          <a title="361-e STS" href="/361-e/">361-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
          <li class="md-tabs__item"><a href="../aws.html" class="md-tabs__link">Deploying with CFT on AWS</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 364-e.0 LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="requirements.html" class="md-nav__link">Starburst Enterprise with CFT requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html" class="md-nav__link">Installing Starburst Enterprise in AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Configuring Starburst Enterprise with CFT </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Configuring Starburst Enterprise with CFT</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#aws-configuration--page-root" class="md-nav__link">Configuring Starburst Enterprise with CFT</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#default-configuration" class="md-nav__link">Default configuration</a>
        </li>
        <li class="md-nav__item"><a href="#custom-configuration" class="md-nav__link">Custom configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#creating-a-configuration-package" class="md-nav__link">Creating a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#uploading-a-configuration-package-to-s3" class="md-nav__link">Uploading a configuration package to S3</a>
        </li>
        <li class="md-nav__item"><a href="#using-a-configuration-package" class="md-nav__link">Using a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#updating-a-configuration-package" class="md-nav__link">Updating a configuration package</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#interactions-between-default-and-custom-configurations" class="md-nav__link">Interactions between default and custom configurations</a>
        </li>
        <li class="md-nav__item"><a href="#cft-configuration-parameters" class="md-nav__link">CFT configuration parameters</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#network-configuration" class="md-nav__link">Network configuration</a>
        </li>
        <li class="md-nav__item"><a href="#ec2-configuration" class="md-nav__link">EC2 configuration</a>
        </li>
        <li class="md-nav__item"><a href="#sep-configuration" class="md-nav__link">SEP configuration</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-options" class="md-nav__link">Hive connector options</a>
        </li>
        <li class="md-nav__item"><a href="#ranger-and-ldap-user-synchronization" class="md-nav__link">Ranger and LDAP user synchronization</a>
        </li>
        <li class="md-nav__item"><a href="#advanced-aws-s3-configuration" class="md-nav__link">Advanced AWS S3 configuration</a>
        </li>
        <li class="md-nav__item"><a href="#monitoring" class="md-nav__link">Monitoring</a>
        </li>
        <li class="md-nav__item"><a href="#iam-instance" class="md-nav__link">IAM instance</a>
        </li>
        <li class="md-nav__item"><a href="#other-parameters" class="md-nav__link">Other parameters</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="metastore.html" class="md-nav__link">Configuring the Hive Metastore Service with CFT</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="operation.html" class="md-nav__link">Operating Starburst Enterprise with CFT</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="cloudwatch.html" class="md-nav__link">Configuring Starburst Enterprise with CloudWatch in CFT</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-notes.html" class="md-nav__link">AWS AMI/CFT release notes</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Starburst Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">364-e.0 STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#aws-configuration--page-root" class="md-nav__link">Configuring Starburst Enterprise with CFT</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#default-configuration" class="md-nav__link">Default configuration</a>
        </li>
        <li class="md-nav__item"><a href="#custom-configuration" class="md-nav__link">Custom configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#creating-a-configuration-package" class="md-nav__link">Creating a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#uploading-a-configuration-package-to-s3" class="md-nav__link">Uploading a configuration package to S3</a>
        </li>
        <li class="md-nav__item"><a href="#using-a-configuration-package" class="md-nav__link">Using a configuration package</a>
        </li>
        <li class="md-nav__item"><a href="#updating-a-configuration-package" class="md-nav__link">Updating a configuration package</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#interactions-between-default-and-custom-configurations" class="md-nav__link">Interactions between default and custom configurations</a>
        </li>
        <li class="md-nav__item"><a href="#cft-configuration-parameters" class="md-nav__link">CFT configuration parameters</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#network-configuration" class="md-nav__link">Network configuration</a>
        </li>
        <li class="md-nav__item"><a href="#ec2-configuration" class="md-nav__link">EC2 configuration</a>
        </li>
        <li class="md-nav__item"><a href="#sep-configuration" class="md-nav__link">SEP configuration</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-options" class="md-nav__link">Hive connector options</a>
        </li>
        <li class="md-nav__item"><a href="#ranger-and-ldap-user-synchronization" class="md-nav__link">Ranger and LDAP user synchronization</a>
        </li>
        <li class="md-nav__item"><a href="#advanced-aws-s3-configuration" class="md-nav__link">Advanced AWS S3 configuration</a>
        </li>
        <li class="md-nav__item"><a href="#monitoring" class="md-nav__link">Monitoring</a>
        </li>
        <li class="md-nav__item"><a href="#iam-instance" class="md-nav__link">IAM instance</a>
        </li>
        <li class="md-nav__item"><a href="#other-parameters" class="md-nav__link">Other parameters</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="aws-configuration--page-root">Configuring Starburst Enterprise with CFT<a class="headerlink" href="#aws-configuration--page-root" title="Permalink to this headline">#</a></h1>
<p>Starburst Enterprise platform (SEP) has an extensive set of configuration switches that allow it to be
tuned for certain specific requirements. Default values are chosen for the best
“out of the box” experience. However, if you need to fine-tune SEP
behavior, you can do so when using Starburst’s CloudFormation template.</p>

<span id="aws-default-configuration"></span><h2 id="default-configuration">Default configuration<a class="headerlink" href="#default-configuration" title="Permalink to this headline">#</a></h2>
<p>The following configuration changes are applied automatically for you:</p>
<ul class="simple">
<li><p>Java heap maximum memory (-Xmx) is set appropriately for the selected EC2
instance type</p></li>
<li><p>JVM’s JIT caches are set to 512 MiB</p></li>
<li><p>Java is configured to use G1 garbage collector, this is the recommended
garbage collector to use when running SEP</p></li>
<li><p>If Hive Metastore is configured (refer to <a class="reference internal" href="metastore.html"><span class="doc">Configuring the Hive Metastore Service with CFT</span></a>), the
<code class="docutils literal notranslate"><span class="pre">hive</span></code> catalog is configured with connector configuration left at
<a class="reference internal" href="../connector/starburst-hive.html"><span class="doc">default values</span></a>.</p></li>
<li><p>A <a class="reference internal" href="../security/audit.html"><span class="doc">query audit</span></a> event listener is configured in
<code class="docutils literal notranslate"><span class="pre">etc/event-listener-audit-log.properties</span></code>. If you have configured
<a class="reference internal" href="../develop/event-listener.html"><span class="doc">another event listener</span></a>, add the property
<code class="docutils literal notranslate"><span class="pre">event-listener.config-files</span></code> in <a class="reference internal" href="../installation/deployment.html#config-properties"><span class="std std-ref">the config properties file</span></a>, and ensure both files are in the list comma-separated
list.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All configuration changes generated by the CFT are stored in the <code class="docutils literal notranslate"><span class="pre">etc</span></code>
directory of the SEP installation directory. Because the installation
directory itself is mounted as a RAM disk, files generated by the CFT
configuration are also stored in memory only.</p>
</div>
<p>No secrets in any files, such as usernames or passwords in catalog
files, are actually stored on disk at any time and the files can not be
access from outside the running EC2 instances.</p>


<span id="id1"></span><h2 id="custom-configuration">Custom configuration<a class="headerlink" href="#custom-configuration" title="Permalink to this headline">#</a></h2>
<p>When using Starburst’s CloudFormation template, configuration packages for the
coordinator, workers and catalogs are used to customize SEP. These
configuration packages are used to append or override the default SEP
configuration.</p>
<p>The CloudFormation template provides the
<code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code> and
<code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code> parameters used to specify the locations
of the configuration packages for the coordinator and workers respectively. See
the following sections for how to create, upload, and use configuration
packages for SEP.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All configuration changes made to your SEP cluster must be performed via
the CloudFormation Template. If you manually change the configurations on the
instances running SEP, the changes are not persisted.</p>
</div>

<span id="aws-custom-conf-package"></span><h3 id="creating-a-configuration-package">Creating a configuration package<a class="headerlink" href="#creating-a-configuration-package" title="Permalink to this headline">#</a></h3>
<p>A configuration package is a ZIP file with the structure shown below. All files
are optional except for top-level <code class="docutils literal notranslate"><span class="pre">etc/</span></code> directory entry.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>etc/
  config.properties
  jvm.config
  catalog/
    hive.properties
    &lt;catalog-name&gt;.properties
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You must use this exact directory structure or SEP is unable to start
correctly.</p>
</div>
<table id="id2">
<caption><span class="caption-text">Startup script nodes</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etc/config.properties</span></code></p></td>
<td><p>This <a class="reference internal" href="../installation/deployment.html#config-properties"><span class="std std-ref">global configuration file</span></a> is optional.
Refer to <a class="reference internal" href="../admin/properties.html"><span class="doc">the properties reference documentation</span></a> for details.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">etc/jvm.config</span></code></p></td>
<td><p>This <a class="reference internal" href="../installation/deployment.html#jvm-config"><span class="std std-ref">Java Virtual Machine configuration file</span></a> is
optional. Certain options, including <code class="docutils literal notranslate"><span class="pre">-Xmx</span></code> and garbage collection
algorithm selection are set by default.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etc/catalog/hive.properties</span></code></p></td>
<td><p>If the configuration package contains this file and the Hive Metastore is
not configured (refer to <a class="reference internal" href="metastore.html"><span class="doc">Configuring the Hive Metastore Service with CFT</span></a>) when launching Starburst’s
CloudFormation template, then the file must contain the following:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">hive</span>
<span class="na">hive.metastore.uri</span><span class="o">=</span><span class="s">thrift://example.net:9083</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter is set to something other than
<code class="docutils literal notranslate"><span class="pre">None</span></code>, then the <code class="docutils literal notranslate"><span class="pre">hive.properties</span></code> file was already created and it is
not needed to provide the above. However, you can still provide a
<code class="docutils literal notranslate"><span class="pre">hive.properties</span></code> file that includes properties you wish to append to
the configuration. Refer to the
<a class="reference internal" href="../connector/starburst-hive.html"><span class="doc">Hive connector</span></a> and <a class="reference internal" href="../connector/hive-security.html"><span class="doc">Hive
security</span></a> documentation of options that can be
set here. Also refer to <strong>Auxiliary Files</strong> in this table for
instructions on how to configure properties that refer to additional
files.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">etc/catalog/&lt;catalog-name&gt;.properties</span></code></p></td>
<td><p>When such a file is placed in the configuration package, a catalog called
<code class="docutils literal notranslate"><span class="pre">&lt;catalog-name&gt;</span></code> is created. The file must contain the following:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">&lt;connector-name&gt;</span>
</pre></div>
</div>
<p>Where <code class="docutils literal notranslate"><span class="pre">&lt;connector-name&gt;</span></code> is the name of the connector, refer to the
<a class="reference internal" href="../connector.html"><span class="doc">connector documentation</span></a> documentation for a list of
supported connectors and their documentation. If the chosen connector has
some mandatory configuration parameters, they must be set in the
<code class="docutils literal notranslate"><span class="pre">&lt;catalog-name&gt;.properties</span></code> file. There can be more than one such file
in the <code class="docutils literal notranslate"><span class="pre">etc/catalog/</span></code> folder of the configuration package. This allows
you to define multiple catalogs.</p>
<p>Refer to <strong>Auxiliary Files</strong> in this table for instructions on how to
configure properties that refer to additional files.</p>
</td>
</tr>
<tr class="row-even"><td><p><strong>Auxiliary files</strong></p></td>
<td><p>If a configuration property in any of the configuration files accepts a
path to an additional file (e.g., Hive’s <code class="docutils literal notranslate"><span class="pre">security.config-file</span></code>), add
the file to the configuration package and refer to it using a path that
is <em>relative to the configuration package top-level directory</em>.</p>
<p>For example, if you are configuring Hive connector to use
<code class="docutils literal notranslate"><span class="pre">hive.security=file</span></code>, you also must set <code class="docutils literal notranslate"><span class="pre">security.config-file</span></code>
(see <a class="reference internal" href="../connector/hive-security.html"><span class="doc">Hive Security</span></a> documentation for the
meaning and structure of the file). To do so, add
<code class="docutils literal notranslate"><span class="pre">etc/catalog/hive-security.json</span></code> in the configuration package and refer
to <code class="docutils literal notranslate"><span class="pre">etc/catalog/hive-security.json</span></code> using a relative path:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>hive.security=file
security.config-file=etc/catalog/hive-security.json
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>


<h3 id="uploading-a-configuration-package-to-s3">Uploading a configuration package to S3<a class="headerlink" href="#uploading-a-configuration-package-to-s3" title="Permalink to this headline">#</a></h3>
<p>To use a configuration package ZIP when launching  Starburst’s CloudFormation
template, it must first be uploaded to S3 to a location of your choice.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the configuration package contains sensitive information such as passwords,
AWS access keys or Kerberos keytab files, make sure to use an S3 location
that is not publicly accessible.</p>
</div>


<h3 id="using-a-configuration-package">Using a configuration package<a class="headerlink" href="#using-a-configuration-package" title="Permalink to this headline">#</a></h3>
<p>When launching Starburst’s CloudFormation template, you can use the
<code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code> and
<code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code> parameters to refer to the configuration
package that should be applied on top of default configuration done by the
template. The URI should be of the form
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package.zip</span></code>. You may decide to use a
single configuration package for use by both the SEP coordinator and workers
or use different packages for each. Additionally, you may provide a
configuration package only for the coordinator or worker.</p>
<p>If you upload to a location that is not publicly accessible, you must use
<code class="docutils literal notranslate"><span class="pre">IamInstanceProfile</span></code> parameter when launching the cluster, and the selected
<code class="docutils literal notranslate"><span class="pre">Instance</span> <span class="pre">Profile</span></code> must allow read access to the selected S3 location.</p>


<h3 id="updating-a-configuration-package">Updating a configuration package<a class="headerlink" href="#updating-a-configuration-package" title="Permalink to this headline">#</a></h3>
<p>Instead of deleting a CloudFormation stack and creating a new one, you can use
the AWS <a class="reference external" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks.html">stack update</a>
feature to update the SEP configuration package. You must first create a new
configuration package with the necessary changes, and then upload it to S3 as
described in the previous sections. Then when updating the CloudFormation stack,
enter the new S3 location as values to the
<code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code> and
<code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code> parameters. When CloudFormation is
applying the updates, it updates the stack by using the new configuration
package to configure SEP.</p>
<p>AWS CloudFormation does not update the CloudFormation stack if the values to the
parameters have not changed. Therefore you must create a new configuration
package zip file with a different name. We recommend including a version name
within the file name to avoid any confusion when updating your
configurations.</p>
<p>For example, if the original configuration package was located at
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package-1.0.zip</span></code>, then create a new
configuration package with a location such as:
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package-2.0.zip</span></code>. Even if you change
the contents of <code class="docutils literal notranslate"><span class="pre">s3://my_bucket/path/to/configuration/package-1.0.zip</span></code> and
keep the name, CloudFormation is not able to update the configuration.</p>



<h2 id="interactions-between-default-and-custom-configurations">Interactions between default and custom configurations<a class="headerlink" href="#interactions-between-default-and-custom-configurations" title="Permalink to this headline">#</a></h2>
<p>It is important to note that default values are overridden only for keys where a
customization exits. If no customizations are made, the default value remains.
However, in the case of <code class="docutils literal notranslate"><span class="pre">jvm.config</span></code>, additional configuration entries are
appended to the default configuration.</p>


<span id="cft-configuration"></span><h2 id="cft-configuration-parameters">CFT configuration parameters<a class="headerlink" href="#cft-configuration-parameters" title="Permalink to this headline">#</a></h2>
<p>The CFT includes numerous configuration parameters that are grouped in different
sections. All listed parameters have a description in the AWS console.</p>

<span id="cft-network-configuration"></span><h3 id="network-configuration">Network configuration<a class="headerlink" href="#network-configuration" title="Permalink to this headline">#</a></h3>
<table id="id3">
<caption><span class="caption-text">Network Configuration Parameters</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 60%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VPC</span></code></p></td>
<td><p>Virtual Private Cloud ID</p></td>
<td><p>vpc-4bd6ca11</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Subnet</span></code></p></td>
<td><p>Subnet to use for SEP nodes (must belong to the selected VPC)</p></td>
<td><p>subnet-123abc2b</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SelectedSubnetAutoAssignsPublicIp</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">no</span></code> if selected subnet does not provide public IPs. In this
case VPC endpoints are created for the SEP stack.</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SecurityGroups</span></code></p></td>
<td><p>Additional Security Groups for SEP nodes (e.g: allowing SSH access).
Must select at least one.</p></td>
<td><p>sg-12e34aeb</p></td>
</tr>
</tbody>
</table>


<span id="cft-ec2-configuration"></span><h3 id="ec2-configuration">EC2 configuration<a class="headerlink" href="#ec2-configuration" title="Permalink to this headline">#</a></h3>
<p>The EC2 configuration details the infrastructure used for your SEP cluster.</p>
<p>Choose a <strong>CoordinatorInstanceType</strong> and <strong>WorkerInstanceType</strong> suitable for
your workload. The <code class="docutils literal notranslate"><span class="pre">r4.4xlarge</span></code> instance types are chosen by default and
work well for most workloads. See <a class="reference internal" href="overview.html#aws-recommended-types"><span class="std std-ref">SEP cluster design for AWS</span></a> to assist you
with what instance types may be best for you.</p>
<table id="id4">
<caption><span class="caption-text">EC2 Configuration Parameters</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 25%"/>
<col style="width: 45%"/>
<col style="width: 15%"/>
<col style="width: 15%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CoordinatorInstanceType</span></code></p></td>
<td><p>EC2 instance type of the coordinator.</p></td>
<td><p>r4.xlarge</p></td>
<td><p>r5.12xlarge</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WorkerInstanceType</span></code></p></td>
<td><p>EC2 instance type of the workers.</p></td>
<td><p>r4.xlarge</p></td>
<td><p>m5.4xlarge</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">KeyName</span></code></p></td>
<td><p>Name of an EC2 KeyPair to enable SSH access to the instance. See
<a class="reference internal" href="requirements.html#aws-ssh"><span class="std std-ref">SSH keys</span></a> for more details.</p></td>
<td></td>
<td><p>john.smith</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WorkersCount</span></code></p></td>
<td><p>Number of dedicated worker nodes (apart from coordinator) to instantiate.
Worker nodes are added to an AWS AutoScaling Group. See
<a class="reference internal" href="operation.html#auto-scaling"><span class="std std-ref">Auto scaling</span></a> for more details.</p></td>
<td></td>
<td><p>10</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">HACoordinatorsCount</span></code></p></td>
<td><p>Number of coordinator nodes to instantiate. If there’s more then one, the
coordinator offers HA capabilities. This number represents one active
coordinator plus the number of optional hot-standby coordinators. For
example, if you specify 3, then there is 1 active coordinator and 2
standby coordinators, if the active one fails. See
<a class="reference internal" href="operation.html#aws-coordinator-ha"><span class="std std-ref">Coordinator high availability</span></a>
for more details.</p></td>
<td><p>1</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WorkerMountVolume</span></code></p></td>
<td><p>Mount an additional EBS volume on each worker at <code class="docutils literal notranslate"><span class="pre">/data</span></code>. This is
required when using <a class="reference internal" href="../connector/hive-caching.html"><span class="doc">caching for distributed storage</span></a>. Make sure that the <code class="docutils literal notranslate"><span class="pre">/data</span></code> directory is
configured in your Hive catalog properties.</p></td>
<td><p>no</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WorkerVolumeType</span></code></p></td>
<td><p>Type of the additional EBS volume mounted on the workers.</p></td>
<td><p>io1</p></td>
<td><p>gp2</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WorkerVolumeSize</span></code></p></td>
<td><p>Size of the additional EBS volume mounted on the workers, in GiB.
Use at least 10GiB with the io1 volume type. Value must be in the range of
4 to 16384.</p></td>
<td><p>4</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">WorkerVolumeIOPS</span></code></p></td>
<td><p>The number of possible I/O operations per second for the additional
volume. Used only with the io1 volume type. Each 5000 I/O ops require at
least 100 GiB storage size on the volume. Value must be in the range of
100 to 20000.</p></td>
<td><p>100</p></td>
<td><p>2000</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">KeepCoordinatorNode</span></code></p></td>
<td><p>(Debug only) Keep coordinator node running after the coordinator
service fails.</p></td>
<td><p>no</p></td>
<td><p>yes</p></td>
</tr>
</tbody>
</table>


<span id="cft-sep-configuration"></span><h3 id="sep-configuration">SEP configuration<a class="headerlink" href="#sep-configuration" title="Permalink to this headline">#</a></h3>
<p>The SEP configuration parameter allow you to configure all SEP-specific
aspects of your coordinators and workers in the cluster.</p>
<table id="id5">
<caption><span class="caption-text">SEP Configuration Parameters</span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AdditionalCoordinatorConfigurationURI</span></code></p></td>
<td><p>(Optional) URI of S3 zip file with additional configuration for the
coordinator. This zip file must contain the required <a class="reference internal" href="#aws-custom-conf-package"><span class="std std-ref">directory
structure</span></a>. Example
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/starburst-additional-coordinator-configuration-1.0.zip</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">AdditionalWorkersConfigurationURI</span></code></p></td>
<td><p>(Optional) URI of S3 zip file with additional configuration for the
workers. This zip file must contain the required <a class="reference internal" href="#aws-custom-conf-package"><span class="std std-ref">directory
structure</span></a>. Example
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/starburst-additional-workers-configuration-1.0.zip</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BootstrapScriptURI</span></code></p></td>
<td><p>(Optional) URI of a <a class="reference internal" href="installation.html#cft-bootstrap-script"><span class="std std-ref">shell script stored on S3 to execute on all
nodes</span></a>. The script runs after SEP is configured,
but before it is started. For example, a bash script can be used to
create directories, install additional software, deploy UDFs, or deploy
other plugins. When the script is executed, a string argument value of
<code class="docutils literal notranslate"><span class="pre">coordinator</span></code> or <code class="docutils literal notranslate"><span class="pre">worker</span></code> is passed in. Check for this
argument value in your script to perform certain actions based on the node
type. Example <code class="docutils literal notranslate"><span class="pre">s3://my_bucket/starburst-bootstrap-1.0.sh</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">StarburstHttpPort</span></code></p></td>
<td><p>Port to use for SEP coordinator and therefore the web UI as well as
JDBC and other client connections. Example <code class="docutils literal notranslate"><span class="pre">8080</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LicenseURI</span></code></p></td>
<td><p>URI of the <a class="reference internal" href="../installation/license-requirements.html"><span class="doc">SEP license</span></a> in
S3. This is only needed when deploying the CFT (using a privately shared
SEP AMI) without subscribing to the AWS Marketplace. Example
<code class="docutils literal notranslate"><span class="pre">s3://my_bucket/starburstdata.license</span></code>.</p></td>
</tr>
</tbody>
</table>


<span id="cft-hive-connector-options"></span><h3 id="hive-connector-options">Hive connector options<a class="headerlink" href="#hive-connector-options" title="Permalink to this headline">#</a></h3>
<p>The Hive connector is required if you plan to access data in HDFS or S3. It
requires a Hive Metastore so SEP knows where data lives. Refer to the
dedicated documentation <a class="reference internal" href="metastore.html"><span class="doc">Configuring the Hive Metastore Service with CFT</span></a> to determine your configuration.</p>
<table id="id6">
<caption><span class="caption-text">Hive Connector Options</span><a class="headerlink" href="#id6" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code></p></td>
<td><p>Determines what metastore is used by the Hive connector. Defaults to
<code class="docutils literal notranslate"><span class="pre">None</span></code>,  which means that no Hive connector is provisioned. Example
<code class="docutils literal notranslate"><span class="pre">AWS</span> <span class="pre">Glue</span> <span class="pre">Data</span> <span class="pre">catalog</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalMetastoreHost</span></code></p></td>
<td><p>When external Metastore is used (see <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter), this
points to the host of the Metastore. Example <code class="docutils literal notranslate"><span class="pre">metastore.example.com</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalMetastorePort</span></code></p></td>
<td><p>When external Metastore is used (see <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter), this
points to the Metastore service port number.</p>
<p>When set to <code class="docutils literal notranslate"><span class="pre">0</span></code> (the default value), default value per each metastore
type is used:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">3306</span></code> for <code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">MySQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5432</span></code> for <code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">9083</span></code> for <code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">Hive</span> <span class="pre">Metastore</span> <span class="pre">Service</span></code></p></li>
</ul>
<p>Cannot be empty when <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> is set to either of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">MySQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">Hive</span> <span class="pre">Metastore</span> <span class="pre">Service</span></code></p></li>
</ul>
<p>Example <code class="docutils literal notranslate"><span class="pre">9083</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsMetastoreUserName</span></code></p></td>
<td><p>When external Metastore is used (see <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter), this
determines the JDBC connection user name. Cannot be empty when
<code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> is set to either of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">MySQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code></p></li>
</ul>
<p>Example <code class="docutils literal notranslate"><span class="pre">database_user_name</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsMetastorePassword</span></code></p></td>
<td><p>When external Metastore is used (see <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter), this
determines the JDBC connection password. Cannot be empty when
<code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> is set to either of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">MySQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code></p></li>
</ul>
<p>Example <code class="docutils literal notranslate"><span class="pre">jdbc_user_p@55vv0rd</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsMetastoreDatabaseName</span></code></p></td>
<td><p>When external Metastore is used (see <code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> parameter), this
determines the JDBC connection password. Cannot be empty when
<code class="docutils literal notranslate"><span class="pre">MetastoreType</span></code> is set to either of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">MySQL</span> <span class="pre">RDBMS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code></p></li>
</ul>
<p>Example <code class="docutils literal notranslate"><span class="pre">hivemetastore</span></code>.</p>
</td>
</tr>
</tbody>
</table>


<span id="cft-ranger-configuration"></span><h3 id="ranger-and-ldap-user-synchronization">Ranger and LDAP user synchronization<a class="headerlink" href="#ranger-and-ldap-user-synchronization" title="Permalink to this headline">#</a></h3>
<p>The following parameters are related to the <a class="reference internal" href="../security/ranger-overview.html"><span class="doc">global access control with
Apache Ranger</span></a> and the related synchronization of
Ranger with an LDAP backend for user and group information.</p>
<table id="id7">
<caption><span class="caption-text">Ranger-related Configuration Parameters</span><a class="headerlink" href="#id7" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EnableRanger</span></code></p></td>
<td><p>When enabled, Apache Ranger for <a class="reference internal" href="../security/ranger-overview.html"><span class="doc">global access control</span></a> is added. Defaults to no. Note that all other
settings in this section are ignored if Ranger is disabled. Example
<code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RangerAdminPassword</span></code></p></td>
<td><p>Administrator password for Ranger. At least 8 characters, including
lowercase, uppercase and digit, are required. When reusing an existing
external database for Ranger in your CFT stack, you must provide the
same password as the initial one, to ensure access remains functional.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RangerBackendType</span></code></p></td>
<td><p>Type of database backend used for Apache Ranger.
The default <code class="docutils literal notranslate"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code> is recommended for production
usage. <code class="docutils literal notranslate"><span class="pre">Built-in</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code> is ephemeral and only suitable for
demo purposes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsRangerHost</span></code></p></td>
<td><p>Hostname of the external PostgreSQL RDBMS server.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsRangerPort</span></code></p></td>
<td><p>Port of the external PostgreSQL RDBMS server. Defaults to 5432.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsRangerDatabaseName</span></code></p></td>
<td><p>Name of the database on the external PostgreSQL RDBMS server to use as
Ranger database backend. The database must already exist. Defaults to
<code class="docutils literal notranslate"><span class="pre">ranger</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsRangerUserName</span></code></p></td>
<td><p>Name of the database user that Ranger uses to manage the database on the
external PostgreSQL RDBMS. The user must exist, have full permissions to
the database and must have CREATEROLE permissions granted. An additional
user ‘ranger’ is created for non-admin database access. If you specify
‘ranger’, the single user is used for all operations. Defaults to
<code class="docutils literal notranslate"><span class="pre">rangeradmin</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ExternalRdbmsRangerPassword</span></code></p></td>
<td><p>Password for the database user.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RangerConfigFile</span></code></p></td>
<td><p>URL to an optional additional Ranger config file in an S3 bucket. A
<a class="reference external" href="https://starburstdata-cft-public.s3.us-east-2.amazonaws.com/1.0.0/ranger.template.properties">template is available to download</a>.
Modify the template and upload it to an S3 bucket. The config file is
required for using Solr Audit with Ranger and other customizations.
Example: <code class="docutils literal notranslate"><span class="pre">s3://my-bucket/my-config_file.properties</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RangerBootstrapScript</span></code></p></td>
<td><p>URL to an optional bootstrap script in an S3 bucket. The script is run
before Ranger starts. For example, a bootstrap script can be used to
provide truststore files.
Example: <code class="docutils literal notranslate"><span class="pre">s3://my-bucket/ranger-bootstrap.sh</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EnableRangerUserSync</span></code></p></td>
<td><p>When enabled, Apache Ranger synchronizes users from an external LDAP
directory. Requires Ranger to be enabled, disabled by default.
The RangerUserSyncConfigFile setting is ignored if Ranger user sync is
disabled.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RangerUserSyncConfigFile</span></code></p></td>
<td><p>URL to Ranger user synchronization configuration file in S3 bucket. A
<a class="reference external" href="https://starburstdata-cft-public.s3.us-east-2.amazonaws.com/1.0.0/usersync.template.properties">user sync template is available to download</a>.
Create a modified copy of the template and upload it to an S3 bucket.
Required if Ranger user sync is enabled.
Example: s3://my-bucket/my-config_file.properties</p></td>
</tr>
</tbody>
</table>


<span id="cft-adv-s3-configuration"></span><h3 id="advanced-aws-s3-configuration">Advanced AWS S3 configuration<a class="headerlink" href="#advanced-aws-s3-configuration" title="Permalink to this headline">#</a></h3>
<p>With the advanced AWS S3 configuration it is possible to:</p>
<ul class="simple">
<li><p>configure custom access credentials for AWS S3. In this case, set only
<strong>S3AccessKey</strong> and <strong>S3SecretKey</strong>.</p></li>
<li><p>configure a custom AWS S3 endpoint. In this case, set only <strong>S3Endpoint</strong>.</p></li>
<li><p>access a third-party S3-compatible storage system. In this case, set all three
parameters and enable path style access.</p></li>
</ul>
<p>Notice that these parameters only affect the configuration of provisioned Hive
catalogs. All of these properties are optional, and when an EC2 instance is not
provided the default values are used.</p>
<table id="id8">
<caption><span class="caption-text">Advanced S3 Configuration Parameters</span><a class="headerlink" href="#id8" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 60%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">S3Endpoint</span></code></p></td>
<td><p>URI to AWS S3-compatible endpoint (Optional)</p></td>
<td><p><a class="reference external" href="https://mybucket.s3-us-west-2.amazonaws.com">https://mybucket.s3-us-west-2.amazonaws.com</a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">S3AccessKey</span></code></p></td>
<td><p>Access key to AWS S3-compatible storage (Optional)</p></td>
<td><p>AKIAIOSFODNN7EXAMPLE</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">S3SecretKey</span></code></p></td>
<td><p>Access secret to AWS S3-compatible storage (Optional)</p></td>
<td><p>wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</p></td>
</tr>
</tbody>
</table>


<span id="cft-monitoring"></span><h3 id="monitoring">Monitoring<a class="headerlink" href="#monitoring" title="Permalink to this headline">#</a></h3>
<table id="id9">
<caption><span class="caption-text">Monitoring Parameters</span><a class="headerlink" href="#id9" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 60%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">EnableCloudWatchMetrics</span></code></p></td>
<td><p>Enable integration with CloudWatch metrics. When enabled, OS and SEP
metrics are reported for each cluster node and a CloudWatch Dashboard
with cluster overview is created. Additional CloudWatch fees are charged.
Refer to <a class="reference internal" href="cloudwatch.html"><span class="doc">Configuring Starburst Enterprise with CloudWatch in CFT</span></a> for more details.</p></td>
<td><p>no</p></td>
</tr>
</tbody>
</table>


<span id="cft-iam-instance"></span><h3 id="iam-instance">IAM instance<a class="headerlink" href="#iam-instance" title="Permalink to this headline">#</a></h3>
<table id="id10">
<caption><span class="caption-text">IAM instance parameters</span><a class="headerlink" href="#id10" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 60%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">IamInstanceProfile</span></code></p></td>
<td><p>Optional name of an IAM instance profile to attach to SEP nodes. See
<a class="reference internal" href="requirements.html#aws-instance-profiles"><span class="std std-ref">Instance profiles</span></a> for more detail. If you do not specify the
InstanceProfile, the CloudFormation Template creates the necessary IAM
role privileges.</p></td>
<td><p>my-ec2-instance-profile</p></td>
</tr>
</tbody>
</table>


<span id="cft-other-configuration"></span><h3 id="other-parameters">Other parameters<a class="headerlink" href="#other-parameters" title="Permalink to this headline">#</a></h3>
<table id="id11">
<caption><span class="caption-text">Other Parameters</span><a class="headerlink" href="#id11" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 60%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter key</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LaunchSuperset</span></code></p></td>
<td><p>When enabled, Superset is deployed and started on an EC2 instance</p></td>
<td><p>yes</p></td>
</tr>
</tbody>
</table>





          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="installation.html" title="Installing Starburst Enterprise in AWS"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Installing Starburst Enterprise in AWS </span>
              </div>
            </a>
          
          
            <a href="metastore.html" title="Configuring the Hive Metastore Service with CFT"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Configuring the Hive Metastore Service with CFT </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                  alt="Starburst Enterprise 364-e.0 LTS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2021<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>