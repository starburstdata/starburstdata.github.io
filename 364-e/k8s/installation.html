

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Installing Starburst Enterprise in a Kubernetes cluster &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Configuring Starburst Enterprise in Kubernetes" href="sep-configuration.html" />
    <link rel="prev" title="Starburst Enterprise with Kubernetes requirements" href="requirements.html" />

  
   



<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/k8s/installation.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#k8s/installation" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 364-e.18 LTS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise 364-e.18 LTS</span>
          <span class="md-header-nav__topic"> Installing Starburst Enterprise in a Kubernetes cluster </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (402-e)" href="/402-e/">Latest LTS (402-e)</a>
      
          <a title="393-e LTS" href="/393-e/">393-e LTS</a>
      
          <a title="380-e LTS" href="/380-e/">380-e LTS</a>
      
          <a title="370-e LTS" href="/370-e/">370-e LTS</a>
      
          <a title="364-e LTS" href="/364-e/">364-e LTS</a>
      
          <a title="Latest STS (401-e)" href="/401-e/">Latest STS (401-e)</a>
      
          <a title="399-e STS" href="/399-e/">399-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
          <li class="md-tabs__item"><a href="../k8s.html" class="md-tabs__link">Deploying with Kubernetes</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 364-e.18 LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="overview.html" class="md-nav__link">Starburst Enterprise with Kubernetes overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="requirements.html" class="md-nav__link">Starburst Enterprise with Kubernetes requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Installing Starburst Enterprise in a Kubernetes cluster </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Installing Starburst Enterprise in a Kubernetes cluster</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-installation--page-root" class="md-nav__link">Installing Starburst Enterprise in a Kubernetes cluster</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#overview" class="md-nav__link">Overview</a>
        </li>
        <li class="md-nav__item"><a href="#sep-installation" class="md-nav__link">SEP installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-this-one-file-before-you-begin" class="md-nav__link">Create this one file before you begin</a>
        </li>
        <li class="md-nav__item"><a href="#initial-installation-checklist" class="md-nav__link">Initial installation checklist</a>
        </li>
        <li class="md-nav__item"><a href="#updating-to-a-new-release" class="md-nav__link">Updating to a new release</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#hive-metastore-service-installation" class="md-nav__link">Hive Metastore Service installation</a>
        </li>
        <li class="md-nav__item"><a href="#ranger-installation" class="md-nav__link">Ranger installation</a>
        </li>
        <li class="md-nav__item"><a href="#sb-cache-service-installation" class="md-nav__link">Starburst Cache Service installation</a>
        </li>
        <li class="md-nav__item"><a href="#recommended-customization-files" class="md-nav__link">Recommended customization files</a>
        </li>
        <li class="md-nav__item"><a href="#private-registries-and-repositories-instead-of-sb-harbor" class="md-nav__link">Private registries and repositories instead of Starburst Harbor</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sep-configuration.html" class="md-nav__link">Configuring Starburst Enterprise in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sep-config-examples.html" class="md-nav__link">Kubernetes configuration examples</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hms-configuration.html" class="md-nav__link">Configuring the Hive Metastore Service in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ranger-configuration.html" class="md-nav__link">Configuring Starburst Enterprise with Ranger in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="cache-service-configuration.html" class="md-nav__link">Configure the cache service in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="operation.html" class="md-nav__link">Operating Starburst Enterprise in a Kubernetes cluster</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-notes.html" class="md-nav__link">Helm chart release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sep-config-teradata-direct.html" class="md-nav__link">Teradata Direct connector in Kubernetes</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Starburst Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">364-e.18 LTS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-installation--page-root" class="md-nav__link">Installing Starburst Enterprise in a Kubernetes cluster</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#overview" class="md-nav__link">Overview</a>
        </li>
        <li class="md-nav__item"><a href="#sep-installation" class="md-nav__link">SEP installation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#create-this-one-file-before-you-begin" class="md-nav__link">Create this one file before you begin</a>
        </li>
        <li class="md-nav__item"><a href="#initial-installation-checklist" class="md-nav__link">Initial installation checklist</a>
        </li>
        <li class="md-nav__item"><a href="#updating-to-a-new-release" class="md-nav__link">Updating to a new release</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#hive-metastore-service-installation" class="md-nav__link">Hive Metastore Service installation</a>
        </li>
        <li class="md-nav__item"><a href="#ranger-installation" class="md-nav__link">Ranger installation</a>
        </li>
        <li class="md-nav__item"><a href="#sb-cache-service-installation" class="md-nav__link">Starburst Cache Service installation</a>
        </li>
        <li class="md-nav__item"><a href="#recommended-customization-files" class="md-nav__link">Recommended customization files</a>
        </li>
        <li class="md-nav__item"><a href="#private-registries-and-repositories-instead-of-sb-harbor" class="md-nav__link">Private registries and repositories instead of Starburst Harbor</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="k8s-installation--page-root">Installing Starburst Enterprise in a Kubernetes cluster<a class="headerlink" href="#k8s-installation--page-root" title="Permalink to this headline">#</a></h1>
<p>Now that you satisfied <a class="reference internal" href="requirements.html"><span class="doc">all the requirements</span></a> you are
ready to proceed with installing Starburst Enterprise platform (SEP).</p>

<span id="k8s-installation-overview"></span><h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permalink to this headline">#</a></h2>
<p>Installing charts with Helm on your cluster follows the same steps:</p>
<ul class="simple">
<li><p>Establish access to the <a class="reference internal" href="requirements.html#k8s-helm-repository"><span class="std std-ref">Helm chart repository</span></a></p></li>
<li><p>Configure credentials to <a class="reference internal" href="requirements.html#k8s-docker-registry"><span class="std std-ref">access the Docker registry</span></a> in a <a class="reference internal" href="sep-config-examples.html#k8s-ex-registry-access"><span class="std std-ref">registry access YAML file</span></a> for use in all of your Starburst k8s deployments.</p></li>
<li><p>Create a YAML file specific to each chart and cluster, for example
<code class="docutils literal notranslate"><span class="pre">sep-prod-setup.yaml</span></code> for your production cluster, as in <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-prod-setup"><span class="std std-ref">this
example</span></a>.</p></li>
<li><p>Ensure your Helm/kubectl configuration points at the correct cluster with
<code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">cluster-info</span></code></p></li>
<li><p>Run Helm to install the chart</p></li>
<li><p>Access the cluster and check for success</p></li>
</ul>
<p>Each Helm chart includes a values.yaml file that sets a reasonable set of
default values. This default setup does not include catalog definitions and
others that are necessary for your cluster.</p>
<p>You have to change your values file to add or update any configuration and run a
Helm upgrade to apply the changes to the cluster.</p>
<p>Iterate on the configuration in the values YAML file with minimal setup until
you have a working system. Depending on your cluster you have to adjust memory
requirements for the worker and coordinator and other settings. Inspect the
message with <code class="docutils literal notranslate"><span class="pre">kubectl</span></code> or Octant to determine details.</p>
<p>After you achieved a running cluster, ensure to store the values YAML file as a
reference and then add more details as required for the specific cluster need.</p>


<span id="k8s-installation-step-by-step"></span><h2 id="sep-installation">SEP installation<a class="headerlink" href="#sep-installation" title="Permalink to this headline">#</a></h2>
<p>The SEP installation is managed with the <code class="docutils literal notranslate"><span class="pre">starburst-enterprise</span></code> Helm chart.
Installation and upgrades are done with the <code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">upgrade</span></code> command with the
following options at a minimum:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--install</span></code></p></li>
<li><p>a <a class="reference internal" href="#minimal-values-yaml-file"><span class="std std-ref">minimal values YAML file with the registry
credentials</span></a></p></li>
<li><p>a <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-prod-setup"><span class="std std-ref">minimal YAML configuration file</span></a> with the
memory and CPU resource configurations for <code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> and <code class="docutils literal notranslate"><span class="pre">worker:</span></code>
that reflect your cluster’s resources, for example <code class="docutils literal notranslate"><span class="pre">sep-prod-setup.yaml</span></code></p></li>
</ul>
<p>The following example command assumes the registry access file, the production
cluster configuration file and the catalog configuration file are located in the
current directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade  my-sep starburstdata/starburst-enterprise <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">364</span>.18.0 <span class="se">\</span>
    --values ./registry-access.yaml
    --values ./sep-prod-setup.yaml
    --values ./sep-prod-catalogs.yaml
</pre></div>
</div>
<p>The version value is <a class="reference internal" href="requirements.html#k8s-helm-repository"><span class="std std-ref">available from the Helm repository</span></a>.</p>
<p>The default values result in one coordinator and two worker nodes in the
cluster, with very specific memory and CPU resources that likely will not match
your cluster’s specifications. We <strong>strongly suggest</strong> that you initially
install SEP with the minimal changes needed to reflect your cluster’s memory
and CPU resources, then make small, focused customizations to suit your
organization’s needs.</p>
<p>The following sections describe the initial installation and how to begin
customizing SEP.</p>

<span id="minimal-values-yaml-file"></span><h3 id="create-this-one-file-before-you-begin">Create this one file before you begin<a class="headerlink" href="#create-this-one-file-before-you-begin" title="Permalink to this headline">#</a></h3>
<p>No matter what other configurations you need for your deployments, create a
<code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code> file for reuse across all clusters and charts. This
helps to ensure a smooth install and deployment experience.</p>
<p>In your <code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code> file, add the following to configure access for
Starburst’s Harbor registry:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">registryCredentials</span><span class="p">:</span>
  <span class="nt">enabled</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">registry</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">harbor.starburstdata.net/starburstdata</span>
  <span class="nt">username</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;yourusername&gt;</span>
  <span class="nt">password</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;yourpassword&gt;</span>
</pre></div>
</div>
<p>The contents of this file override the default, empty values and ensure that the
Helm charts can download the required Docker containers.</p>
<p>If you have multiple clusters, this same file is used for all of them. You can
also use the same file for the optional Ranger and Hive Metastore Service
charts. Other configurations should be <a class="reference internal" href="#k8s-customization-files"><span class="std std-ref">managed in separate files</span></a>.</p>
<p>As an alternative to using a username and password directly, you can use a
Kubernetes secret:</p>
<ul class="simple">
<li><p>Creating a <a class="reference internal" href="sep-config-examples.html#k8s-ex-imagepullsecrets"><span class="std std-ref">secret</span></a> containing the access token
for your registry</p></li>
<li><p>Configuring your pod to use the secret</p></li>
</ul>


<h3 id="initial-installation-checklist">Initial installation checklist<a class="headerlink" href="#initial-installation-checklist" title="Permalink to this headline">#</a></h3>
<p>The following checklist describes the initial installation process:</p>
<ol class="arabic simple">
<li><p>Gather repository credentials for the
<a class="reference internal" href="requirements.html#k8s-helm-repository"><span class="std std-ref">Helm chart repository</span></a> and the
<a class="reference internal" href="requirements.html#k8s-docker-registry"><span class="std std-ref">Docker registry</span></a> provided by Starburst Support.</p></li>
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code> file to override the default,
empty values.</p></li>
<li><p>Create your
<a class="reference internal" href="requirements.html#k8s-cluster-requirements"><span class="std std-ref">correctly-sized Kubernetes cluster</span></a> .</p></li>
<li><p>Ensure your Helm/<code class="docutils literal notranslate"><span class="pre">kubectl</span></code> configuration points at the correct cluster
with <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">cluster-info</span></code>.</p></li>
<li><p>Add your <a class="reference internal" href="sep-config-examples.html#helm-sep-license"><span class="std std-ref">license file</span></a>.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We <strong>strongly suggest</strong> using a shared secret to add the license file.</p>
</div>
<ol class="arabic simple" start="6">
<li><p>Create a <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-prod-setup"><span class="std std-ref">minimal YAML configuration file</span></a> with
the memory and CPU resource configurations for <code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> and
<code class="docutils literal notranslate"><span class="pre">worker:</span></code> that reflect your cluster’s available resources, for example
<code class="docutils literal notranslate"><span class="pre">sep-prod-setup.yaml</span></code>.</p></li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><strong>Do not skip this step.</strong> The default values for memory and CPU resources
likely vary significantly from your cluster’s available resources. If you
attempt to run SEP with the defaults, SEP may not start.</p>
</div>
<ol class="arabic simple" start="7">
<li><p>Run Helm to install the default chart, as well as any override YAML files
using the <code class="docutils literal notranslate"><span class="pre">--values</span></code> argument, as in the following example:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade sep-prod-cluster starburstdata/starburst-enterprise <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">364</span>.18.0 <span class="se">\</span>
    --values ./registry-access.yaml <span class="se">\</span>
    --values ./sep-prod-setup.yaml
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li><p>Determine the IP address or the DNS hostname of the coordinator by running
the <code class="docutils literal notranslate"><span class="pre">kubectl</span> <span class="pre">get</span> <span class="pre">pods</span></code> command.</p></li>
<li><p>Use the IP address or hostname to verify the coordinator is running by
<a class="reference internal" href="../admin/web-interface.html"><span class="doc">accessing the Web UI</span></a>. You can use the same
information to connect with the CLI or the JDBC driver.</p></li>
</ol>
<p>Next steps:</p>
<ul class="simple">
<li><p>Continue configuring customizations for your cluster. The
<a class="reference internal" href="sep-configuration.html"><span class="doc">Configuring Starburst Enterprise in Kubernetes</span></a> page provides details for configuration of
catalogs to access data sources, worker and coordinator settings and much
more.</p></li>
<li><p>Learn about <a class="reference internal" href="operation.html"><span class="doc">operating your cluster</span></a> with tips about
testing, connecting, updating and more.</p></li>
</ul>


<span id="k8s-updates"></span><h3 id="updating-to-a-new-release">Updating to a new release<a class="headerlink" href="#updating-to-a-new-release" title="Permalink to this headline">#</a></h3>
<p>If you have created focused, well-managed override files following our
<a class="reference internal" href="overview.html#k8s-best-practices"><span class="std std-ref">best practices guide</span></a>, the upgrade process is a
straightforward Helm-based process. As with any enterprise-scale application, we
do recommend that you test upgrades from one release to another using a test
cluster. This allows you to catch any configuration changes and update Helm
charts before deploying into production:</p>
<ol class="arabic simple">
<li><p>Review the <a class="reference internal" href="release-notes.html"><span class="doc">Helm charts release notes</span></a> for any
relevant changes that affect your override files. For instance, there may be
new configuration options to add, or deprecated properties to remove.</p></li>
<li><p>Review the SEP <a class="reference internal" href="../release.html"><span class="doc">release notes</span></a> for new capabilities
and breaking changes.</p></li>
<li><p>Run Helm with the updated Helm chart version and with the updated YAML
configuration files, as in the following example:</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade my-sep-staging-cluster starburstdata/starburst-enterprise <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">364</span>.18.0 <span class="se">\</span>
    --values ./registry-access.yaml <span class="se">\</span>
    --values ./sep-stage-setup.yaml
</pre></div>
</div>



<h2 id="hive-metastore-service-installation">Hive Metastore Service installation<a class="headerlink" href="#hive-metastore-service-installation" title="Permalink to this headline">#</a></h2>
<p>The Hive Metastore Service installation is managed with the <code class="docutils literal notranslate"><span class="pre">starburst-hive</span></code>
Helm chart. Installation follows the same approach as the SEP chart with a
<a class="reference internal" href="#minimal-values-yaml-file"><span class="std std-ref">minimal values YAML file  with the registry credentials</span></a> and custom values file for your HMS configuration,
for example <code class="docutils literal notranslate"><span class="pre">hms-prod.yaml</span></code>, in the current directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade  my-sep starburstdata/starburst-hive <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">364</span>.18.0 <span class="se">\</span>
    --values ./registry-access.yaml <span class="se">\</span>
    --values ./hms-prod.yaml
</pre></div>
</div>
<p>The <a class="reference internal" href="hms-configuration.html"><span class="doc">Configuring the Hive Metastore Service in Kubernetes</span></a> page provides details for the configuration of
the Hive Metastore Service.</p>


<h2 id="ranger-installation">Ranger installation<a class="headerlink" href="#ranger-installation" title="Permalink to this headline">#</a></h2>
<p>The Ranger installation is managed with the <code class="docutils literal notranslate"><span class="pre">starburst-ranger</span></code> Helm chart.
Installation follows the same approach as the SEP chart with a <a class="reference internal" href="#minimal-values-yaml-file"><span class="std std-ref">minimal
values YAML file  with the registry credentials</span></a> and
custom values file for your Ranger configuration, for example
<code class="docutils literal notranslate"><span class="pre">ranger-prod.yaml</span></code>, in the current directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade  my-sep starburstdata/starburst-ranger <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">364</span>.18.0 <span class="se">\</span>
    --values ./registry-access.yaml <span class="se">\</span>
    --values ./ranger-prod.yaml
</pre></div>
</div>
<p>The <a class="reference internal" href="ranger-configuration.html"><span class="doc">Configuring Starburst Enterprise with Ranger in Kubernetes</span></a> provides details for the configuration of
Apache Ranger.</p>


<span id="k8s-cache-service"></span><h2 id="sb-cache-service-installation">Starburst Cache Service installation<a class="headerlink" href="#sb-cache-service-installation" title="Permalink to this headline">#</a></h2>
<p>The Starburst Cache Service installation is managed with the
<code class="docutils literal notranslate"><span class="pre">starburst-cache-service</span></code> Helm chart. The installation follows the same
approach as the SEP chart with a <a class="reference internal" href="#minimal-values-yaml-file"><span class="std std-ref">minimal values YAML file with the
registry credentials</span></a> and custom values file for your
cache service configuration. The following example uses the
<code class="docutils literal notranslate"><span class="pre">cache-service-prod.yaml</span></code> in the current directory:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade  my-caching-service starburstdata/starburst-cache-service <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">364</span>.18.0 <span class="se">\</span>
    --values ./registry-access.yaml <span class="se">\</span>
    --values ./cache-service-prod.yaml
</pre></div>
</div>
<p><a class="reference internal" href="cache-service-configuration.html"><span class="doc">Configure the cache service in Kubernetes</span></a> provides details for the configuration.</p>


<span id="k8s-customization-files"></span><h2 id="recommended-customization-files">Recommended customization files<a class="headerlink" href="#recommended-customization-files" title="Permalink to this headline">#</a></h2>
<p>We <strong>strongly suggest</strong> that you follow <a class="reference internal" href="overview.html#k8s-best-practices"><span class="std std-ref">best practices</span></a> for customization by creating a series of focused
configuration files. The file set described below accomplishes this. If you have
more than one cluster, such as a test cluster and a production cluster, name the
files accordingly.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not copy over entire sections of the default <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file. Only
include nodes that you are changing or adding. Review how to <a class="reference internal" href="overview.html#create-use-yaml-files"><span class="std std-ref">create
these files</span></a> before you begin.</p>
</div>
<p>We have provided <a class="reference internal" href="sep-config-examples.html#k8s-ex-customization-file-set"><span class="std std-ref">examples</span></a> of these
files with content.</p>
<table id="id1">
<caption><span class="caption-text">Recommended customization file set</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>File name</p></th>
<th class="head"><p>Content</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code></p></td>
<td><p>Docker registry access credentials file, typically to access the Docker
registry on the Starburst Harbor instance. Include the
<code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code> or <code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code> top level node in this
file to configure access to the Docker registry. This file can be used for
all SEP, HMS, and Ranger configuration for all clusters you operate.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sep-prod-catalogs.yaml</span></code></p></td>
<td><p>Catalog configuration for all catalogs configured for SEP on the
<code class="docutils literal notranslate"><span class="pre">prod</span></code> cluster. It is typically useful to separate catalog
configurations out into a separate file to allow reuse across clusters, as
well as to separate the large amount of configuration of the catalogs from
all the cluster configuration.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sep-prod-setup.yaml</span></code></p></td>
<td><p>Main configuration file for the <code class="docutils literal notranslate"><span class="pre">prod</span></code> cluster. Include any
configuration for all other top level nodes that configure the
coordinator, workers, and all other aspects of the cluster.</p></td>
</tr>
</tbody>
</table>
<p>Create and manage additional configuration files, if you are operating multiple
clusters, while reusing the credentials file. For example, if you run a <code class="docutils literal notranslate"><span class="pre">dev</span></code>
and <code class="docutils literal notranslate"><span class="pre">stage</span></code> cluster use the following additional files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sep-dev-catalogs.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep-dev-setup.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep-stage-catalogs.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sep-stage-setup.yaml</span></code></p></li>
</ul>
<p>If you are optionally implementing one or both of the <a class="reference internal" href="hms-configuration.html"><span class="doc">Hive Metastore
Service</span></a> and <a class="reference internal" href="ranger-configuration.html"><span class="doc">Apache Ranger</span></a>,
you to create an configuration file for each of these per cluster as well:</p>
<p>Production <code class="docutils literal notranslate"><span class="pre">prod</span></code> cluster:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hms-prod.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranger-prod.yaml</span></code></p></li>
</ul>
<p>Development <code class="docutils literal notranslate"><span class="pre">dev</span></code> cluster:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hms-dev.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranger-dev.yaml</span></code></p></li>
</ul>
<p>Staging <code class="docutils literal notranslate"><span class="pre">stage</span></code> cluster:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hms-stage.yaml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ranger-stage.yaml</span></code></p></li>
</ul>


<span id="k8s-private-registries"></span><h2 id="private-registries-and-repositories-instead-of-sb-harbor">Private registries and repositories instead of Starburst Harbor<a class="headerlink" href="#private-registries-and-repositories-instead-of-sb-harbor" title="Permalink to this headline">#</a></h2>
<p>Typically, you must use your username and password for accessing the Helm chart
repositories and the Docker registry on the Starburst Harbor instance. You can
instead <a class="reference internal" href="sep-config-examples.html#k8s-ex-private-registries"><span class="std std-ref">use private Docker and Helm chart repositories</span></a>.</p>




          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="requirements.html" title="Starburst Enterprise with Kubernetes requirements"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Starburst Enterprise with Kubernetes requirements </span>
              </div>
            </a>
          
          
            <a href="sep-configuration.html" title="Configuring Starburst Enterprise in Kubernetes"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Configuring Starburst Enterprise in Kubernetes </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                  alt="Starburst Enterprise 364-e.18 LTS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>