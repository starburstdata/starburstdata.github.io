

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.3. Starburst Generic JDBC Connector &mdash; Starburst Enterprise Presto</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="9. Connectors" href="../connector.html"/>
        <link rel="next" title="9.4. Starburst Hive Connector" href="starburst-hive.html"/>
        <link rel="prev" title="9.2. Starburst IBM DB2 Connector" href="starburst-db2.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">3. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">9. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="starburst-connectors.html">9.1. Starburst Connectors Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-db2.html">9.2. Starburst DB2 Connector (license required)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">9.3. Starburst Generic JDBC Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-and-configuration">Installation and Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-external-databases">Multiple External Databases</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#jdbc-compatibility">JDBC Compatibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-impersonation">User Impersonation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data-types">Data types</a></li>
<li class="toctree-l4"><a class="reference internal" href="#statements">Statements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive.html">9.4. Starburst Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-security.html">9.5. Starburst Hive Connector Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-azurestorage.html">9.6. Azure Storage Support for the Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-ibm-cos.html">9.7. IBM Cloud Object Storage Support for the Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-mapr.html">9.8. Starburst Hive MapR Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-delta-lake.html">9.9. Starburst Delta Lake Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-kafka.html">9.10. Starburst Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-mysql.html">9.11. Starburst MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-oracle.html">9.12. Starburst Oracle Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-postgresql.html">9.13. Starburst PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-snowflake.html">9.14. Starburst Snowflake Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-sqlserver.html">9.15. Starburst SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata.html">9.16. Starburst Teradata Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata-parallel-direct.html">9.17. Starburst Teradata Parallel Direct Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="accumulo.html">9.18. Accumulo Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">9.19. BigQuery Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">9.20. Black Hole Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">9.21. Cassandra Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">9.22. Elasticsearch Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="googlesheets.html">9.23. Google Sheets Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">9.24. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-cache.html">9.25. Caching for Distributed Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-gcs-tutorial.html">9.26. Hive Connector GCS Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">9.27. Hive Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">9.28. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">9.29. Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka-tutorial.html">9.30. Kafka Connector Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="kinesis.html">9.31. Kinesis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">9.32. Kudu Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="localfile.html">9.33. Local File Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">9.34. Memory Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">9.35. MongoDB Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memsql.html">9.36. MemSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">9.37. MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="phoenix.html">9.38. Phoenix Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">9.39. PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redis.html">9.40. Redis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">9.41. Redshift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">9.42. SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">9.43. System Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="thrift.html">9.44. Thrift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpcds.html">9.45. TPCDS Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">9.46. TPCH Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">332-e.10 LTS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/350-e/">Latest LTS (350-e)</option>
    <option value="/345-e/">345-e LTS</option>
    <option value="/338-e/">338-e LTS</option>
    <option value="/332-e/">332-e LTS</option>
    <option value="/354-e/">Latest STS (354-e)</option>
    <option value="/348-e/">348-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.10 LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html"><span class="section-number">9. </span>Connectors</a> &raquo;</li>
      
    <li><span class="section-number">9.3. </span>Starburst Generic JDBC Connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="starburst-generic-jdbc-connector">
<h1><span class="section-number">9.3. </span>Starburst Generic JDBC Connector<a class="headerlink" href="#starburst-generic-jdbc-connector" title="Permalink to this headline">#</a></h1>
<p>The Generic JDBC connector allows querying and creating tables in an external
database that Presto does not have a dedicated connector for. This can be used
for proof-of-concept deployments of federation use-cases, enabling joining
multiple data sources. For production deployments a dedicated supported connector
should be used.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Due to its generic nature, this connector may or may not work with
a particular database or deployment scenario.
In particular, you should expect the connector to handle at most only
a subset of data types available in the external database.</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#installation-and-configuration" id="id1">Installation and Configuration</a></p>
<ul>
<li><p><a class="reference internal" href="#multiple-external-databases" id="id2">Multiple External Databases</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#jdbc-compatibility" id="id3">JDBC Compatibility</a></p></li>
<li><p><a class="reference internal" href="#user-impersonation" id="id4">User Impersonation</a></p></li>
<li><p><a class="reference internal" href="#limitations" id="id5">Limitations</a></p>
<ul>
<li><p><a class="reference internal" href="#data-types" id="id6">Data types</a></p></li>
<li><p><a class="reference internal" href="#statements" id="id7">Statements</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation-and-configuration">
<h2><a class="toc-backref" href="#id1">Installation and Configuration</a><a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">#</a></h2>
<p>The Generic JDBC connector requires a JDBC 4.2 driver dedicated for the external database.
No JDBC drivers are shipped with the connector. The installation steps assume you have
the external database already running and that you have the appropriate JDBC driver jar.</p>
<ol class="arabic simple">
<li><p>Locate <code class="docutils literal notranslate"><span class="pre">generic-jdbc</span></code> directory under Presto’s plugin directory.
When Presto is installed from RPM, this is <code class="docutils literal notranslate"><span class="pre">/usr/lib/presto/lib/plugin/generic-jdbc</span></code>.</p></li>
<li><p>Add the appropriate JDBC driver jar file to the <code class="docutils literal notranslate"><span class="pre">generic-jdbc</span></code> directory.</p></li>
<li><p>Locate <code class="docutils literal notranslate"><span class="pre">etc/catalog</span></code> directory containing configuration for Presto catalogs.
When Presto is installed from RPM, this is <code class="docutils literal notranslate"><span class="pre">/etc/presto/catalog</span></code>.</p></li>
<li><p>Create <code class="docutils literal notranslate"><span class="pre">some_catalog.properties</span></code> file in the catalogs configuration directory (replace
<code class="docutils literal notranslate"><span class="pre">some_catalog</span></code> with your database name or some other descriptive name of the catalog)
with the following contents:</p></li>
</ol>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>connector.name=generic-jdbc

# the name of the Driver class. E.g. for Postgres this would be org.postgresql.Driver
generic-jdbc.driver-class=FULLY_QUALIFIED_NAME_OF_THE_DRIVER_CLASS

# JDBC connection URL. E.g. for Postgres this could be jdbc:postgresql://example.net:5432/database?defaultRowFetchSize=10000
connection-url=JDBC_CONNECTION_URL_AS_APPROPRIATE_FOR_THE_EXTERNAL_DATABASE_DRIVER

# connection credentials
connection-user=USERNAME
connection-password=PASSWORD

# additional configuration
case-insensitive-name-matching=true
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Perform the above steps on every Presto cluster node.</p></li>
<li><p>Restart Presto on every node.</p></li>
</ol>
<div class="section" id="multiple-external-databases">
<h3><a class="toc-backref" href="#id2">Multiple External Databases</a><a class="headerlink" href="#multiple-external-databases" title="Permalink to this headline">#</a></h3>
<p>If you want to connect to multiple external databases using the Generic JDBC connector, follow these
steps:</p>
<ol class="arabic simple">
<li><p>Add appropriate JDBC driver jars to the <code class="docutils literal notranslate"><span class="pre">generic-jdbc</span></code> directory under Presto’s plugin directory
for all database servers you are going to connect to.
If two external databases use the same driver jar, you do not need to add the driver jar twice.</p></li>
<li><p>Define additional catalogs in Presto catalogs configuration directory, by creating
<code class="docutils literal notranslate"><span class="pre">some_additional_catalog.properties</span></code> file (replacing <code class="docutils literal notranslate"><span class="pre">some_additional_catalog</span></code> with some
descriptive name of the catalog).</p></li>
</ol>
</div>
</div>
<div class="section" id="jdbc-compatibility">
<h2><a class="toc-backref" href="#id3">JDBC Compatibility</a><a class="headerlink" href="#jdbc-compatibility" title="Permalink to this headline">#</a></h2>
<p>Generic JDBC Connector provides best-effort compatibility with older JDBC drivers,
including drivers implementing version 3 of JDBC specification (JDBC 3).</p>
<p>The best-effort compatibility can be turned on with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>generic-jdbc.experimental.jdbc-version-compatibility.enabled=true
</pre></div>
</div>
</div>
<div class="section" id="user-impersonation">
<h2><a class="toc-backref" href="#id4">User Impersonation</a><a class="headerlink" href="#user-impersonation" title="Permalink to this headline">#</a></h2>
<p>Generic JDBC Connector supports <a class="reference internal" href="../security/impersonation.html"><span class="doc">user impersonation</span></a>.</p>
<p>User impersonation can be enabled in the catalog file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>generic-jdbc.impersonation-enabled=true
</pre></div>
</div>
<p>User impersonation in Generic JDBC connector is based on <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">ROLE</span></code>.</p>
</div>
<div class="section" id="limitations">
<h2><a class="toc-backref" href="#id5">Limitations</a><a class="headerlink" href="#limitations" title="Permalink to this headline">#</a></h2>
<div class="section" id="data-types">
<h3><a class="toc-backref" href="#id6">Data types</a><a class="headerlink" href="#data-types" title="Permalink to this headline">#</a></h3>
<p>Support for data types depends on the data types in the external database and how the data types are
reported by the JDBC driver of the external database. Actual support may vary from database to database.
The Generic JDBC connector will hide columns which data type it considered unsupported. In the extreme
case, this may mean that no columns are visible, if all data types being used are unsupported.</p>
<p>If you want to query data with unsupported types, you can define a view in your external database,
converting unsupported data types to supported ones (converting to <code class="docutils literal notranslate"><span class="pre">varchar</span></code> is usually a good choice).
Then you should query this view from Presto, instead of the underlying table.</p>
</div>
<div class="section" id="statements">
<h3><a class="toc-backref" href="#id7">Statements</a><a class="headerlink" href="#statements" title="Permalink to this headline">#</a></h3>
<p>Some statements are not supported because they are not supported by all Presto JDBC-based connectors.
Other statements are supported on a “best effort” basis. They may or may not work, depending on the external
database and the driver being used.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="starburst-hive.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="9.4. Starburst Hive Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starburst-db2.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="9.2. Starburst IBM DB2 Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>