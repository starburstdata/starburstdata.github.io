

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9.13. Starburst PostgreSQL Connector &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="9. Connectors" href="../connector.html"/>
        <link rel="next" title="9.14. Starburst Snowflake Connector" href="starburst-snowflake.html"/>
        <link rel="prev" title="9.12. Starburst Oracle Connector" href="starburst-oracle.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">3. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">9. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="starburst-connectors.html">9.1. Starburst Connectors Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-db2.html">9.2. Starburst DB2 Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-generic-jdbc.html">9.3. Starburst Generic JDBC Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive.html">9.4. Starburst Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-security.html">9.5. Starburst Hive Connector Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-azurestorage.html">9.6. Azure Storage Support for the Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-ibm-cos.html">9.7. IBM Cloud Object Storage Support for the Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-mapr.html">9.8. Starburst Hive MapR Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-delta-lake.html">9.9. Starburst Delta Lake Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-kafka.html">9.10. Starburst Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-mysql.html">9.11. Starburst MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-oracle.html">9.12. Starburst Oracle Connector (license required)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">9.13. Starburst PostgreSQL Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kerberos-authentication">Kerberos Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#kerberos-credential-passthrough">Kerberos Credential Passthrough</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-impersonation">User Impersonation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-statistics">Table Statistics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="starburst-snowflake.html">9.14. Starburst Snowflake Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-sqlserver.html">9.15. Starburst SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata.html">9.16. Starburst Teradata Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata-parallel-direct.html">9.17. Starburst Teradata Parallel Direct Connector (license required)</a></li>
<li class="toctree-l2"><a class="reference internal" href="accumulo.html">9.18. Accumulo Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">9.19. BigQuery Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">9.20. Black Hole Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">9.21. Cassandra Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">9.22. Elasticsearch Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="googlesheets.html">9.23. Google Sheets Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">9.24. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-cache.html">9.25. Caching for Distributed Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-gcs-tutorial.html">9.26. Hive Connector GCS Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">9.27. Hive Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">9.28. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">9.29. Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka-tutorial.html">9.30. Kafka Connector Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="kinesis.html">9.31. Kinesis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">9.32. Kudu Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="localfile.html">9.33. Local File Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">9.34. Memory Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">9.35. MongoDB Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memsql.html">9.36. MemSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">9.37. MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="phoenix.html">9.38. Phoenix Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">9.39. PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redis.html">9.40. Redis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">9.41. Redshift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">9.42. SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">9.43. System Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="thrift.html">9.44. Thrift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpcds.html">9.45. TPCDS Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">9.46. TPCH Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">332-e.4 LTS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./" >Choose another version</option>
    <option value="/338-e/">Latest LTS (338-e)</option>
    <option value="/332-e/">332-e LTS</option>
    <option value="/323-e/">323-e LTS</option>
    <option value="/339-e/">Latest STS (339-e)</option>
    <option value="/336-e/">336-e STS</option>
    <option value="/334-e/">334-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.4 LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html"><span class="section-number">9. </span>Connectors</a> &raquo;</li>
      
    <li><span class="section-number">9.13. </span>Starburst PostgreSQL Connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="starburst-postgresql-connector">
<h1><span class="section-number">9.13. </span>Starburst PostgreSQL Connector<a class="headerlink" href="#starburst-postgresql-connector" title="Permalink to this headline">#</a></h1>
<p>The Starburst PostgreSQL Connector is an extended version of the
<a class="reference internal" href="postgresql.html"><span class="doc">PostgreSQL Connector</span></a> with configuration and usage identical.</p>
<p>The following improvements are included:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#kerberos-authentication" id="id2">Kerberos Authentication</a></p></li>
<li><p><a class="reference internal" href="#kerberos-credential-passthrough" id="id3">Kerberos Credential Passthrough</a></p></li>
<li><p><a class="reference internal" href="#user-impersonation" id="id4">User Impersonation</a></p></li>
<li><p><a class="reference internal" href="#table-statistics" id="id5">Table Statistics</a></p></li>
</ul>
</div>
<div class="section" id="kerberos-authentication">
<h2><a class="toc-backref" href="#id2">Kerberos Authentication</a><a class="headerlink" href="#kerberos-authentication" title="Permalink to this headline">#</a></h2>
<p>The PostgreSQL connector supports Kerberos-based authentication with the
following configuration:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>postgresql.authentication.type=KERBEROS
kerberos.client.principal=example@example.com
kerberos.client.keytab=etc/kerberos/example.keytab
kerberos.config=etc/kerberos/krb5.conf
</pre></div>
</div>
<p>With this configuration the user <code class="docutils literal notranslate"><span class="pre">example&#64;example.com</span></code>, defined in the
principal property, is used to connect to the database, and the related Kerberos
service ticket is located in the <code class="docutils literal notranslate"><span class="pre">example.keytab</span></code> file.</p>
</div>
<div class="section" id="kerberos-credential-passthrough">
<span id="postgresql-kerberos-passthrough"></span><h2><a class="toc-backref" href="#id3">Kerberos Credential Passthrough</a><a class="headerlink" href="#kerberos-credential-passthrough" title="Permalink to this headline">#</a></h2>
<p>The PostgreSQL connector can be configured to pass through Kerberos credentials,
received by Presto, to the PostgreSQL database.</p>
<p>Configure Kerberos and Presto, following the instructions in
<a class="reference internal" href="../security/credential-passthrough.html"><span class="doc">Kerberos Credential Passthrough</span></a>.</p>
<p>Then configure the connector to pass through the credentials from the server to
the database in your catalog properties file and ensure the Kerberos client
configuration properties are in place on all nodes.</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">postgresql.authentication.type</span><span class="o">=</span><span class="s">KERBEROS_PASS_THROUGH</span>
<span class="na">http.authentication.krb5.config</span><span class="o">=</span><span class="s">/etc/krb5.conf</span>
<span class="na">http-server.authentication.krb5.service-name</span><span class="o">=</span><span class="s">exampleServiceName</span>
<span class="na">http-server.authentication.krb5.keytab</span><span class="o">=</span><span class="s">/path/to/Keytab/File</span>
</pre></div>
</div>
<p>Now any database access via Presto is subject to the data access restrictions
and permissions of the user supplied via Kerberos.</p>
</div>
<div class="section" id="user-impersonation">
<h2><a class="toc-backref" href="#id4">User Impersonation</a><a class="headerlink" href="#user-impersonation" title="Permalink to this headline">#</a></h2>
<p>The PostgreSQL connector supports <a class="reference internal" href="../security/impersonation.html"><span class="doc">user impersonation</span></a>.</p>
<p>User impersonation can be enabled in the catalog file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>postgresql.impersonation.enabled=true
</pre></div>
</div>
<p>User impersonation in PostgreSQL connector is based on <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">ROLE</span></code>.
For more details visit: <a class="reference external" href="https://www.postgresql.org/docs/11/sql-set-role.html">www.postgresql.org/docs</a>.</p>
</div>
<div class="section" id="table-statistics">
<h2><a class="toc-backref" href="#id5">Table Statistics</a><a class="headerlink" href="#table-statistics" title="Permalink to this headline">#</a></h2>
<p>PostgreSQL connector supports table and column statistics, as documented in
<a class="reference internal" href="../optimizer/statistics.html"><span class="doc">Table Statistics</span></a>. The statistics are collected by PostgreSQL and
retrieved by the connector. To collect statistics for a table, execute the
following statement in PostgreSQL.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ANALYZE table_schema.table_name;
</pre></div>
</div>
<p>Refer to PostgreSQL documentation for additional <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code> options.</p>
<p>The table and column statistics can be viewed in Presto using
<a class="reference internal" href="../sql/show-stats.html"><span class="doc">SHOW STATS</span></a> and are used for
<a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">Cost based optimizations</span></a>.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Table Statistics Configuration Properties</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 80%" />
<col style="width: 5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property Name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">statistics.enabled</span></code></p></td>
<td><p>Enables table and column statistics.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">statistics.cache-ttl</span></code></p></td>
<td><p>Duration for which table and column statistics are cached.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">statistics.cache-missing</span></code></p></td>
<td><p>Cache the fact that table statistics are not available.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="starburst-snowflake.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="9.14. Starburst Snowflake Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starburst-oracle.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="9.12. Starburst Oracle Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>