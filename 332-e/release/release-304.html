

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Release 304 &mdash; Starburst Enterprise Presto</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="16. Release Notes" href="../release.html"/>
        <link rel="next" title="Release 303" href="release-303.html"/>
        <link rel="prev" title="Release 305" href="release-305.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">3. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">9. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../release.html">16. Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../release.html#starburst-enterprise-presto-releases">16.1. Starburst Enterprise Presto Releases</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../release.html#recent-presto-releases">16.2. Recent Presto releases</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../release.html#id1">2020</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../release.html#id2">2019</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="release-327.html">Release 327 (20 Dec 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-326.html">Release 326 (27 Nov 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-325.html">Release 325 (14 Nov 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-324.html">Release 324 (1 Nov 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-323.html">Release 323 (23 Oct 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-322.html">Release 322 (16 Oct 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-321.html">Release 321 (15 Oct 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-320.html">Release 320 (10 Oct 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-319.html">Release 319 (22 Sep 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-318.html">Release 318 (26 Aug 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-317.html">Release 317 (1 Aug 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-316.html">Release 316 (8 Jul 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-315.html">Release 315 (14 Jun 2019)</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-314.html">Release 314</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-313.html">Release 313</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-312.html">Release 312</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-311.html">Release 311</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-310.html">Release 310</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-309.html">Release 309</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-308.html">Release 308</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-307.html">Release 307</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-306.html">Release 306</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-305.html">Release 305</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Release 304</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-303.html">Release 303</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-302.html">Release 302</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-301.html">Release 301</a></li>
<li class="toctree-l4"><a class="reference internal" href="release-300.html">Release 300</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../release.html#older-presto-releases">16.3. Older Presto releases</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">332-e.6 LTS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./" >Choose another version</option>
    <option value="/338-e/">Latest LTS (338-e)</option>
    <option value="/332-e/">332-e LTS</option>
    <option value="/323-e/">323-e LTS</option>
    <option value="/341-e/">Latest STS (341-e)</option>
    <option value="/340-e/">340-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.6 LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../release.html"><span class="section-number">16. </span>Release Notes</a> &raquo;</li>
      
    <li>Release 304</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-304">
<h1>Release 304<a class="headerlink" href="#release-304" title="Permalink to this headline">#</a></h1>
<div class="section" id="general-changes">
<h2>General Changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix wrong results for queries involving <code class="docutils literal notranslate"><span class="pre">FULL</span> <span class="pre">OUTER</span> <span class="pre">JOIN</span></code> and <code class="docutils literal notranslate"><span class="pre">coalesce</span></code> expressions
over the join keys. (<a class="reference external" href="https://github.com/prestosql/presto/issues/288">#288</a>)</p></li>
<li><p>Fix failure when a column is referenced using its fully qualified form. (<a class="reference external" href="https://github.com/prestosql/presto/issues/250">#250</a>)</p></li>
<li><p>Correctly report physical and internal network position count for operators. (<a class="reference external" href="https://github.com/prestosql/presto/issues/271">#271</a>)</p></li>
<li><p>Improve plan stability for repeated executions of the same query. (<a class="reference external" href="https://github.com/prestosql/presto/issues/226">#226</a>)</p></li>
<li><p>Remove deprecated <code class="docutils literal notranslate"><span class="pre">datasources</span></code> configuration property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/306">#306</a>)</p></li>
<li><p>Improve error message when a query contains zero-length delimited identifiers. (<a class="reference external" href="https://github.com/prestosql/presto/issues/249">#249</a>)</p></li>
<li><p>Avoid opening an unnecessary HTTP listener on an arbitrary port. (<a class="reference external" href="https://github.com/prestosql/presto/issues/239">#239</a>)</p></li>
<li><p>Add experimental support for spilling for queries involving <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code> or window functions. (<a class="reference external" href="https://github.com/prestosql/presto/issues/228">#228</a>)</p></li>
</ul>
</div>
<div class="section" id="server-rpm-changes">
<h2>Server RPM Changes<a class="headerlink" href="#server-rpm-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Preserve modified configuration files when the RPM is uninstalled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/267">#267</a>)</p></li>
</ul>
</div>
<div class="section" id="web-ui-changes">
<h2>Web UI Changes<a class="headerlink" href="#web-ui-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix broken timeline view. (<a class="reference external" href="https://github.com/prestosql/presto/issues/283">#283</a>)</p></li>
<li><p>Show data size and position count reported by connectors and by worker-to-worker data transfers
in detailed query view. (<a class="reference external" href="https://github.com/prestosql/presto/issues/271">#271</a>)</p></li>
</ul>
</div>
<div class="section" id="hive-connector-changes">
<h2>Hive Connector Changes<a class="headerlink" href="#hive-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix authorization failure when using SQL Standard Based Authorization mode with user identifiers
that contain capital letters. (<a class="reference external" href="https://github.com/prestosql/presto/issues/289">#289</a>)</p></li>
<li><p>Fix wrong results when filtering on the hidden <code class="docutils literal notranslate"><span class="pre">$bucket</span></code> column for tables containing
partitions with different bucket counts. Instead, queries will now fail in this case. (<a class="reference external" href="https://github.com/prestosql/presto/issues/286">#286</a>)</p></li>
<li><p>Record the configured Hive time zone when writing ORC files. (<a class="reference external" href="https://github.com/prestosql/presto/issues/212">#212</a>)</p></li>
<li><p>Use the time zone recorded in ORC files when reading timestamps.
The configured Hive time zone, which was previously always used, is now
used only as a default when the writer did not record the time zone. (<a class="reference external" href="https://github.com/prestosql/presto/issues/212">#212</a>)</p></li>
<li><p>Support Parquet files written with Parquet 1.9+ that use <code class="docutils literal notranslate"><span class="pre">DELTA_BINARY_PACKED</span></code>
encoding with the Parquet <code class="docutils literal notranslate"><span class="pre">INT64</span></code> type. (<a class="reference external" href="https://github.com/prestosql/presto/issues/334">#334</a>)</p></li>
<li><p>Allow setting the retry policy for the Thrift metastore client using the
<code class="docutils literal notranslate"><span class="pre">hive.metastore.thrift.client.*</span></code> configuration properties. (<a class="reference external" href="https://github.com/prestosql/presto/issues/240">#240</a>)</p></li>
<li><p>Reduce file system read operations when reading Parquet file footers. (<a class="reference external" href="https://github.com/prestosql/presto/issues/296">#296</a>)</p></li>
<li><p>Allow ignoring Glacier objects in S3 rather than failing the query. This is
disabled by default, as it may skip data that is expected to exist, but it can
be enabled using the <code class="docutils literal notranslate"><span class="pre">hive.s3.skip-glacier-objects</span></code> configuration property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/305">#305</a>)</p></li>
<li><p>Add procedure <code class="docutils literal notranslate"><span class="pre">system.sync_partition_metadata()</span></code> to synchronize the partitions
in the metastore with the partitions that are physically on the file system. (<a class="reference external" href="https://github.com/prestosql/presto/issues/223">#223</a>)</p></li>
<li><p>Improve performance of ORC reader for columns that only contain nulls. (<a class="reference external" href="https://github.com/prestosql/presto/issues/229">#229</a>)</p></li>
</ul>
</div>
<div class="section" id="postgresql-connector-changes">
<h2>PostgreSQL Connector Changes<a class="headerlink" href="#postgresql-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Map PostgreSQL <code class="docutils literal notranslate"><span class="pre">json</span></code> and <code class="docutils literal notranslate"><span class="pre">jsonb</span></code> types to Presto <code class="docutils literal notranslate"><span class="pre">json</span></code> type. (<a class="reference external" href="https://github.com/prestosql/presto/issues/81">#81</a>)</p></li>
</ul>
</div>
<div class="section" id="cassandra-connector-changes">
<h2>Cassandra Connector Changes<a class="headerlink" href="#cassandra-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Support queries over tables containing partitioning columns of any type. (<a class="reference external" href="https://github.com/prestosql/presto/issues/252">#252</a>)</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">smallint</span></code>, <code class="docutils literal notranslate"><span class="pre">tinyint</span></code> and  <code class="docutils literal notranslate"><span class="pre">date</span></code> Cassandra types. (<a class="reference external" href="https://github.com/prestosql/presto/issues/141">#141</a>)</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release-303.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="Release 303" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="release-305.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="Release 305" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>