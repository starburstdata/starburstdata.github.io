

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>presto-admin commands &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="presto-admin command line options" href="presto-admin-cli-options.html" />
    <link rel="prev" title="SSH configuration" href="ssh-configuration.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#presto-admin/presto-admin-commands" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 350-e LTS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise 350-e LTS</span>
          <span class="md-header-nav__topic"> presto-admin commands </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (370-e)" href="/370-e/">Latest LTS (370-e)</a>
      
          <a title="364-e LTS" href="/364-e/">364-e LTS</a>
      
          <a title="360-e LTS" href="/360-e/">360-e LTS</a>
      
          <a title="356-e LTS" href="/356-e/">356-e LTS</a>
      
          <a title="350-e LTS" href="/350-e/">350-e LTS</a>
      
          <a title="Latest STS (374-e)" href="/374-e/">Latest STS (374-e)</a>
      
          <a title="373-e STS" href="/373-e/">373-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
          <li class="md-tabs__item"><a href="../installation.html" class="md-tabs__link">Installation</a></li>
          <li class="md-tabs__item"><a href="../installation/rpm.html" class="md-tabs__link">RPM package and PrestoSQL Admin</a></li>
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">PrestoSQL Admin</a></li>
          <li class="md-tabs__item"><a href="user-guide.html" class="md-tabs__link">User guide</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 350-e LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Installation</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../installation/download.html" class="md-nav__link">Download</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation/license-requirements.html" class="md-nav__link">Starburst Enterprise license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation/deployment.html" class="md-nav__link">Deploying Presto</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation/docker.html" class="md-nav__link">Docker container</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation/rpm.html" class="md-nav__link">RPM package and PrestoSQL Admin</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="index.html" class="md-nav__link">PrestoSQL Admin</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="software-requirements.html" class="md-nav__link">Software requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="user-guide.html" class="md-nav__link">User guide</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="quick-start-guide.html" class="md-nav__link">Quick start guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation/advanced-installation-options.html" class="md-nav__link">Advanced installation options</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation/presto-port-configuration.html" class="md-nav__link">Configuring the Presto port</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ssh-configuration.html" class="md-nav__link">SSH configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> commands </label>
    
      <a href="#" class="md-nav__link md-nav__link--active"><code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> commands</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#presto-admin-presto-admin-commands--page-root" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> commands</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#catalog-add" class="md-nav__link">catalog add</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#example" class="md-nav__link">Example</a>
        </li>
        <li class="md-nav__item"><a href="#adding-a-custom-connector" class="md-nav__link">Adding a custom connector</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#catalog-remove" class="md-nav__link">catalog remove</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id2" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#collect-logs" class="md-nav__link">collect logs</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id4" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#collect-query-info" class="md-nav__link">collect query_info</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id6" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#collect-system-info" class="md-nav__link">collect system_info</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id8" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#configuration-deploy" class="md-nav__link">configuration deploy</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id9" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#configuration-show" class="md-nav__link">configuration show</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id10" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#file-copy" class="md-nav__link">file copy</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id11" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#file-run" class="md-nav__link">file run</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id12" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#package-install" class="md-nav__link">package install</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id13" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#package-uninstall" class="md-nav__link">package uninstall</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id14" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#plugin-add-jar" class="md-nav__link">plugin add_jar</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id15" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-install" class="md-nav__link">server install</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id16" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-restart" class="md-nav__link">server restart</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id17" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-start" class="md-nav__link">server start</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id18" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-status" class="md-nav__link">server status</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id20" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-stop" class="md-nav__link">server stop</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id21" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-uninstall" class="md-nav__link">server uninstall</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id22" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-upgrade" class="md-nav__link">server upgrade</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id23" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#topology-show" class="md-nav__link">topology show</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id24" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="presto-admin-cli-options.html" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> command line options</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="compatibility.html" class="md-nav__link">Presto version compatibility</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation/azure.html" class="md-nav__link">Microsoft Azure</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../mission-control.html" class="md-nav__link">Mission Control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Amazon Web Services</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Kubernetes with Helm</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../migration.html" class="md-nav__link">Migration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">350-e.18 LTS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#presto-admin-presto-admin-commands--page-root" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> commands</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#catalog-add" class="md-nav__link">catalog add</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#example" class="md-nav__link">Example</a>
        </li>
        <li class="md-nav__item"><a href="#adding-a-custom-connector" class="md-nav__link">Adding a custom connector</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#catalog-remove" class="md-nav__link">catalog remove</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id2" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#collect-logs" class="md-nav__link">collect logs</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id4" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#collect-query-info" class="md-nav__link">collect query_info</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id6" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#collect-system-info" class="md-nav__link">collect system_info</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id8" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#configuration-deploy" class="md-nav__link">configuration deploy</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id9" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#configuration-show" class="md-nav__link">configuration show</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id10" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#file-copy" class="md-nav__link">file copy</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id11" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#file-run" class="md-nav__link">file run</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id12" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#package-install" class="md-nav__link">package install</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id13" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#package-uninstall" class="md-nav__link">package uninstall</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id14" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#plugin-add-jar" class="md-nav__link">plugin add_jar</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id15" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-install" class="md-nav__link">server install</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id16" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-restart" class="md-nav__link">server restart</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id17" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-start" class="md-nav__link">server start</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id18" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-status" class="md-nav__link">server status</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id20" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-stop" class="md-nav__link">server stop</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id21" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-uninstall" class="md-nav__link">server uninstall</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id22" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#server-upgrade" class="md-nav__link">server upgrade</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id23" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#topology-show" class="md-nav__link">topology show</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id24" class="md-nav__link">Example</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="presto-admin-presto-admin-commands--page-root"><code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> commands<a class="headerlink" href="#presto-admin-presto-admin-commands--page-root" title="Permalink to this headline">#</a></h1>

<span id="id1"></span><h2 id="catalog-add">catalog add<a class="headerlink" href="#catalog-add" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin catalog add [&lt;name&gt;]
</pre></div>
</div>
<p>This command is used to deploy catalog configurations to the Presto cluster.
<a class="reference internal" href="../connector.html"><span class="doc">Catalog configurations</span></a>
are kept in the configuration directory <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/catalog</span></code></p>
<p>To add a catalog using <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code>, first create a configuration file in
<code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/catalog</span></code>. The file should be named <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;.properties</span></code> and
contain the configuration for that catalog.</p>
<p>Use the optional <code class="docutils literal notranslate"><span class="pre">name</span></code> argument to add a particular catalog to your
cluster. To deploy all catalogs in the catalog configuration directory,
leave the name argument out.</p>
<p>In order to query using the newly added catalog, you need to restart the
Presto server (see <a class="reference internal" href="#server-restart">server restart</a>):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server restart
</pre></div>
</div>

<h3 id="example">Example<a class="headerlink" href="#example" title="Permalink to this headline">#</a></h3>
<p>To add a catalog for the jmx connector, create a file
<code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/catalog/jmx.properties</span></code> with the content
<code class="docutils literal notranslate"><span class="pre">connector.name=jmx</span></code>. Then run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin catalog add jmx
./presto-admin server restart
</pre></div>
</div>
<p>If you have two catalog configurations in the catalog directory, for example
<code class="docutils literal notranslate"><span class="pre">jmx.properties</span></code> and <code class="docutils literal notranslate"><span class="pre">dummy.properties</span></code>, and would like to deploy both at
once, you could run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin catalog add
./presto-admin server restart
</pre></div>
</div>


<h3 id="adding-a-custom-connector">Adding a custom connector<a class="headerlink" href="#adding-a-custom-connector" title="Permalink to this headline">#</a></h3>
<p>In order to install a catalog for a custom connector not included with Presto,
the jar must be added to the Presto plugin location using their
<code class="docutils literal notranslate"><span class="pre">plugin</span> <span class="pre">add_jar</span></code> command before running the <code class="docutils literal notranslate"><span class="pre">catalog</span> <span class="pre">add</span></code> command.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin plugin add_jar my_connector.jar my_connector
./presto-admin catalog add my_connector
./presto-admin server restart
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">add_jar</span></code> command assumes the default plugin location of
<code class="docutils literal notranslate"><span class="pre">/usr/lib/presto/plugin</span></code> (see <a class="reference internal" href="#plugin-add-jar">plugin add_jar</a>).  As with the default
connectors, a <code class="docutils literal notranslate"><span class="pre">my_connector.properties</span></code> file must be created. Refer to the
custom connector’s documentation for the properties to specify.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">plugin</span> <span class="pre">add_jar</span></code> command works with both jars and directories containing
jars.</p>



<h2 id="catalog-remove">catalog remove<a class="headerlink" href="#catalog-remove" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin catalog remove &lt;name&gt;
</pre></div>
</div>
<p>The catalog remove command is used to remove a catalog from your presto
cluster configuration. Running the command will remove the catalog from all
nodes in the Presto cluster. Additionally, it will remove the local
configuration file for the catalog.</p>
<p>In order for the change to take effect, you will need to restart services.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server restart
</pre></div>
</div>

<h3 id="id2">Example<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h3>
<p>For example: To remove the catalog for the jmx connector, run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin catalog remove jmx
./presto-admin server restart
</pre></div>
</div>



<span id="id3"></span><h2 id="collect-logs">collect logs<a class="headerlink" href="#collect-logs" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin collect logs
</pre></div>
</div>
<p>This command gathers Presto server logs and launcher logs from the
<code class="docutils literal notranslate"><span class="pre">/var/log/presto/</span></code> directory across the cluster along with the
<code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/log/presto-admin.log</span></code> and creates a tar file. The final
tar output is saved at <code class="docutils literal notranslate"><span class="pre">/tmp/presto-debug-logs.tar.gz</span></code>.</p>

<h3 id="id4">Example<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin collect logs
</pre></div>
</div>



<span id="id5"></span><h2 id="collect-query-info">collect query_info<a class="headerlink" href="#collect-query-info" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin collect query_info &lt;query_id&gt;
</pre></div>
</div>
<p>This command gathers information about a Presto query identified by the given
<code class="docutils literal notranslate"><span class="pre">query_id</span></code> and stores that information in a JSON file.
The output file will be saved at
<code class="docutils literal notranslate"><span class="pre">/tmp/presto-debug/query_info_&lt;query_id&gt;.json</span></code>.</p>

<h3 id="id6">Example<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin collect query_info 20150525_234711_00000_7qwaz
</pre></div>
</div>



<span id="id7"></span><h2 id="collect-system-info">collect system_info<a class="headerlink" href="#collect-system-info" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin collect system_info
</pre></div>
</div>
<p>This command gathers various system specific information from the cluster.
The information is saved in a tar file at <code class="docutils literal notranslate"><span class="pre">/tmp/presto-debug-sysinfo.tar.gz</span></code>.
The gathered information includes:</p>
<ul class="simple">
<li><p>Node specific information from Presto like node uri, last response
time, recent failures, recent requests made to the node, etc.</p></li>
<li><p>List of catalogs configured</p></li>
<li><p>Catalog configuration files</p></li>
<li><p>Other system specific information like OS information, Java
version, <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> version, and Presto server version.</p></li>
</ul>

<h3 id="id8">Example<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin collect system_info
</pre></div>
</div>



<span id="configuration-deploy-label"></span><h2 id="configuration-deploy">configuration deploy<a class="headerlink" href="#configuration-deploy" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin configuration deploy [coordinator|workers]
</pre></div>
</div>
<p>This command deploys <a class="reference internal" href="../installation/deployment.html"><span class="doc">Presto configuration files</span></a>
onto the cluster. <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> uses different configuration directories for
worker and coordinator configurations so that you can easily create different
configurations for your coordinator and worker nodes. Create a
<code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/coordinator</span></code> directory for your coordinator
configurations and a <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/workers</span></code> directory for your
workers configuration. If you have the <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> configuration
directory path set using the environment variable <code class="docutils literal notranslate"><span class="pre">PRESTO_ADMIN_CONFIG_DIR</span></code>
then the coordinator and worker configuration directories must be created
under <code class="docutils literal notranslate"><span class="pre">$PRESTO_ADMIN_CONFIG_DIR</span></code>.  Place the configuration files for the
coordinator and workers in their respective directories. The optional
<code class="docutils literal notranslate"><span class="pre">coordinator</span></code> or <code class="docutils literal notranslate"><span class="pre">workers</span></code> argument tells <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> to only deploy
the coordinator or workers configurations. To deploy both configurations at
once, don’t specify either option.</p>
<p>When you run configuration deploy, the following files will be deployed to
the <code class="docutils literal notranslate"><span class="pre">/etc/presto</span></code> directory on your Presto cluster:</p>
<ul class="simple">
<li><p>node.properties</p></li>
<li><p>config.properties</p></li>
<li><p>jvm.config</p></li>
<li><p>log.properties (if it exists)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will not deploy the configurations for catalogs. To
deploy catalog configurations run <a class="reference internal" href="#id1">catalog add</a></p>
</div>
<p>If the coordinator is also a worker, it will get the coordinator configuration.
The deployed configuration files will overwrite the existing configurations on
the cluster. However, the node.id from the
node.properties file will be preserved. If no <code class="docutils literal notranslate"><span class="pre">node.id</span></code> exists, a new id
will be generated. If any required files are absent when you run configuration
deploy, a default configuration will be deployed. Below are the default
configurations:</p>
<p><em>node.properties</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>node.environment=presto
node.data-dir=/var/lib/presto/data
node.launcher-log-file=/var/log/presto/launcher.log
node.server-log-file=/var/log/presto/server.log
catalog.config-dir=/etc/presto/catalog
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do not change the value of catalog.config-dir=/etc/presto/catalog as it
is necessary for Presto to be able to find the catalog directory when
Presto has been installed by RPM.</p>
</div>
<p><em>jvm.config</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-server
-Xmx16G
-XX:-UseBiasedLocking
-XX:+UseG1GC
-XX:G1HeapRegionSize=32M
-XX:+ExplicitGCInvokesConcurrent
-XX:+HeapDumpOnOutOfMemoryError
-XX:+UseGCOverheadLimit
-XX:+ExitOnOutOfMemoryError
-XX:ReservedCodeCacheSize=512M
-DHADOOP_USER_NAME=hive
</pre></div>
</div>
<p><em>config.properties</em></p>
<p>For workers:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>coordinator=false
discovery.uri=http://&lt;coordinator&gt;:8080
http-server.http.port=8080
query.max-memory-per-node=8GB
query.max-memory=50GB
</pre></div>
</div>
<p>For coordinator:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>coordinator=true
discovery-server.enabled=true
discovery.uri=http://&lt;coordinator&gt;:8080
http-server.http.port=8080
node-scheduler.include-coordinator=false
query.max-memory-per-node=8GB
query.max-memory=50GB
</pre></div>
</div>
<p>if the coordinator is also a worker, it will have the following property
instead:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">-</span><span class="n">scheduler</span><span class="p">.</span><span class="n">include</span><span class="o">-</span><span class="n">coordinator</span><span class="o">=</span><span class="k">true</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="installation/presto-port-configuration.html#presto-port-configuration-label"><span class="std std-ref">Configuring the Presto port</span></a> for details on http port configuration.</p>

<h3 id="id9">Example<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h3>
<p>If you want to change the jvm configuration on the coordinator and the
<code class="docutils literal notranslate"><span class="pre">node.environment</span></code> property from <code class="docutils literal notranslate"><span class="pre">node.properties</span></code> on all nodes, add the
following <code class="docutils literal notranslate"><span class="pre">jvm.config</span></code> to <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/coordinator</span></code></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>-server
-Xmx16G
-XX:-UseBiasedLocking
-XX:+UseG1GC
-XX:G1HeapRegionSize=32M
-XX:+ExplicitGCInvokesConcurrent
-XX:+HeapDumpOnOutOfMemoryError
-XX:+UseGCOverheadLimit
-XX:+ExitOnOutOfMemoryError
-XX:ReservedCodeCacheSize=512M
</pre></div>
</div>
<p>Further, add the following <code class="docutils literal notranslate"><span class="pre">node.properties</span></code> to
<code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/coordinator</span></code> and <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/workers</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="p">.</span><span class="n">environment</span><span class="o">=</span><span class="n">test</span>
<span class="n">node</span><span class="p">.</span><span class="k">data</span><span class="o">-</span><span class="n">dir</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">presto</span><span class="o">/</span><span class="k">data</span>
<span class="n">node</span><span class="p">.</span><span class="n">launcher</span><span class="o">-</span><span class="n">log</span><span class="o">-</span><span class="n">file</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">presto</span><span class="o">/</span><span class="n">launcher</span><span class="p">.</span><span class="n">log</span>
<span class="n">node</span><span class="p">.</span><span class="n">server</span><span class="o">-</span><span class="n">log</span><span class="o">-</span><span class="n">file</span><span class="o">=/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">presto</span><span class="o">/</span><span class="n">server</span><span class="p">.</span><span class="n">log</span>
<span class="k">catalog</span><span class="p">.</span><span class="n">config</span><span class="o">-</span><span class="n">dir</span><span class="o">=/</span><span class="n">etc</span><span class="o">/</span><span class="n">presto</span><span class="o">/</span><span class="k">catalog</span>
</pre></div>
</div>
<p>Then run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin configuration deploy
</pre></div>
</div>
<p>This will distribute to the coordinator a default <code class="docutils literal notranslate"><span class="pre">config.properties</span></code>, the new
<code class="docutils literal notranslate"><span class="pre">jvm.config</span></code> and <code class="docutils literal notranslate"><span class="pre">node.properties</span></code>.  The workers will
receive the default <code class="docutils literal notranslate"><span class="pre">config.properties</span></code> and <code class="docutils literal notranslate"><span class="pre">jvm.config</span></code>, and the same
<code class="docutils literal notranslate"><span class="pre">node.properties</span></code> as the coordinator.</p>
<p>If instead you just want to update the coordinator configuration, run:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin configuration deploy coordinator
</pre></div>
</div>
<p>This will leave the workers configuration as it was, but update the
coordinator’s configuration</p>



<h2 id="configuration-show">configuration show<a class="headerlink" href="#configuration-show" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin configuration show [node|jvm|config|log]
</pre></div>
</div>
<p>This command prints the contents of the Presto configuration files deployed
in the cluster. It takes an optional configuration name argument for the
configuration files node.properties, jvm.config, config.properties and
log.properties. For missing configuration files, a warning will be printed
except for log.properties file, since it is an optional configuration file
in your Presto cluster.</p>
<p>If no argument is specified, then all four configurations will be printed.</p>

<h3 id="id10">Example<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin configuration show node
</pre></div>
</div>



<h2 id="file-copy">file copy<a class="headerlink" href="#file-copy" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin file copy &lt;path-to-local-file&gt; &lt;destination&gt;
</pre></div>
</div>
<p>This command copies an arbitrary file on the current node to all nodes in the
cluster. The first argument is required. The &lt;destination&gt; parameter specifies
the full, absolute path to the destination directory on all nodes, which
defaults to /tmp.</p>

<h3 id="id11">Example<a class="headerlink" href="#id11" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin file copy etc/presto/kafka-tabledef.json /etc/presto
</pre></div>
</div>



<h2 id="file-run">file run<a class="headerlink" href="#file-run" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin file run &lt;local-path-to-script&gt; [&lt;remote-dir-to-put-script&gt;]
</pre></div>
</div>
<p>Use this command to run an arbitrary script on a cluster. It copies the script
from its local location to the specified remote directory (defaults to /tmp),
makes the file executable, and runs it.</p>

<h3 id="id12">Example<a class="headerlink" href="#id12" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin file run /my/local/script.sh
./presto-admin file run /my/local/script.sh /remote/dir
</pre></div>
</div>



<h2 id="package-install">package install<a class="headerlink" href="#package-install" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin package install local_path [--nodeps]
</pre></div>
</div>
<p>This command copies any rpm from <code class="docutils literal notranslate"><span class="pre">local_path</span></code> to all the nodes in the cluster
and installs it. Similar to <code class="docutils literal notranslate"><span class="pre">server</span> <span class="pre">install</span></code> the cluster topology is obtained
from the file <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/config.json</span></code>. If this file is missing, then the
command prompts for user input to get the topology information.</p>
<p>This command takes an optional <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> flag which indicates whether the
rpm installed should ignore checking any package dependencies.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> can result in installing the rpm even with any missing
dependencies, so you may end up with a broken rpm installation.</p>
</div>

<h3 id="id13">Example<a class="headerlink" href="#id13" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin package install /tmp/jdk-8u45-linux-x64.rpm
</pre></div>
</div>



<h2 id="package-uninstall">package uninstall<a class="headerlink" href="#package-uninstall" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin package uninstall rpm_package_name [--nodeps]
</pre></div>
</div>
<p>This command uninstalls an rpm package from all the nodes in the cluster.
Similar to <code class="docutils literal notranslate"><span class="pre">server</span> <span class="pre">uninstall</span></code> the cluster topology is obtained from the
file <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/config.json</span></code>. If this file is missing, then the command
prompts for user input to get the topology information.</p>
<p>This command takes an optional <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> flag which indicates whether
the rpm installed should ignore checking any package dependencies.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> can result in uninstalling the rpm even when dependant
packages are installed. It may end up with a broken rpm installation.</p>
</div>

<h3 id="id14">Example<a class="headerlink" href="#id14" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin package uninstall jdk
</pre></div>
</div>



<h2 id="plugin-add-jar">plugin add_jar<a class="headerlink" href="#plugin-add-jar" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin plugin add_jar &lt;local-path&gt; &lt;plugin-name&gt; [&lt;plugin-dir&gt;]
</pre></div>
</div>
<p>This command deploys the jar at <code class="docutils literal notranslate"><span class="pre">local-path</span></code> to the plugin directory for
<code class="docutils literal notranslate"><span class="pre">plugin-name</span></code>.  By default <code class="docutils literal notranslate"><span class="pre">/usr/lib/presto/plugin</span></code> is used as the
top-level plugin directory. To deploy the jar to a different location, use the
optional <code class="docutils literal notranslate"><span class="pre">plugin-dir</span></code> argument.</p>

<h3 id="id15">Example<a class="headerlink" href="#id15" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin plugin add_jar connector.jar my_connector
./presto-admin plugin add_jar connector.jar my_connector /my/plugin/dir
</pre></div>
</div>
<p>The first example will deploy connector.jar to
<code class="docutils literal notranslate"><span class="pre">/usr/lib/presto/plugin/my_connector/connector.jar</span></code>
The second example will deploy it to <code class="docutils literal notranslate"><span class="pre">/my/plugin/dir/my_connector/program.jar</span></code>.</p>



<span id="server-install-label"></span><h2 id="server-install">server install<a class="headerlink" href="#server-install" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server install &lt;rpm_specifier&gt; [--rpm-source] [--nodeps]
</pre></div>
</div>
<p>This command takes a parameter <code class="docutils literal notranslate"><span class="pre">rpm_specifier</span></code>, which can be one of the
following forms, listed in order of decreasing precedence:</p>
<ul class="simple">
<li><p>‘latest’ - This downloads of the latest version of the presto rpm.</p></li>
<li><p>url - This downloads the presto rpm found at the given url.</p></li>
<li><p>version number - This downloads the presto rpm of the specified version.</p></li>
<li><p>local path - This uses a previously downloaded rpm. The local path should
be accessible by <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code>.</p></li>
</ul>
<p>If <code class="docutils literal notranslate"><span class="pre">rpm_specifier</span></code> matches multiple forms, it is interpreted only as the
form with highest precedence. For forms that require the rpm to be downloaded,
if a local copy is found with a matching version to the rpm that would be
downloaded, the local copy is used. Rpms downloaded using a version number
or ‘latest’ come from Maven Central. This command fails if it cannot find
or download the requested presto-server rpm.</p>
<p>After successfully finding the rpm, this command copies the presto-server
rpm to all the nodes in the cluster, installs it, deploys the general presto
configuration along with tpch connector configuration. The topology used to
configure the nodes are obtained from <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/config.json</span></code>.
See <a class="reference internal" href="installation/presto-admin-configuration.html#presto-admin-configuration-label"><span class="std std-ref">Configuring Presto Admin</span></a> on how to configure your cluster
using config.json. If this file is missing, then the command prompts for user
input to get the topology information.</p>
<p>The general configurations for Presto’s coordinator and workers are taken
from the directories <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/coordinator</span></code> and
<code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/workers</span></code> respectively. If these directories or any required
configuration files are absent when you run <code class="docutils literal notranslate"><span class="pre">server</span> <span class="pre">install</span></code>, a default
configuration will be deployed. See <a class="reference internal" href="#configuration-deploy">configuration deploy</a> for details.</p>
<p>The catalog directory <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin/catalog/</span></code> should contain the
configuration files for any catalogs that you would like to connect to in
your Presto cluster. The <code class="docutils literal notranslate"><span class="pre">server</span> <span class="pre">install</span></code> command will configure the cluster
with all the catalogs in the directory. If the directory does not exist or
is empty prior to <code class="docutils literal notranslate"><span class="pre">server</span> <span class="pre">install</span></code>, then by default the tpch connector
is configured. See <a class="reference internal" href="#id1">catalog add</a> on how to add catalog configuration files
after installation.</p>
<p>This command takes an optional <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> flag which indicates whether the
rpm installed should ignore checking any package dependencies.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> can result in installing the rpm even with any missing
dependencies, so you may end up with a broken rpm installation.</p>
</div>

<h3 id="id16">Example<a class="headerlink" href="#id16" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server install /tmp/presto.rpm
./presto-admin server install 316
./presto-admin server install http://search.maven.org/remotecontent?filepath=io/prestosql/presto-server-rpm/316/presto-server-rpm-316.rpm
./presto-admin server install latest
</pre></div>
</div>
<p><strong>Standalone RPM Install</strong></p>
<p>If you want to do a single node installation where coordinator and worker are
co-located, you can just use:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>rpm -i presto.rpm
</pre></div>
</div>
<p>This will deploy the necessary configurations for the presto-server to operate
in single-node mode.</p>



<span id="server-restart-label"></span><h2 id="server-restart">server restart<a class="headerlink" href="#server-restart" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server restart
</pre></div>
</div>
<p>This command first stops any Presto servers running and then starts them.
A status check is performed on the entire cluster and is reported at the end.</p>

<h3 id="id17">Example<a class="headerlink" href="#id17" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server restart
</pre></div>
</div>



<span id="server-start-label"></span><h2 id="server-start">server start<a class="headerlink" href="#server-start" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server start
</pre></div>
</div>
<p>This command starts the Presto servers on the cluster. A status check is
performed on the entire cluster and is reported at the end.</p>

<h3 id="id18">Example<a class="headerlink" href="#id18" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server start
</pre></div>
</div>



<span id="id19"></span><h2 id="server-status">server status<a class="headerlink" href="#server-status" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server status
</pre></div>
</div>
<p>This command prints the status information of Presto in the cluster. This
command will fail to report the correct status if the Presto installed is
older than version 0.100. It will not print any status information if a given
node is inaccessible.</p>
<p>The status output will have the following information:</p>
<ul class="simple">
<li><p>server status</p></li>
<li><p>node uri</p></li>
<li><p>Presto version installed</p></li>
<li><p>node is active/inactive</p></li>
<li><p>catalogs deployed</p></li>
</ul>

<h3 id="id20">Example<a class="headerlink" href="#id20" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server status
</pre></div>
</div>



<h2 id="server-stop">server stop<a class="headerlink" href="#server-stop" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server stop
</pre></div>
</div>
<p>This command stops the Presto servers on the cluster.</p>

<h3 id="id21">Example<a class="headerlink" href="#id21" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server stop
</pre></div>
</div>



<h2 id="server-uninstall">server uninstall<a class="headerlink" href="#server-uninstall" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server uninstall [--nodeps]
</pre></div>
</div>
<p>This command stops the Presto server if running on the cluster and uninstalls
the Presto rpm. The uninstall command removes any presto related files
deployed during <code class="docutils literal notranslate"><span class="pre">server</span> <span class="pre">install</span></code> but retains the Presto logs at
<code class="docutils literal notranslate"><span class="pre">/var/log/presto</span></code>.</p>
<p>This command takes an optional <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> flag which indicates whether the
rpm uninstalled should ignore checking any package dependencies.</p>

<h3 id="id22">Example<a class="headerlink" href="#id22" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server uninstall
</pre></div>
</div>



<h2 id="server-upgrade">server upgrade<a class="headerlink" href="#server-upgrade" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin server upgrade path/to/new/package.rpm [local_config_dir] [--nodeps]
</pre></div>
</div>
<p>This command upgrades the Presto RPM on all of the nodes in the cluster to the
RPM at <code class="docutils literal notranslate"><span class="pre">path/to/new/package.rpm</span></code>, preserving the existing configuration on
the cluster. The existing cluster configuration is saved locally to
local_config_dir (which defaults to a temporary folder if not specified).
The path can either be absolute or relative to the current directory.</p>
<p>This command can also be used to downgrade the Presto installation, if the RPM
at <code class="docutils literal notranslate"><span class="pre">path/to/new/package.rpm</span></code> is an earlier version than the Presto installed
on the cluster.</p>
<p>Note that if the configuration files on the cluster differ from the
presto-admin configuration files found in <code class="docutils literal notranslate"><span class="pre">~/.prestoadmin</span></code>, the presto-admin
configuration files are not updated.</p>
<p>This command takes an optional <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> flag which indicates whether the
rpm upgrade should ignore checking any package dependencies.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code class="docutils literal notranslate"><span class="pre">--nodeps</span></code> can result in installing the rpm even with any missing
dependencies, so you may end up with a broken rpm upgrade.</p>
</div>

<h3 id="id23">Example<a class="headerlink" href="#id23" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin server upgrade path/to/new/package.rpm /tmp/cluster-configuration
./presto-admin server upgrade /path/to/new/package.rpm /tmp/cluster-configuration
</pre></div>
</div>



<h2 id="topology-show">topology show<a class="headerlink" href="#topology-show" title="Permalink to this headline">#</a></h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>presto-admin topology show
</pre></div>
</div>
<dl class="simple">
<dt>This command shows the current topology configuration for the cluster</dt><dd><p>(including the coordinators, workers, SSH port, and SSH username).</p>
</dd>
</dl>

<h3 id="id24">Example<a class="headerlink" href="#id24" title="Permalink to this headline">#</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./presto-admin topology show
</pre></div>
</div>





          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="ssh-configuration.html" title="SSH configuration"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> SSH configuration </span>
              </div>
            </a>
          
          
            <a href="presto-admin-cli-options.html" title="presto-admin command line options"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> <code class="docutils literal notranslate"><span class="pre">presto-admin</span></code> command line options </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>

<!-- custom footer should go here in time -->

<div style="background: #000A2C; align-content: center; height: 5em;">

</div>
  </body>
</html>