

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Release 348 (14 Dec 2020) &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Release 347 (25 Nov 2020)" href="release-347.html" />
    <link rel="prev" title="Release 349 (28 Dec 2020)" href="release-349.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#release/release-348" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 350-e LTS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise 350-e LTS</span>
          <span class="md-header-nav__topic"> Release 348 (14 Dec 2020) </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (370-e)" href="/370-e/">Latest LTS (370-e)</a>
      
          <a title="364-e LTS" href="/364-e/">364-e LTS</a>
      
          <a title="360-e LTS" href="/360-e/">360-e LTS</a>
      
          <a title="356-e LTS" href="/356-e/">356-e LTS</a>
      
          <a title="350-e LTS" href="/350-e/">350-e LTS</a>
      
          <a title="Latest STS (371-e)" href="/371-e/">Latest STS (371-e)</a>
      
          <a title="369-e STS" href="/369-e/">369-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
          <li class="md-tabs__item"><a href="../release.html" class="md-tabs__link">Release notes</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 350-e LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../mission-control.html" class="md-nav__link">Mission Control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Amazon Web Services</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Kubernetes with Helm</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../migration.html" class="md-nav__link">Migration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">350-e.18 LTS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../release.html#sep-full-releases" class="md-nav__link">Starburst Enterprise releases</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html#oss-releases" class="md-nav__link">PrestoSQL releases</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../release.html#id1" class="md-nav__link">2020</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="release-350.html" class="md-nav__link">Release 350 (28 Dec 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-349.html" class="md-nav__link">Release 349 (28 Dec 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Release 348 (14 Dec 2020) </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Release 348 (14 Dec 2020)</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#release-release-348--page-root" class="md-nav__link">Release 348 (14 Dec 2020)</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#general-changes" class="md-nav__link">General Changes</a>
        </li>
        <li class="md-nav__item"><a href="#web-ui" class="md-nav__link">Web UI</a>
        </li>
        <li class="md-nav__item"><a href="#jdbc-driver-changes" class="md-nav__link">JDBC Driver Changes</a>
        </li>
        <li class="md-nav__item"><a href="#cli-changes" class="md-nav__link">CLI Changes</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-changes" class="md-nav__link">Hive Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#iceberg-connector-changes" class="md-nav__link">Iceberg Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#kafka-connector-changes" class="md-nav__link">Kafka Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#other-connector-changes" class="md-nav__link">Other Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#spi-changes" class="md-nav__link">SPI Changes</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="#general-changes" class="md-nav__link">General Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#web-ui" class="md-nav__link">Web UI</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#jdbc-driver-changes" class="md-nav__link">JDBC Driver Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#cli-changes" class="md-nav__link">CLI Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#hive-connector-changes" class="md-nav__link">Hive Connector Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#iceberg-connector-changes" class="md-nav__link">Iceberg Connector Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#kafka-connector-changes" class="md-nav__link">Kafka Connector Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#other-connector-changes" class="md-nav__link">Other Connector Changes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="#spi-changes" class="md-nav__link">SPI Changes</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-347.html" class="md-nav__link">Release 347 (25 Nov 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-346.html" class="md-nav__link">Release 346 (10 Nov 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-345.html" class="md-nav__link">Release 345 (23 Oct 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-344.html" class="md-nav__link">Release 344 (9 Oct 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-343.html" class="md-nav__link">Release 343 (25 Sep 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-342.html" class="md-nav__link">Release 342 (24 Sep 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-341.html" class="md-nav__link">Release 341 (8 Sep 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-340.html" class="md-nav__link">Release 340 (8 Aug 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-339.html" class="md-nav__link">Release 339 (21 Jul 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-338.html" class="md-nav__link">Release 338 (07 Jul 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-337.html" class="md-nav__link">Release 337 (25 Jun 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-336.html" class="md-nav__link">Release 336 (16 Jun 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-335.html" class="md-nav__link">Release 335 (14 Jun 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-334.html" class="md-nav__link">Release 334 (29 May 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-333.html" class="md-nav__link">Release 333 (04 May 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-332.html" class="md-nav__link">Release 332 (08 Apr 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-331.html" class="md-nav__link">Release 331 (16 Mar 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-330.html" class="md-nav__link">Release 330 (18 Feb 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-329.html" class="md-nav__link">Release 329 (23 Jan 2020)</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-328.html" class="md-nav__link">Release 328 (10 Jan 2020)</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html#id2" class="md-nav__link">2019</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html#before-2019" class="md-nav__link">Before 2019</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#release-release-348--page-root" class="md-nav__link">Release 348 (14 Dec 2020)</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#general-changes" class="md-nav__link">General Changes</a>
        </li>
        <li class="md-nav__item"><a href="#web-ui" class="md-nav__link">Web UI</a>
        </li>
        <li class="md-nav__item"><a href="#jdbc-driver-changes" class="md-nav__link">JDBC Driver Changes</a>
        </li>
        <li class="md-nav__item"><a href="#cli-changes" class="md-nav__link">CLI Changes</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-changes" class="md-nav__link">Hive Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#iceberg-connector-changes" class="md-nav__link">Iceberg Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#kafka-connector-changes" class="md-nav__link">Kafka Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#other-connector-changes" class="md-nav__link">Other Connector Changes</a>
        </li>
        <li class="md-nav__item"><a href="#spi-changes" class="md-nav__link">SPI Changes</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="release-release-348--page-root">Release 348 (14 Dec 2020)<a class="headerlink" href="#release-release-348--page-root" title="Permalink to this headline">#</a></h1>

<h2 id="general-changes">General Changes<a class="headerlink" href="#general-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Add support for <code class="docutils literal notranslate"><span class="pre">DISTINCT</span></code> clause in aggregations within correlated subqueries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/5904">#5904</a>)</p></li>
<li><p>Support <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">STATS</span></code> for arbitrary queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3109">#3109</a>)</p></li>
<li><p>Improve query performance by reducing worker to worker communication overhead. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6126">#6126</a>)</p></li>
<li><p>Improve performance of <code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span> <span class="pre">...</span> <span class="pre">LIMIT</span></code> queries. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6072">#6072</a>)</p></li>
<li><p>Reduce memory pressure and improve performance of queries involving joins. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6176">#6176</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">EXPLAIN</span> <span class="pre">ANALYZE</span></code> for certain queries that contain broadcast join. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6115">#6115</a>)</p></li>
<li><p>Fix planning failures for queries that contain outer joins and aggregations using <code class="docutils literal notranslate"><span class="pre">FILTER</span> <span class="pre">(WHERE</span> <span class="pre">&lt;condition&gt;)</span></code> syntax. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6141">#6141</a>)</p></li>
<li><p>Fix incorrect results when correlated subquery in join contains aggregation functions such as <code class="docutils literal notranslate"><span class="pre">array_agg</span></code> or <code class="docutils literal notranslate"><span class="pre">checksum</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6145">#6145</a>)</p></li>
<li><p>Fix incorrect query results when using <code class="docutils literal notranslate"><span class="pre">timestamp</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code> constants with precision higher than 3
describing same point in time but in different zones. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6318">#6318</a>)</p></li>
<li><p>Fix duplicate query completion events if query fails early. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6103">#6103</a>)</p></li>
<li><p>Fix query failure when views are accessed and current session does not
specify default schema and catalog. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6294">#6294</a>)</p></li>
</ul>


<h2 id="web-ui">Web UI<a class="headerlink" href="#web-ui" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Add support for OAuth2 authorization. (<a class="reference external" href="https://github.com/prestosql/presto/issues/5355">#5355</a>)</p></li>
<li><p>Fix invalid operator stats in Stage Performance view. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6114">#6114</a>)</p></li>
</ul>


<h2 id="jdbc-driver-changes">JDBC Driver Changes<a class="headerlink" href="#jdbc-driver-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Allow reading <code class="docutils literal notranslate"><span class="pre">timestamp</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code> value as <code class="docutils literal notranslate"><span class="pre">ZonedDateTime</span></code> using <code class="docutils literal notranslate"><span class="pre">ResultSet.getObject(int</span> <span class="pre">column,</span> <span class="pre">Class&lt;?&gt;</span> <span class="pre">type)</span></code> method. (<a class="reference external" href="https://github.com/prestosql/presto/issues/307">#307</a>)</p></li>
<li><p>Accept <code class="docutils literal notranslate"><span class="pre">java.time.LocalDate</span></code> in <code class="docutils literal notranslate"><span class="pre">PreparedStatement.setObject(int,</span> <span class="pre">Object)</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6301">#6301</a>)</p></li>
<li><p>Extend <code class="docutils literal notranslate"><span class="pre">PreparedStatement.setObject(int,</span> <span class="pre">Object,</span> <span class="pre">int)</span></code> to allow setting <code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> values with precision higher than nanoseconds. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6300">#6300</a>)
This can be done via providing a <code class="docutils literal notranslate"><span class="pre">String</span></code> value representing a valid SQL literal.</p></li>
<li><p>Change representation of a <code class="docutils literal notranslate"><span class="pre">row</span></code> value. <code class="docutils literal notranslate"><span class="pre">ResultSet.getObject</span></code> now returns an instance of <code class="docutils literal notranslate"><span class="pre">io.prestosql.jdbc.Row</span></code> class, which better represents
the returned value. Previously a <code class="docutils literal notranslate"><span class="pre">row</span></code> value was represented as a <code class="docutils literal notranslate"><span class="pre">Map</span></code> instance, with unnamed fields being named like <code class="docutils literal notranslate"><span class="pre">field0</span></code>, <code class="docutils literal notranslate"><span class="pre">field1</span></code>, etc.
You can access the previous behavior by invoking <code class="docutils literal notranslate"><span class="pre">getObject(column,</span> <span class="pre">Map.class)</span></code> on the <code class="docutils literal notranslate"><span class="pre">ResultSet</span></code> object. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4588">#4588</a>)</p></li>
<li><p>Represent <code class="docutils literal notranslate"><span class="pre">varbinary</span></code> value using hex string representation in <code class="docutils literal notranslate"><span class="pre">ResultSet.getString</span></code>. Previously the return value was useless, similar to <code class="docutils literal notranslate"><span class="pre">"B@2de82bf8"</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6247">#6247</a>)</p></li>
<li><p>Report precision of the <code class="docutils literal notranslate"><span class="pre">time(p)</span></code>, <code class="docutils literal notranslate"><span class="pre">time(p)</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code>,  <code class="docutils literal notranslate"><span class="pre">timestamp(p)</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp(p)</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code> in the <code class="docutils literal notranslate"><span class="pre">DECIMAL_DIGITS</span></code> column
in the result set returned from <code class="docutils literal notranslate"><span class="pre">DatabaseMetaData#getColumns</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6307">#6307</a>)</p></li>
<li><p>Fix the value of the <code class="docutils literal notranslate"><span class="pre">DATA_TYPE</span></code> column for <code class="docutils literal notranslate"><span class="pre">time(p)</span></code> and <code class="docutils literal notranslate"><span class="pre">time(p)</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code> in the result set returned from <code class="docutils literal notranslate"><span class="pre">DatabaseMetaData#getColumns</span></code>.  (<a class="reference external" href="https://github.com/prestosql/presto/issues/6307">#6307</a>)</p></li>
<li><p>Fix failure when reading a <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> or <code class="docutils literal notranslate"><span class="pre">timestamp</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code> value with seconds fraction greater than or equal to 999999999500 picoseconds. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6147">#6147</a>)</p></li>
<li><p>Fix failure when reading a <code class="docutils literal notranslate"><span class="pre">time</span></code> value with seconds fraction greater than or equal to 999999999500 picoseconds. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6204">#6204</a>)</p></li>
<li><p>Fix element representation in arrays returned from <code class="docutils literal notranslate"><span class="pre">ResultSet.getArray</span></code>, making it consistent with <code class="docutils literal notranslate"><span class="pre">ResultSet.getObject</span></code>.
Previously the elements were represented using internal client representation (e.g. <code class="docutils literal notranslate"><span class="pre">String</span></code>). (<a class="reference external" href="https://github.com/prestosql/presto/issues/6048">#6048</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">ResultSetMetaData.getColumnType</span></code> for <code class="docutils literal notranslate"><span class="pre">timestamp</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code>. Previously the type was miscategorized as <code class="docutils literal notranslate"><span class="pre">java.sql.Types.TIMESTAMP</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6251">#6251</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">ResultSetMetaData.getColumnType</span></code> for <code class="docutils literal notranslate"><span class="pre">time</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code>. Previously the type was miscategorized as <code class="docutils literal notranslate"><span class="pre">java.sql.Types.TIME</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6251">#6251</a>)</p></li>
<li><p>Fix failure when an instance of <code class="docutils literal notranslate"><span class="pre">SphericalGeography</span></code> geospatial type is returned in the <code class="docutils literal notranslate"><span class="pre">ResultSet</span></code>. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6240">#6240</a>)</p></li>
</ul>


<h2 id="cli-changes">CLI Changes<a class="headerlink" href="#cli-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix rendering of <code class="docutils literal notranslate"><span class="pre">row</span></code> values with unnamed fields. Previously they were printed using fake field names like <code class="docutils literal notranslate"><span class="pre">field0</span></code>, <code class="docutils literal notranslate"><span class="pre">field1</span></code>, etc. (<a class="reference external" href="https://github.com/prestosql/presto/issues/4587">#4587</a>)</p></li>
<li><p>Fix query progress reporting. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6119">#6119</a>)</p></li>
<li><p>Fix failure when an instance of <code class="docutils literal notranslate"><span class="pre">SphericalGeography</span></code> geospatial type is returned to the client. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6238">#6238</a>)</p></li>
</ul>


<h2 id="hive-connector-changes">Hive Connector Changes<a class="headerlink" href="#hive-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Allow configuring S3 endpoint in security mapping. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3869">#3869</a>)</p></li>
<li><p>Add support for S3 streaming uploads. Data is uploaded to S3 as it is written, rather
than staged to a local temporary file. This feature is disabled by default, and can be enabled
using the <code class="docutils literal notranslate"><span class="pre">hive.s3.streaming.enabled</span></code> configuration property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/3712">#3712</a>, <a class="reference external" href="https://github.com/prestosql/presto/issues/6201">#6201</a>)</p></li>
<li><p>Reduce load on metastore when background cache refresh is enabled. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6101">#6101</a>, <a class="reference external" href="https://github.com/prestosql/presto/issues/6156">#6156</a>)</p></li>
<li><p>Verify that data is in the correct bucket file when reading bucketed tables.
This is enabled by default, as incorrect bucketing can cause incorrect query results,
but can be disabled using the <code class="docutils literal notranslate"><span class="pre">hive.validate-bucketing</span></code> configuration property
or the <code class="docutils literal notranslate"><span class="pre">validate_bucketing</span></code> session property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6012">#6012</a>)</p></li>
<li><p>Allow fallback to legacy Hive view translation logic via <code class="docutils literal notranslate"><span class="pre">hive.legacy-hive-view-translation</span></code> config property or
<code class="docutils literal notranslate"><span class="pre">legacy_hive_view_translation</span></code> session property. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6195">#6195</a>)</p></li>
<li><p>Add deserializer class name to split information exposed to the event listener. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6006">#6006</a>)</p></li>
<li><p>Improve performance when querying tables that contain symlinks. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6158">#6158</a>, <a class="reference external" href="https://github.com/prestosql/presto/issues/6213">#6213</a>)</p></li>
</ul>


<h2 id="iceberg-connector-changes">Iceberg Connector Changes<a class="headerlink" href="#iceberg-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Improve performance of queries containing filters on non-partition columns. Such filters are now used
for optimizing split generation and table scan.  (<a class="reference external" href="https://github.com/prestosql/presto/issues/4932">#4932</a>)</p></li>
<li><p>Add support for Google Cloud Storage and Azure Storage. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6186">#6186</a>)</p></li>
</ul>


<h2 id="kafka-connector-changes">Kafka Connector Changes<a class="headerlink" href="#kafka-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Allow writing <code class="docutils literal notranslate"><span class="pre">timestamp</span> <span class="pre">with</span> <span class="pre">time</span> <span class="pre">zone</span></code> values into columns using <code class="docutils literal notranslate"><span class="pre">milliseconds-since-epoch</span></code> or
<code class="docutils literal notranslate"><span class="pre">seconds-since-epoch</span></code> JSON encoders. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6074">#6074</a>)</p></li>
</ul>


<h2 id="other-connector-changes">Other Connector Changes<a class="headerlink" href="#other-connector-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Fix ineffective table metadata caching for PostgreSQL, MySQL, SQL Server, Redshift, MemSQL and Phoenix connectors. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6081">#6081</a>, <a class="reference external" href="https://github.com/prestosql/presto/issues/6167">#6167</a>)</p></li>
</ul>


<h2 id="spi-changes">SPI Changes<a class="headerlink" href="#spi-changes" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Change <code class="docutils literal notranslate"><span class="pre">SystemAccessControl#filterColumns</span></code> and <code class="docutils literal notranslate"><span class="pre">ConnectorAccessControl#filterColumns</span></code> methods to accept a set of
column names, and return a set of visible column names. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6084">#6084</a>)</p></li>
<li><p>Expose catalog names corresponding to the splits through the split completion event of the event listener. (<a class="reference external" href="https://github.com/prestosql/presto/issues/6006">#6006</a>)</p></li>
</ul>




          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="release-349.html" title="Release 349 (28 Dec 2020)"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Release 349 (28 Dec 2020) </span>
              </div>
            </a>
          
          
            <a href="release-347.html" title="Release 347 (25 Nov 2020)"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Release 347 (25 Nov 2020) </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>

<!-- custom footer should go here in time -->

<div style="background: #000A2C; align-content: center; height: 5em;">

</div>
  </body>
</html>