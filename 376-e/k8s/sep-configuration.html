

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Configuring Starburst Enterprise in Kubernetes &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Kubernetes configuration examples" href="sep-config-examples.html" />
    <link rel="prev" title="Installing Starburst Enterprise in a Kubernetes cluster" href="installation.html" />

  
   



<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/k8s/sep-configuration.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#k8s/sep-configuration" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 376-e STS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise 376-e STS</span>
          <span class="md-header-nav__topic"> Configuring Starburst Enterprise in Kubernetes </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (370-e)" href="/370-e/">Latest LTS (370-e)</a>
      
          <a title="364-e LTS" href="/364-e/">364-e LTS</a>
      
          <a title="360-e LTS" href="/360-e/">360-e LTS</a>
      
          <a title="356-e LTS" href="/356-e/">356-e LTS</a>
      
          <a title="Latest STS (376-e)" href="/376-e/">Latest STS (376-e)</a>
      
          <a title="375-e STS" href="/375-e/">375-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
          <li class="md-tabs__item"><a href="../k8s.html" class="md-tabs__link">Deploying with Kubernetes</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 376-e STS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="requirements.html" class="md-nav__link">Starburst Enterprise with Kubernetes requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html" class="md-nav__link">Installing Starburst Enterprise in a Kubernetes cluster</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Configuring Starburst Enterprise in Kubernetes </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Configuring Starburst Enterprise in Kubernetes</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-sep-configuration--page-root" class="md-nav__link">Configuring Starburst Enterprise in Kubernetes</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#applying-configuration-changes" class="md-nav__link">Applying configuration changes</a>
        </li>
        <li class="md-nav__item"><a href="#top-level-nodes" class="md-nav__link">Top level nodes</a>
        </li>
        <li class="md-nav__item"><a href="#docker-images" class="md-nav__link">Docker images</a>
        </li>
        <li class="md-nav__item"><a href="#docker-registry-access" class="md-nav__link">Docker registry access</a>
        </li>
        <li class="md-nav__item"><a href="#internal-communication" class="md-nav__link">Internal communication</a>
        </li>
        <li class="md-nav__item"><a href="#exposing-the-cluster" class="md-nav__link">Exposing the cluster</a>
        </li>
        <li class="md-nav__item"><a href="#coordinator" class="md-nav__link">Coordinator</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#etcfiles-on-the-coordinator" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator</a>
        </li>
        <li class="md-nav__item"><a href="#node-assignment" class="md-nav__link">Node assignment</a>
        </li>
        <li class="md-nav__item"><a href="#coordinator-defaults-and-examples" class="md-nav__link">Coordinator defaults and examples</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#workers" class="md-nav__link">Workers</a>
        </li>
        <li class="md-nav__item"><a href="#startup-shell-script-for-coordinator-and-workers-nodes" class="md-nav__link">Startup shell script for coordinator and workers nodes</a>
        </li>
        <li class="md-nav__item"><a href="#user-security-considerations" class="md-nav__link">User security considerations</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#security-context" class="md-nav__link">Security context</a>
        </li>
        <li class="md-nav__item"><a href="#service-account" class="md-nav__link">Service account</a>
        </li>
        <li class="md-nav__item"><a href="#external-secret-reference" class="md-nav__link">External secret reference</a>
        </li>
        <li class="md-nav__item"><a href="#defining-external-secrets" class="md-nav__link">Defining external secrets</a>
        </li>
        <li class="md-nav__item"><a href="#file-based-authentication" class="md-nav__link">File-based authentication</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#performance-considerations" class="md-nav__link">Performance considerations</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#query-memory-usage-control" class="md-nav__link">Query memory usage control</a>
        </li>
        <li class="md-nav__item"><a href="#spilling" class="md-nav__link">Spilling</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-storage-caching" class="md-nav__link">Hive connector storage caching</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#catalogs" class="md-nav__link">Catalogs</a>
        </li>
        <li class="md-nav__item"><a href="#additional-volumes" class="md-nav__link">Additional volumes</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#adding-files" class="md-nav__link">Adding files</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#prometheus" class="md-nav__link">Prometheus</a>
        </li>
        <li class="md-nav__item"><a href="#sep-built-in-directories" class="md-nav__link">SEP built-in directories</a>
        </li>
        <li class="md-nav__item"><a href="#sidecar-and-init-containers" class="md-nav__link">Sidecar and init containers</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sep-config-examples.html" class="md-nav__link">Kubernetes configuration examples</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hms-configuration.html" class="md-nav__link">Configuring the Hive Metastore Service in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ranger-configuration.html" class="md-nav__link">Configuring Starburst Enterprise with Ranger in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="cache-service-configuration.html" class="md-nav__link">Configure the cache service in Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-notes.html" class="md-nav__link">Helm chart release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sep-config-teradata-direct.html" class="md-nav__link">Teradata Direct connector in Kubernetes</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-products.html" class="md-nav__link">Data products</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">376-e STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-sep-configuration--page-root" class="md-nav__link">Configuring Starburst Enterprise in Kubernetes</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#applying-configuration-changes" class="md-nav__link">Applying configuration changes</a>
        </li>
        <li class="md-nav__item"><a href="#top-level-nodes" class="md-nav__link">Top level nodes</a>
        </li>
        <li class="md-nav__item"><a href="#docker-images" class="md-nav__link">Docker images</a>
        </li>
        <li class="md-nav__item"><a href="#docker-registry-access" class="md-nav__link">Docker registry access</a>
        </li>
        <li class="md-nav__item"><a href="#internal-communication" class="md-nav__link">Internal communication</a>
        </li>
        <li class="md-nav__item"><a href="#exposing-the-cluster" class="md-nav__link">Exposing the cluster</a>
        </li>
        <li class="md-nav__item"><a href="#coordinator" class="md-nav__link">Coordinator</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#etcfiles-on-the-coordinator" class="md-nav__link"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator</a>
        </li>
        <li class="md-nav__item"><a href="#node-assignment" class="md-nav__link">Node assignment</a>
        </li>
        <li class="md-nav__item"><a href="#coordinator-defaults-and-examples" class="md-nav__link">Coordinator defaults and examples</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#workers" class="md-nav__link">Workers</a>
        </li>
        <li class="md-nav__item"><a href="#startup-shell-script-for-coordinator-and-workers-nodes" class="md-nav__link">Startup shell script for coordinator and workers nodes</a>
        </li>
        <li class="md-nav__item"><a href="#user-security-considerations" class="md-nav__link">User security considerations</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#security-context" class="md-nav__link">Security context</a>
        </li>
        <li class="md-nav__item"><a href="#service-account" class="md-nav__link">Service account</a>
        </li>
        <li class="md-nav__item"><a href="#external-secret-reference" class="md-nav__link">External secret reference</a>
        </li>
        <li class="md-nav__item"><a href="#defining-external-secrets" class="md-nav__link">Defining external secrets</a>
        </li>
        <li class="md-nav__item"><a href="#file-based-authentication" class="md-nav__link">File-based authentication</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#performance-considerations" class="md-nav__link">Performance considerations</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#query-memory-usage-control" class="md-nav__link">Query memory usage control</a>
        </li>
        <li class="md-nav__item"><a href="#spilling" class="md-nav__link">Spilling</a>
        </li>
        <li class="md-nav__item"><a href="#hive-connector-storage-caching" class="md-nav__link">Hive connector storage caching</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#catalogs" class="md-nav__link">Catalogs</a>
        </li>
        <li class="md-nav__item"><a href="#additional-volumes" class="md-nav__link">Additional volumes</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#adding-files" class="md-nav__link">Adding files</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#prometheus" class="md-nav__link">Prometheus</a>
        </li>
        <li class="md-nav__item"><a href="#sep-built-in-directories" class="md-nav__link">SEP built-in directories</a>
        </li>
        <li class="md-nav__item"><a href="#sidecar-and-init-containers" class="md-nav__link">Sidecar and init containers</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="k8s-sep-configuration--page-root">Configuring Starburst Enterprise in Kubernetes<a class="headerlink" href="#k8s-sep-configuration--page-root" title="Permalink to this headline">#</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">starburst-enterprise</span></code> Helm chart configures the Starburst Enterprise platform (SEP) coordinator
and worker nodes and the internal cluster communication with the <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code>
file detailed in the following sections.</p>
<p>We strongly suggest that you <a class="reference external" href="../../starburst-enterprise/k8s-helm-deployments.html">follow best practices</a> when customizing your
cluster, creating small, targeted files to override any defaults, and adding any
configuration properties. There is an example file set in our install guide that
illustrates the recommended way to manage your customizations.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Many section in this page have links to examples of the relevant YAML in our
<a class="reference internal" href="sep-config-examples.html"><span class="doc">YAML examples page</span></a>. While you are configuring
your cluster, it is is helpful to refer to SEPâ€™s <a class="reference internal" href="#helm-sep-directories"><span class="std std-ref">directory structure</span></a> to ensure you are configuring any file locations
correctly.</p>
</div>
<p>Throughout this page there are links to more descriptive documentation for a
given configuration area. In many cases, these refer to configuration files by
name. Wherever possible and applicable, it is noted in this that these files
need to be configured in the <code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> or <code class="docutils literal notranslate"><span class="pre">additionalFiles:</span></code> nodes. If this
is not noted, the configuration applies directly to the YAML node discussed in
the section.</p>

<h2 id="applying-configuration-changes">Applying configuration changes<a class="headerlink" href="#applying-configuration-changes" title="Permalink to this headline">#</a></h2>
<p>To update SEP with any configuration changes, run the <code class="docutils literal notranslate"><span class="pre">helm</span> <span class="pre">update</span></code>
command with the updated YAML files and the <code class="docutils literal notranslate"><span class="pre">--install</span></code> switch, as in this
example:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ helm upgrade my-sep-prod-cluster starburstdata/starburst-enterprise <span class="se">\</span>
    --install <span class="se">\</span>
    --version <span class="m">376</span>.0.0 <span class="se">\</span>
    --values ./registry-access.yaml
    --values ./sep-prod-setup.yaml
</pre></div>
</div>
<p>You can use the same command as if you were updating to a new release. Helm will
compare all <code class="docutils literal notranslate"><span class="pre">--values</span></code> files and the version, and safely ignore any that are
unchanged.</p>


<h2 id="top-level-nodes">Top level nodes<a class="headerlink" href="#top-level-nodes" title="Permalink to this headline">#</a></h2>
<p>The top level nodes are as follows, in order of appearance in the default
<code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> file embedded in the Helm chart. Click on a section header to
access the relevant documentation:</p>
<table id="id4">
<caption><span class="caption-text">Top level <code class="docutils literal notranslate"><span class="pre">values.yaml</span></code> nodes</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 45%"/>
<col style="width: 55%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Docker images</strong> <a class="reference internal" href="#helm-sep-image"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">image:</span></code></p></td>
<td><p>Contains the details for the SEP Docker image.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initImage:</span></code></p></td>
<td><p>Contains the details for the SEP bootstrap Docker image.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Docker registry access</strong> <a class="reference internal" href="#helm-sep-registry"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code></p></td>
<td><p>Defines authentication details for Docker registry access. Cannot
be used if using <code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code></p></td>
<td><p>Alternative authentication for selected Docker registry using secrets.
Cannot be used if using <code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Internal communications</strong> <a class="reference internal" href="#helm-sep-internal-communication"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sharedSecret:</span></code></p></td>
<td><p>Sets the shared secret value for internal communications.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">environment:</span></code></p></td>
<td><p>The environment name for the SEP cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">internal:</span></code></p></td>
<td><p>Specifies port numbers used for internal cluster communications.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Ports and networking</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">expose:</span></code> <a class="reference internal" href="#helm-sep-expose"><span class="std std-ref">node</span></a></p></td>
<td><p>Defines the mechanisms and their options that expose the SEP cluster to
an outside network.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Coordinator and workers</strong></p></td>
<td><p>The coordinator and worker nodes have many properties in common. They are
detailed in the Coordinator section, and referenced in the Worker section,
rather than repeating them. Likewise, examples are provided for the
<code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> top level node, and can be applied to the worker top
level node by simply replacing <code class="docutils literal notranslate"><span class="pre">coordinator</span></code> with <code class="docutils literal notranslate"><span class="pre">worker</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> <a class="reference internal" href="#helm-sep-coordinator"><span class="std std-ref">node</span></a></p></td>
<td><p>Extensive section that configures the SEP coordinator pod.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">worker:</span></code> <a class="reference internal" href="#helm-sep-workers"><span class="std std-ref">node</span></a></p></td>
<td><p>Extensive section that configures the SEP worker pods.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Startup options</strong> <a class="reference internal" href="#helm-sep-nodes"><span class="std std-ref">section</span></a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initFile:</span> <span class="pre">""</span></code></p></td>
<td><p>Specifies a shell script to run after coordinator and work pod launch, and
before SEP startup on the pods.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">extraArguments:</span> <span class="pre">[]</span></code></p></td>
<td><p>List of extra arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">initFile</span></code> script.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">extraSecret:</span></code></p></td>
<td><p>Lists secret to be used for <code class="docutils literal notranslate"><span class="pre">initFile:</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Advanced security options</strong></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets:</span></code> <a class="reference internal" href="#helm-sep-secretref"><span class="std std-ref">node</span></a></p></td>
<td><p>Defines mounted external secrets from a Kubernetes secrets manager.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">userDatabase:</span></code> <a class="reference internal" href="#helm-sep-user-db"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures the user database to use for file-based user authentication.
This is disabled by default for versions 356-e and later.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">securityContext:</span> <span class="pre">{}</span></code> <a class="reference internal" href="#helm-sep-securitycontext"><span class="std std-ref">node</span></a></p></td>
<td><p>Sets the Kubernetes security context that defines privilege and access
control settings for all SEP pods.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Pod lifecycle management</strong> <a class="reference external" href="https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle/">section</a></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">readinessProbe:</span></code></p></td>
<td><p>Specifies the Kubernetes readiness probe that monitor containers for
readiness to accept traffic.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">livenessProbe:</span></code></p></td>
<td><p>Specifies the Kubernetes liveness probe that monitor containers for the
need to restart.</p></td>
</tr>
<tr class="row-even"><td><p><strong>SEP cache, disk and memory management</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">query:</span></code> <a class="reference internal" href="#helm-sep-concurrent-queries"><span class="std std-ref">node</span></a></p></td>
<td><p>Specifies query processing and management configuration properties.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">spilling:</span></code> <a class="reference internal" href="#helm-sep-spilling"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures spilling of query processing data to disk.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cache:</span></code> node for <a class="reference internal" href="#helm-sep-hive-caching"><span class="std std-ref">hive configuration</span></a></p></td>
<td><p>Configures Hive storage caching.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Catalogs to configure connected data sources</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">catalogs:</span></code> <a class="reference internal" href="#helm-sep-catalogs"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures the catalog properties files.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Miscellaneous</strong></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">additionalVolumes:</span></code> <a class="reference internal" href="#helm-sep-volumes"><span class="std std-ref">node</span></a></p></td>
<td><p>Defines mounted volumes for various uses in the cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">prometheus:</span></code> <a class="reference internal" href="#helm-sep-prometheus"><span class="std std-ref">node</span></a></p></td>
<td><p>Configures cluster metrics gathering with Prometheus.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">commonLabels:</span> <span class="pre">{}</span></code></p></td>
<td><p>Defines common labels to identify objects in a KRM to use with the
<code class="docutils literal notranslate"><span class="pre">kustomize</span></code>
<a class="reference external" href="https://kubectl.docs.kubernetes.io/references/kustomize/kustomization/commonlabels/">utility</a>
and other tools.</p></td>
</tr>
</tbody>
</table>


<span id="helm-sep-image"></span><h2 id="docker-images">Docker images<a class="headerlink" href="#docker-images" title="Permalink to this headline">#</a></h2>
<p>The <a class="reference internal" href="sep-config-examples.html#k8s-defaults-images-and-registry-credentials"><span class="std std-ref">default configuration</span></a>
automatically contains the details for the relevant Docker image on the
Starburst Harbor instance. Typically you should not configure any overrides. An
exception is if you host the Docker image on a different Docker registry.</p>
<table id="id5">
<caption><span class="caption-text">Top level docker image nodes</span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">image:</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">image</span></code> section controls the Docker image to use including the
version. Typically, the Helm chart version reflects the SEP version.
Specifically, the SEP version 356-e.x is reflected in the chart version
of 356.x.0, or patches for the chart are released as 356.x.1, 356.x.2,
and similar.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">initImage:</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">initImage</span></code> section defines the container image and version to use
for bootstrapping configuration files for SEP from the Helm chart and
values files. This functionality is internal to the chart, and you should
not change or override this configuration.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-images-and-registry-credentials"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-images-and-registry-credentials"><span class="std std-ref">Images and repository registry credentials examples</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-registry-version-handling"><span class="std std-ref">Controlling SEP releases</span></a></p></li>
</ul>


<span id="helm-sep-registry"></span><h2 id="docker-registry-access">Docker registry access<a class="headerlink" href="#docker-registry-access" title="Permalink to this headline">#</a></h2>
<p>These nodes enable access to the Docker registry. They should be added to the
<code class="docutils literal notranslate"><span class="pre">registry-access.yaml</span></code> file to access the registry as shown in the <a class="reference internal" href="installation.html#minimal-values-yaml-file"><span class="std std-ref">best
practices guide</span></a>.</p>
<table id="id6">
<caption><span class="caption-text">Top level docker image and registry credentials nodes</span><a class="headerlink" href="#id6" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code></p></td>
<td><p>The <code class="docutils literal notranslate"><span class="pre">registryCredentials</span></code> section defines authentication details for
Docker registry access. Typically, you need to use <a class="reference internal" href="requirements.html#k8s-helm-repository"><span class="std std-ref">your username and
password for the Starburst Harbor instance</span></a>. NOTE:
Cannot be be used if using <code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">imagePullSecrets:</span></code></p></td>
<td><p>Alternative authentication for selected Docker registry using secrets.
NOTE: Cannot be used if using <code class="docutils literal notranslate"><span class="pre">registryCredentials:</span></code>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>You can only define authentication with <code class="docutils literal notranslate"><span class="pre">registryCredentials</span></code> or
<code class="docutils literal notranslate"><span class="pre">imagePullSecrets</span></code>. Defining both is invalid, and causes an error.</p>
</div>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-images-and-registry-credentials"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-images-and-registry-credentials"><span class="std std-ref">Images and repository registry credentials examples</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-private-registries"><span class="std std-ref">Using private registries</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-imagepullsecrets"><span class="std std-ref">Using imagePullSecrets</span></a></p></li>
</ul>


<span id="helm-sep-internal-communication"></span><h2 id="internal-communication">Internal communication<a class="headerlink" href="#internal-communication" title="Permalink to this headline">#</a></h2>
<p>SEP provides three top level nodes for <a class="reference internal" href="../security/internal-communication.html"><span class="doc">internal cluster communication</span></a> between the coordinator and the workers.
Because internal communication configurations and credentials are unique, these
are not configured <a class="reference internal" href="sep-config-examples.html#k8s-defaults-internal-comms"><span class="std std-ref">by default</span></a>.</p>
<p>Ensure to configure <code class="docutils literal notranslate"><span class="pre">sharedSecret</span></code> and <code class="docutils literal notranslate"><span class="pre">environment</span></code> values in all your
clusters to use secured communication with internal authentication of the nodes.</p>
<table id="id7">
<caption><span class="caption-text">Top level internal communications nodes</span><a class="headerlink" href="#id7" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">environment</span></code></p></td>
<td><p>The environment name for the SEP cluster, used to set the
<code class="docutils literal notranslate"><span class="pre">node.environment</span></code> <a class="reference internal" href="../installation/deployment.html#node-properties"><span class="std std-ref">node configuration property</span></a>. Examples are values such as <code class="docutils literal notranslate"><span class="pre">production</span></code>,
<code class="docutils literal notranslate"><span class="pre">staging</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_cluster</span></code>, <code class="docutils literal notranslate"><span class="pre">site_analytics</span></code>, or any other short,
meaningful string.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sharedSecret</span></code></p></td>
<td><p>Sets the shared secret value for <a class="reference internal" href="../security/internal-communication.html"><span class="doc">secure communication
between coordinator and workers in the cluster</span></a> to a long, random string that you
provide. If not set, the <code class="docutils literal notranslate"><span class="pre">node.environment</span></code> value from the
<code class="docutils literal notranslate"><span class="pre">etcFiles.node.properties</span></code> configuration <a class="reference internal" href="#k8s-etcfiles"><span class="std std-ref">on the
coordinator</span></a> is used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">internalTls:</span></code></p></td>
<td><p>When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, enables TLS for internal communication and
autogenerates trusted certificates. Requires both <code class="docutils literal notranslate"><span class="pre">environment</span></code> and
<code class="docutils literal notranslate"><span class="pre">sharedSecret</span></code> top level nodes to be configured, and uses the port
defined in <code class="docutils literal notranslate"><span class="pre">internal.ports.https.port:</span></code>. The <code class="docutils literal notranslate"><span class="pre">environment</span></code> value is
used as the CN. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> by default.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-internal-comms"><span class="std std-ref">Internal communications configuration</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-internal-comms"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-internal-tls"><span class="std std-ref">Using TLS for internal communication</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-nonstd-https"><span class="std std-ref">Non-standard HTTPS port numbers</span></a></p></li>
</ul>


<span id="helm-sep-expose"></span><h2 id="exposing-the-cluster">Exposing the cluster<a class="headerlink" href="#exposing-the-cluster" title="Permalink to this headline">#</a></h2>
<p>You must expose the cluster to allow users to connect to the SEP coordinator
with tools such as the CLI, applications using JDBC/ODBC drivers and any other
client application. This service-type configuration is defined by the <code class="docutils literal notranslate"><span class="pre">expose</span></code>
top level node. You can choose from four different mechanisms by setting the <code class="docutils literal notranslate"><span class="pre">type</span></code>
value to the <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/service/#publishing-services-service-types">common configurations in k8s</a>.</p>
<p>Depending on your choice, you only have to configure the identically-named
sections.</p>
<table id="id8">
<caption><span class="caption-text">Types for <code class="docutils literal notranslate"><span class="pre">expose:</span></code> top level node</span><a class="headerlink" href="#id8" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clusterIp</span></code></p></td>
<td><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-external-comms"><span class="std std-ref">Default value</span></a>. Only exposes the
coordinator internally within the k8s cluster using an IP address internal
to the cluster. Use this in the early stages of configuration.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nodePort</span></code></p></td>
<td><p>Configures the internal port number of the coordinator for requests from
outside the cluster on the <code class="docutils literal notranslate"><span class="pre">nodePort</span></code> port number. External
service requests are made to <code class="docutils literal notranslate"><span class="pre">&lt;nodeIP&gt;:&lt;nodePort&gt;</span></code>. The <code class="docutils literal notranslate"><span class="pre">clusterIP</span></code>
service is automatically created to supply all internal IP addresses.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">loadBalancer</span></code></p></td>
<td><p>Used with platforms that provide a load balancer. This
option automatically creates <code class="docutils literal notranslate"><span class="pre">nodePort</span></code> and <code class="docutils literal notranslate"><span class="pre">clusterIP</span></code> services , to
which the external load balancer routes requests.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ingress</span></code></p></td>
<td><p>This option provides a production-level, securable configuration. It
allows a load balancer to route to multiple apps in the cluster, and
may provide load balancing, SSL termination, and name-based virtual
hosting. For example, the SEP coordinator and Ranger server can be
in the same cluster, and can be exposed via <code class="docutils literal notranslate"><span class="pre">ingress:</span></code> configuration.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-external-comms"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-external-comms"><span class="std std-ref">External communications configuration</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-clusterip"><span class="std std-ref">clusterIp type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-nodeport"><span class="std std-ref">nodePort type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-lb"><span class="std std-ref">loadBalancer type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-ingress"><span class="std std-ref">Basic ingress type</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-expose-nginxcert"><span class="std std-ref">ingress with nginx and cert-manager</span></a></p></li>
</ul>


<span id="helm-sep-coordinator"></span><h2 id="coordinator">Coordinator<a class="headerlink" href="#coordinator" title="Permalink to this headline">#</a></h2>
<p>The top level <code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> node <a class="reference internal" href="sep-config-examples.html#k8s-coordinator-yaml"><span class="std std-ref">contains property nodes</span></a> that configure the pod of the cluster that runs the
SEP coordinator. The <a class="reference internal" href="sep-config-examples.html#k8s-defaults-coordinator"><span class="std std-ref">default values</span></a> are
suitable to get started with reasonable defaults on a production-sized k8s
cluster.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These property nodes also appear under the top level <code class="docutils literal notranslate"><span class="pre">worker:</span></code> node unless
otherwise noted.</p>
</div>
<table id="id9">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> nodes</span><a class="headerlink" href="#id9" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code></p></td>
<td><p>Specifies the content of the <code class="docutils literal notranslate"><span class="pre">jvm.config</span></code> file and the <code class="docutils literal notranslate"><span class="pre">*.properties</span></code>
files associated with the coordinator. These files are described
in greater detail in a <a class="reference internal" href="#k8s-etcfiles"><span class="std std-ref">separate table</span></a> below.
<strong>NOTE</strong>: Not all files described in the detail table are applicable to
workers. They are noted as such.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resources</span></code></p></td>
<td><p>The CPU and memory resources to use for the coordinator pod. These
settings <a class="reference internal" href="sep-config-examples.html#k8s-ex-coord-resources"><span class="std std-ref">can be adjusted</span></a> to match your
workload needs, and available node sizes in the cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">nodeMemoryHeadroom</span></code></p></td>
<td><p>The size of the container memory headroom. The value needs to be less than
resource allocation limit for memory defined in <code class="docutils literal notranslate"><span class="pre">resources</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">heapSizePercentage</span></code></p></td>
<td><p>Percentage of container memory reduced with headroom assigned to Java
heap. Must be less than 100.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">heapHeadroomPercentage</span></code></p></td>
<td><p>Headroom of Java heap memory not tracked by SEP during query execution.
Must be less than 100.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code></p></td>
<td><p>Any properties described in the reference documentation that are not
specific to any other YAML node are set here. Example usages are to
<a class="reference internal" href="sep-config-examples.html#k8s-ex-additional-properties"><span class="std std-ref">set query time-out and memory values</span></a>
and to <a class="reference internal" href="sep-config-examples.html#k8s-ex-insights"><span class="std std-ref">enable Starburst Insights</span></a>. Configuration
properties can be found throughout the reference documentation,
including the <a class="reference internal" href="../admin/properties.html"><span class="doc">Properties reference</span></a> page.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">envFrom:</span> <span class="pre">[]</span></code></p></td>
<td><p>Allows for the propagation of environment variables from different sources
complying with <a class="reference external" href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.19/#envfromsource-v1-core">K8S schema</a>
can be used to deliver values to SEP configuration properties file by
creating a Kubernetes secret holding variable values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">nodeSelector:</span> <span class="pre">{}</span></code>, <code class="docutils literal notranslate"><span class="pre">affinity:</span> <span class="pre">{}</span></code> and <code class="docutils literal notranslate"><span class="pre">tolerations:</span> <span class="pre">[]</span></code></p></td>
<td><p>Configuration to <a class="reference internal" href="#helm-node-assignment"><span class="std std-ref">determine the node and pod to
use</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">deploymentAnnotations:</span> <span class="pre">{}</span></code></p></td>
<td><p>Configuration to <a class="reference external" href="https://helm.sh/docs/chart_best_practices/labels/">annotate</a>
the coordinator deployment.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">podAnnotations:</span> <span class="pre">{}</span></code></p></td>
<td><p>Configuration to <a class="reference external" href="https://helm.sh/docs/chart_best_practices/labels/">annotate</a>
the coordinator pod.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">priorityClassName</span></code></p></td>
<td><p>Priority class for coordinator pod for setting <a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption">k8s pod priority and preemption</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sidecars:</span> <span class="pre">[]</span></code></p></td>
<td><p>Attach additional sidecar containers to the coordinator pod.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initContainers:</span> <span class="pre">[]</span></code></p></td>
<td><p>Add extra init containers to the coordinator pod.</p></td>
</tr>
</tbody>
</table>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-coordinator"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-coord-resources"><span class="std std-ref">CPU and memory allocation</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-additional-properties"><span class="std std-ref">Adding properties to config.properties</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-insights"><span class="std std-ref">Enabling Starburst Insights</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#helm-sep-coordinator-envfrom"><span class="std std-ref">Using environment variables for secrets</span></a></p></li>
</ul>

<span id="k8s-etcfiles"></span><h3 id="etcfiles-on-the-coordinator"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator<a class="headerlink" href="#etcfiles-on-the-coordinator" title="Permalink to this headline">#</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These property nodes also appear under the top level <code class="docutils literal notranslate"><span class="pre">worker:</span></code> node unless
otherwise noted.</p>
</div>
<table id="id10">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code> on the coordinator</span><a class="headerlink" href="#id10" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.jvm.config</span></code></p></td>
<td><p>Defines the content of the <a class="reference internal" href="../installation/deployment.html#jvm-config"><span class="std std-ref">JVM config</span></a> for the coordinator.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties</span></code></p></td>
<td><p>Defines configuration files located in the <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder. Each nested
section defines the filename. Defaults are provided for the main
configuration files <code class="docutils literal notranslate"><span class="pre">etc/jvm.config</span></code>, <code class="docutils literal notranslate"><span class="pre">etc/config.properties</span></code>,
<code class="docutils literal notranslate"><span class="pre">etc/node.properties</span></code> and <code class="docutils literal notranslate"><span class="pre">etc/log.properties</span></code>. Additional
properties files can be added by adding a nested section and the
desired content of the configuration file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.config.properties</span></code></p></td>
<td><p>Defines the content of the
<a class="reference internal" href="../installation/deployment.html#config-properties"><span class="std std-ref">default configuration file</span></a>
for the coordinator. You can also use <code class="docutils literal notranslate"><span class="pre">additionalProperties</span></code> for
adding other configuration values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.properties.node.properties</span></code></p></td>
<td><p>Defines the contents of the <a class="reference internal" href="../installation/deployment.html#node-properties"><span class="std std-ref">node.properties file</span></a>
for the coordinator, including paths to installation and log directories.
The unique identifier and environment are pulled in from the <code class="docutils literal notranslate"><span class="pre">environment</span></code>, as documented in the <a class="reference internal" href="#helm-sep-internal-communication"><span class="std std-ref">internal
communication section</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.log.properties</span></code></p></td>
<td><p>Defines the contents of the <a class="reference internal" href="../installation/deployment.html#log-levels"><span class="std std-ref">log configuration files</span></a>
for the coordinator.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.password-authentication.properties</span></code></p></td>
<td><p>Configures <a class="reference internal" href="../security/password-file.html"><span class="doc">password authentication</span></a>
for SEP on the coordinator.
<strong>NOTE:</strong> Does not apply to <code class="docutils literal notranslate"><span class="pre">worker.etcFiles.properties</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.properties.access-control.properties</span></code></p></td>
<td><p>Enables and configures <a class="reference internal" href="sep-config-examples.html#k8s-ex-access-control"><span class="std std-ref">access control</span></a>
for SEP on the coordinator. <strong>NOTE:</strong> Does not apply to
<code class="docutils literal notranslate"><span class="pre">worker.etcFiles.properties</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">coordinator.etcFiles.other</span></code></p></td>
<td><p>Other files that need to be placed in the <code class="docutils literal notranslate"><span class="pre">etc</span></code> directory
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-etcfiles-other"><span class="std std-ref">example</span></a>).</p></td>
</tr>
</tbody>
</table>


<span id="helm-node-assignment"></span><h3 id="node-assignment">Node assignment<a class="headerlink" href="#node-assignment" title="Permalink to this headline">#</a></h3>
<p>All charts allow you to configure criteria to define which node and pod in the
cluster is suitable to use for running the relevant container. In SEP, this
may be useful if you have a cluster spanning availability zones, or if you are
using Ranger or an HMS in your cluster with smaller node sizes. The following
configurations are available, and by default are not defined:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">nodeSelector</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">affinity</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
<span class="nt">tolerations</span><span class="p">:</span> <span class="p p-Indicator">[]</span>
</pre></div>
</div>
<p>Example configurations are available in the <a class="reference external" href="https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/">k8s documentation</a>.
Specific usage and values are highly dependent on your k8s cluster
configuration.</p>
<p>Further resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://kubernetes.io/docs/user-guide/node-selection/">Node labels for pod assignment</a></p></li>
<li><p><a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#taints-and-tolerations-beta-feature">Tolerations</a></p></li>
<li><p><a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity">Affinity and anti-affinity</a></p></li>
</ul>


<h3 id="coordinator-defaults-and-examples">Coordinator defaults and examples<a class="headerlink" href="#coordinator-defaults-and-examples" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-coordinator"><span class="std std-ref">Defaults</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-jvm-config"><span class="std std-ref">JVM configuration</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-etcfiles-other"><span class="std std-ref">Adding other files in etc</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-coord-resources"><span class="std std-ref">CPU and memory allocation</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-additional-properties"><span class="std std-ref">Adding properties to config.properties</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#helm-sep-coordinator-envfrom"><span class="std std-ref">Using environment variables for secrets</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-insights"><span class="std std-ref">Enabling Starburst Insights</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-access-control"><span class="std std-ref">Enabling access control</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-user-db"><span class="std std-ref">File-based authentication</span></a></p></li>
</ul>



<span id="helm-sep-workers"></span><h2 id="workers">Workers<a class="headerlink" href="#workers" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">worker</span></code> section configures the pods of the cluster that run the
SEP workers.</p>
<p>The top level <code class="docutils literal notranslate"><span class="pre">worker:</span></code> node <a class="reference internal" href="sep-config-examples.html#k8s-worker-yaml"><span class="std std-ref">contains property nodes</span></a>
that configure the pod of the cluster that runs the SEP workers. The
<a class="reference internal" href="sep-config-examples.html#k8s-defaults-worker"><span class="std std-ref">default values</span></a> are suitable to get started with
reasonable defaults on a production-sized k8s cluster.</p>
<p>Many of the properties for this node also appear in the <code class="docutils literal notranslate"><span class="pre">coordinator:</span></code> top
level node. They are fully documented in the <a class="reference internal" href="#helm-sep-coordinator"><span class="std std-ref">Coordinator
section</span></a>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">worker.etcFiles.*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.resources</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.nodeMemoryHeadroom</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.heapSizePercentage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.heapHeadroomPercentage</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.additionalProperties</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.envFrom</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.nodeSelector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.affinity</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.tolerations</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.deploymentAnnotations</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.podAnnotations</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.priorityClassName</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.sidecars</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">worker.initContainers</span></code></p></li>
</ul>
<p>The following properties apply only to <code class="docutils literal notranslate"><span class="pre">worker</span></code>:</p>
<table id="id11">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">worker:</span></code>-only nodes</span><a class="headerlink" href="#id11" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">etcFiles</span></code></p></td>
<td><p>Specifies</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">worker.replicas</span></code></p></td>
<td><p>The number of <a class="reference internal" href="sep-config-examples.html#k8s-defaults-worker"><span class="std std-ref">worker pods</span></a> for a static
cluster.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">worker.autoscaling</span></code></p></td>
<td><p>Configuration for the minimum and maximum number of workers. Ensure the
additional <a class="reference internal" href="requirements.html#k8s-scaling-requirements"><span class="std std-ref">requirements for scaling</span></a> are
fulfilled on your k8s cluster. Set <code class="docutils literal notranslate"><span class="pre">enabled</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code> to activate
<a class="reference external" href="../../starburst-enterprise/k8s-operation.html#scaling">autoscaling</a>.
The <code class="docutils literal notranslate"><span class="pre">targetCPUUtilizationPercentage</span></code> sets the threshold value that
triggers scaling up by adding more workers until <code class="docutils literal notranslate"><span class="pre">maxReplicas</span></code> is
reached.</p>
<p>Scaling down proceeds until <code class="docutils literal notranslate"><span class="pre">minReplicas</span></code> is reached and is controlled
by <code class="docutils literal notranslate"><span class="pre">deploymentTerminationGracePeriodSeconds</span></code> and
<code class="docutils literal notranslate"><span class="pre">starburstWorkerShutdownGracePeriodSeconds</span></code>.</p>
<p><strong>WARNING:</strong> The autoscaling feature does not yet work with OpenShift
clusters (as of the latest release 4.6), due to a known limitation with
OpenShift clusters. HPA <a class="reference external" href="https://bugzilla.redhat.com/show_bug.cgi?id=1749468">does not
work</a>
with pods having init containers in OpenShift.</p>
<p>Read more information in our <a class="reference external" href="../../starburst-enterprise/k8s-operation.html#scaling">scaling
section</a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">worker.deploymentTerminationGracePeriodSeconds</span></code></p></td>
<td><p>Specifies the termination grace period for workers. Workers are not
terminated until queries running on the pod are finished and the grace
period passes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">worker.starburstWorkerShutdownGracePeriodSeconds</span></code></p></td>
<td><p>Sets <code class="docutils literal notranslate"><span class="pre">shutdown.grace-period</span></code> to configure the grace period for worker
process shutdown.</p></td>
</tr>
</tbody>
</table>
<p>The following configuration properties for workers are identical to the
coordinator properties, documented in preceding section.</p>


<span id="helm-sep-nodes"></span><h2 id="startup-shell-script-for-coordinator-and-workers-nodes">Startup shell script for coordinator and workers nodes<a class="headerlink" href="#startup-shell-script-for-coordinator-and-workers-nodes" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">initFile:</span></code> is a top level node that allows you to create a startup shell
script (<a class="reference internal" href="sep-config-examples.html#k8s-ex-startup-script"><span class="std std-ref">example</span></a>) to customize how SEP is
started on the coordinator and workers, and pass additional arguments to it.
These are undefined <a class="reference internal" href="sep-config-examples.html#k8s-defaults-initfile"><span class="std std-ref">by default</span></a>.</p>
<table id="id12">
<caption><span class="caption-text">Startup script nodes</span><a class="headerlink" href="#id12" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initFile</span></code></p></td>
<td><p>A shell script to run before SEP is launched. The content of the file
has to be an inline string in the YAML file. The script is started as
<code class="docutils literal notranslate"><span class="pre">/bin/bash</span> <span class="pre">&lt;&lt;init_file&gt;&gt;</span></code>. When called, it is passed the single
parameter value <code class="docutils literal notranslate"><span class="pre">coordinator</span></code> or <code class="docutils literal notranslate"><span class="pre">worker</span></code> depending on the type of
pod. The script needs to invoke the launcher script
<code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/bin/run-starburst</span></code> for a successful start of SEP.
<strong>NOTE</strong>: In the <code class="docutils literal notranslate"><span class="pre">initFile</span></code>, for chart versions released before middle
of Oct 2020 use the launcher script
<code class="docutils literal notranslate"><span class="pre">exec</span> <span class="pre">/usr/lib/starburst/bin/launcher</span> <span class="pre">run</span></code>. For newer releases use
<code class="docutils literal notranslate"><span class="pre">exec</span> <span class="pre">/usr/lib/starburst/bin/run-starburst</span></code> to enable graceful shutdown
of workers .</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">extraArguments</span></code></p></td>
<td><p>List of extra arguments to be passed to the <code class="docutils literal notranslate"><span class="pre">initFile</span></code> script.</p></td>
</tr>
</tbody>
</table>


<span id="k8s-security-considerations"></span><h2 id="user-security-considerations">User security considerations<a class="headerlink" href="#user-security-considerations" title="Permalink to this headline">#</a></h2>
<p>SEP has <a class="reference internal" href="../security.html"><span class="doc">extensive security options</span></a> that allow you specify
how to authenticate users. Because user security configurations and credentials
are unique, these are not configured <a class="reference internal" href="sep-config-examples.html#k8s-defaults-security-considerations"><span class="std std-ref">by default</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We <strong>strongly suggest</strong> that you watch our <a class="reference external" href="../../../platform-administrator/security.html">Securing Starburst Enterprise</a> training
video before customizing your SEP security configuration.</p>
</div>

<span id="helm-sep-securitycontext"></span><h3 id="security-context">Security context<a class="headerlink" href="#security-context" title="Permalink to this headline">#</a></h3>
<p>You can configure a <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod">security context</a>
to define privilege and access control settings for the SEP pods.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">securityContext</span><span class="p">:</span>
  <span class="nt">runAsNotRoot</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">runAsUser</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1000</span>
  <span class="nt">runAsGroup</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These settings are typically not required, and are highly dependent upon your
Kubernetes environment. For example, OpenShift requires <code class="docutils literal notranslate"><span class="pre">audit_log</span></code> to be
set in <code class="docutils literal notranslate"><span class="pre">securityContext</span></code> in order to run <code class="docutils literal notranslate"><span class="pre">sudo</span></code>, while other platforms use
arbitrary user IDs. Refer to the Kubernetes documentation and to the
documentation for your particular platform to ensure your <code class="docutils literal notranslate"><span class="pre">securityContext</span></code>
is configured correctly.</p>
</div>


<span id="helm-sep-serviceaccount"></span><h3 id="service-account">Service account<a class="headerlink" href="#service-account" title="Permalink to this headline">#</a></h3>
<p>You can configure a <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/">service account</a>
for the SEP pods using:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">serviceAccountName</span><span class="p">:</span>
</pre></div>
</div>


<span id="helm-sep-secretref"></span><h3 id="external-secret-reference">External secret reference<a class="headerlink" href="#external-secret-reference" title="Permalink to this headline">#</a></h3>
<p>There are several locations where properties require pointing to files delivered
outside of SEP, such as CA certificates. In such cases, you can use a
special notation that allows you to point to a k8s secret.</p>
<p>For example, you can configure password authentication using LDAP (<a class="reference internal" href="sep-config-examples.html#k8s-ex-secretref"><span class="std std-ref">example</span></a>). This requires k8s to create the
<code class="docutils literal notranslate"><span class="pre">etc/password-authenticator.properties</span></code> configuration file, which in turn
points to the <code class="docutils literal notranslate"><span class="pre">ca.crt</span></code> certificate file.</p>


<span id="k8s-external-secrets"></span><h3 id="defining-external-secrets">Defining external secrets<a class="headerlink" href="#defining-external-secrets" title="Permalink to this headline">#</a></h3>
<p>You can automatically mount external secrets, for example from the AWS Secrets
Manager, using the <code class="docutils literal notranslate"><span class="pre">secretRef</span></code> or <code class="docutils literal notranslate"><span class="pre">secretEnv</span></code> notation.</p>
<table id="id13">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">externalSecrets</span></code> nodes</span><a class="headerlink" href="#id13" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets.type</span></code></p></td>
<td><p>Type of the external secret provider. Currently, only <code class="docutils literal notranslate"><span class="pre">goDaddy</span></code> is
supported. NOTE: The external secret provider needs to be configured with
proper access to the specified <code class="docutils literal notranslate"><span class="pre">backendType</span></code> in order to successfully
pull in the external secrets.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets.secretPrefix</span></code></p></td>
<td><p>Prefix of all secrets that need to be mapped to external secret.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">externalSecrets.goDaddy.backendType</span></code></p></td>
<td><p>The <a class="reference external" href="https://github.com/godaddy/kubernetes-external-secrets">GoDaddy backend</a> type, such as
<code class="docutils literal notranslate"><span class="pre">secretsManager</span></code> or <code class="docutils literal notranslate"><span class="pre">systemManager</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>The Helm chart scans for all <code class="docutils literal notranslate"><span class="pre">secretRef</span></code> or <code class="docutils literal notranslate"><span class="pre">secretEnv</span></code> references in the
referenced YAML files which start with the configured <code class="docutils literal notranslate"><span class="pre">secretPrefix</span></code> string.
For each secret found, it generates an``ExternalSecret`` K8s manifest
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-external-secrets"><span class="std std-ref">example</span></a>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The selected external secrets provider needs to be deployed and configured
separately. The secret names in the external storage must match names of K8s
secrets you reference. When using <code class="docutils literal notranslate"><span class="pre">secretEnv</span></code>, the external storage secret
must contain only a single value. For each external secret a single K8s secret
is created, including one key with external secret value.</p>
</div>


<span id="helm-sep-user-db"></span><h3 id="file-based-authentication">File-based authentication<a class="headerlink" href="#file-based-authentication" title="Permalink to this headline">#</a></h3>
<p>The unix command <code class="docutils literal notranslate"><span class="pre">htpasswd</span></code> can generate a user database, which can be used to
configure file-based user authentication. It creates the file under
<code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/etc/auth/{{.Values.userDatabase.name}}</span></code>. This allows you to
statically deliver user credentials to the file
<code class="docutils literal notranslate"><span class="pre">etc/password-authenticator.properties</span></code>
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-user-db"><span class="std std-ref">example</span></a>).</p>
<p>Alternatively, you can use a secret to add an externally created user database
file to SEP. Set the <code class="docutils literal notranslate"><span class="pre">file.password-file</span></code> property to the user database file,
and ensure to disable the built-in user database
(<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-user-db"><span class="std std-ref">example</span></a>).</p>



<span id="k8s-performance-considerations"></span><h2 id="performance-considerations">Performance considerations<a class="headerlink" href="#performance-considerations" title="Permalink to this headline">#</a></h2>
<p>SEP has performance management configuration options that help you to
optimize aspects of SEPâ€™s performance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We <strong>strongly suggest</strong> that you watch our <a class="reference external" href="../../../platform-administrator/performance-tuning.html">cluster tuning training
video</a>
before customizing your SEP security configuration.</p>
</div>

<span id="helm-sep-concurrent-queries"></span><h3 id="query-memory-usage-control">Query memory usage control<a class="headerlink" href="#query-memory-usage-control" title="Permalink to this headline">#</a></h3>
<p>The top level <code class="docutils literal notranslate"><span class="pre">query:</span></code> node allows you to set the <code class="docutils literal notranslate"><span class="pre">maxConcurrentQueries</span></code>
configuration property. The <code class="docutils literal notranslate"><span class="pre">maxConcurrentQueries</span></code> configuration property
limits the maximum number of concurrent queries. The more queries that are
running concurrently the less memory is allocated per query.</p>
<p>This configuration property defaults to <code class="docutils literal notranslate"><span class="pre">3</span></code>. See the  <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-concurrent-queries"><span class="std std-ref">configuration
example</span></a> for increasing the maximum allowable
number of concurrent queries.</p>
<p>All other <a class="reference internal" href="../admin/properties-query-management.html"><span class="doc">query processing properties</span></a> must be set using the
<code class="docutils literal notranslate"><span class="pre">additionalProperties:</span></code> node <a class="reference internal" href="#helm-sep-coordinator"><span class="std std-ref">on the coordinator</span></a>.</p>


<span id="helm-sep-spilling"></span><h3 id="spilling">Spilling<a class="headerlink" href="#spilling" title="Permalink to this headline">#</a></h3>
<p>The top level <code class="docutils literal notranslate"><span class="pre">query:</span></code> node (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-hive-caching"><span class="std std-ref">example</span></a>) allows
you to configure SEPâ€™s <a class="reference internal" href="../admin/properties-spilling.html"><span class="doc">spilling properties</span></a>.</p>
<p><a class="reference internal" href="../admin/spill.html"><span class="doc">Spilling</span></a> uses internal node storage, which is mounted
within the container.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Spilling is disabled <a class="reference internal" href="sep-config-examples.html#k8s-defaults-performance-spilling"><span class="std std-ref">by default</span></a>,
and we <strong>strongly suggest</strong> to leave it disabled. Enabling spill should be
used as a method of last resort to allow for rare, memory-intensive queries to
succeed on a smaller cluster at the expense of query performance and overall
cluster performance.</p>
</div>


<span id="helm-sep-hive-caching"></span><h3 id="hive-connector-storage-caching">Hive connector storage caching<a class="headerlink" href="#hive-connector-storage-caching" title="Permalink to this headline">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">cache:</span></code> top level node (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-hive-caching"><span class="std std-ref">example</span></a>) allows
you to configure <a class="reference internal" href="../connector/hive-caching.html"><span class="doc">Hive connector storage caching</span></a>. It is disabled <a class="reference internal" href="sep-config-examples.html#k8s-defaults-performance-cache"><span class="std std-ref">by default</span></a>.</p>
<table id="id14">
<caption><span class="caption-text">Hive connector caching property nodes</span><a class="headerlink" href="#id14" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cache.enabled</span></code></p></td>
<td><p>Enable or disable caching for all catalogs using the Hive connector. If
you want to only enable it for a specific catalog, you have to configure
it with the <a class="reference internal" href="#helm-sep-catalogs"><span class="std std-ref">catalog configuration</span></a> and
<code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cache.diskUsagePercentage</span></code></p></td>
<td><p>Set the value for the <code class="docutils literal notranslate"><span class="pre">hive.cache.disk-usage-percentage</span></code> property.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cache.ttl</span></code></p></td>
<td><p>Set the value for the <code class="docutils literal notranslate"><span class="pre">hive.cache.ttl</span></code> property.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cache.volume</span></code></p></td>
<td><p>Configure the volume in which to store the cached files.</p></td>
</tr>
</tbody>
</table>



<span id="helm-sep-catalogs"></span><h2 id="catalogs">Catalogs<a class="headerlink" href="#catalogs" title="Permalink to this headline">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">catalogs:</span></code> top level node allows you to configure a catalog for each of
your data sources. The catalogs defined in this node are used to create catalog
properties files, which contain key-value pairs for catalog properties.
Information for specific properties supported in each catalog can be found with
the <a class="reference internal" href="../connector.html"><span class="doc">documentation for the connectors</span></a>. At the very minimum, a
catalog definition must consist of the name of the name of the catalog, and the
<code class="docutils literal notranslate"><span class="pre">connector.name</span></code> property.</p>
<p>For best practices, use the YAML multi-line syntax shown in the <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-catalogs"><span class="std std-ref">examples</span></a> to configure the content in multiple lines indented
below the catalog name.</p>
<p>Defaults and examples:</p>
<ul class="simple">
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-defaults-catalogs"><span class="std std-ref">Default</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-catalogs"><span class="std std-ref">Catalog examples</span></a></p></li>
<li><p><a class="reference internal" href="sep-config-examples.html#k8s-ex-teradata-direct-connector"><span class="std std-ref">Teradata Direct connector</span></a></p></li>
<li><p><a class="reference internal" href="hms-configuration.html#helm-hms-using"><span class="std std-ref">Using the built in HMS with Hive connector and others</span></a></p></li>
</ul>


<span id="helm-sep-volumes"></span><h2 id="additional-volumes">Additional volumes<a class="headerlink" href="#additional-volumes" title="Permalink to this headline">#</a></h2>
<p>Additional <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#types-of-volumes">k8s volumes</a> can be
necessary for persisting files, for <a class="reference internal" href="../connector/hive-caching.html"><span class="doc">Hive object storage caching</span></a>, and for a number of other use cases. These can be
defined in the <code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code> section (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-volumes"><span class="std std-ref">example</span></a>). None are defined <a class="reference internal" href="sep-config-examples.html#k8s-defaults-additionalvolumes"><span class="std std-ref">by default</span></a>.</p>
<table id="id15">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">additionalVolume</span></code> property nodes</span><a class="headerlink" href="#id15" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Node name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">path</span></code></p></td>
<td><p>Specifies the path to the mounted volume. If you specify <code class="docutils literal notranslate"><span class="pre">path</span></code> only, a
directory named in <code class="docutils literal notranslate"><span class="pre">path</span></code> is created. When mounting ConfigMap or Secret,
files are created in this directory for each key.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">volume</span></code></p></td>
<td><p>A directory, with or without data, which is <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#background">accessible to the
containers in a pod</a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hostpath</span></code></p></td>
<td><p>A volume with a <code class="docutils literal notranslate"><span class="pre">hostPath</span></code> defined <a class="reference external" href="https://kubernetes.io/docs/concepts/storage/volumes/#hostpath">mounts a file or directory</a> from the
host nodeâ€™s filesystem into your pod.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">hostpath.path</span></code></p></td>
<td><p><strong>REQUIRED</strong> when using <code class="docutils literal notranslate"><span class="pre">hostPath</span></code>-mounted volumes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">subPath</span></code></p></td>
<td><p>When specified, a specific key named <code class="docutils literal notranslate"><span class="pre">subPath</span></code> from ConfigMap or Secret
is mounted as a file with name provided by <code class="docutils literal notranslate"><span class="pre">path</span></code>. This is an
alternative to using <code class="docutils literal notranslate"><span class="pre">hostpath</span></code>; you cannot define both for a volume.</p></td>
</tr>
</tbody>
</table>

<span id="helm-sep-adding-files"></span><h3 id="adding-files">Adding files<a class="headerlink" href="#adding-files" title="Permalink to this headline">#</a></h3>
<p>Various use cases around security and event listeners need additional config
files as properties or XML files. You can add any file to a pod using <a class="reference external" href="https://kubernetes.io/docs/concepts/configuration/configmap/">config
maps</a>.</p>
<p>Types of files you may need to add:</p>
<ul class="simple">
<li><p>LDAP authentication file</p></li>
<li><p>Hive site xml file</p></li>
</ul>
<p>Alternatively you can also use <a class="reference internal" href="#helm-sep-volumes"><span class="std std-ref">additionalVolumes</span></a> to
mount the files and copy the files to appropriate location using <code class="docutils literal notranslate"><span class="pre">path</span></code> and
<code class="docutils literal notranslate"><span class="pre">subPath</span></code> parameter (<a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-adding-files"><span class="std std-ref">example</span></a>).</p>



<span id="helm-sep-prometheus"></span><h2 id="prometheus">Prometheus<a class="headerlink" href="#prometheus" title="Permalink to this headline">#</a></h2>
<p>This top level node configures the cluster to create <a class="reference external" href="https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/">Prometheus metrics</a>.
It is not to be confused with the connector of the same name. It is enabled
<a class="reference internal" href="sep-config-examples.html#k8s-defaults-prometheus"><span class="std std-ref">by default</span></a>.</p>
<p>We strongly suggest reviewing our <a class="reference internal" href="sep-config-examples.html#k8s-ex-sep-prometheus"><span class="std std-ref">example Prometheus rules</span></a>.</p>


<span id="helm-sep-directories"></span><h2 id="sep-built-in-directories">SEP built-in directories<a class="headerlink" href="#sep-built-in-directories" title="Permalink to this headline">#</a></h2>
<p>The location of specific directories on the SEP container is important, if you
configure additional files or otherwise want to tweak the container.</p>
<p>SEP is configured to use the following directories in the container:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst</span></code>: Top level folder for the SEP binaries.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/plugin</span></code>: All plugins for SEP including connectors</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/etc</span></code>: <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder for SEP configuration files such as
<code class="docutils literal notranslate"><span class="pre">config.properties</span></code> and others.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/usr/lib/starburst/bin</span></code>: Location of the <code class="docutils literal notranslate"><span class="pre">run-starburst</span></code> script, which is invoked
with the container start.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/data/starburst/var/run</span></code>: Contains <code class="docutils literal notranslate"><span class="pre">launcher.pid</span></code> file used by the launcher
script.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/data/starburst/var/log</span></code>: Contains secondary, rotated log files. Main log is
redirected to stdout as recommended on containers.</p></li>
</ul>


<h2 id="sidecar-and-init-containers">Sidecar and init containers<a class="headerlink" href="#sidecar-and-init-containers" title="Permalink to this headline">#</a></h2>
<p>Extra sidecar and init containers can be specified to run together with
coordinator or worker pods. You can use these containers for a number of use
cases such as to prepare an additional driver for the SEP runtime. To have a
directory available in all containers, define an <code class="docutils literal notranslate"><span class="pre">emptyDir</span></code> volume in
<code class="docutils literal notranslate"><span class="pre">additionalVolumes</span></code> (section: <a class="reference internal" href="#helm-sep-volumes"><span class="std std-ref">Additional volumes</span></a>).</p>
<p><strong>Sample configuration:</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">coordinator</span><span class="p">:</span>
  <span class="nt">sidecars</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sidecar-1</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alpine:3</span>
      <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"ping"</span> <span class="p p-Indicator">]</span>
      <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"127.0.0.1"</span> <span class="p p-Indicator">]</span>
  <span class="nt">initContainers</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">init-1</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alpine:3</span>
      <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"bash"</span><span class="p p-Indicator">,</span> <span class="s">"-c"</span><span class="p p-Indicator">,</span> <span class="s">"printenv</span><span class="nv"> </span><span class="s">&gt;</span><span class="nv"> </span><span class="s">/mnt/InContainer/printenv.txt"</span> <span class="p p-Indicator">]</span>

<span class="nt">worker</span><span class="p">:</span>
  <span class="nt">sidecars</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sidecar-3</span>
      <span class="nt">image</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alpine:3</span>
      <span class="nt">command</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"ping"</span> <span class="p p-Indicator">]</span>
      <span class="nt">args</span><span class="p">:</span> <span class="p p-Indicator">[</span> <span class="s">"127.0.0.1"</span> <span class="p p-Indicator">]</span>

<span class="nt">additionalVolumes</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">/mnt/InContainer</span>
    <span class="nt">volume</span><span class="p">:</span>
      <span class="nt">emptyDir</span><span class="p">:</span> <span class="p p-Indicator">{}</span>
</pre></div>
</div>




          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="installation.html" title="Installing Starburst Enterprise in a Kubernetes cluster"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Installing Starburst Enterprise in a Kubernetes cluster </span>
              </div>
            </a>
          
          
            <a href="sep-config-examples.html" title="Kubernetes configuration examples"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Kubernetes configuration examples </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                  alt="Starburst Enterprise 376-e STS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright Â© 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>