

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Starburst SQL Server connector &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Starburst Synapse connector" href="starburst-synapse.html" />
    <link rel="prev" title="Starburst Snowflake connector" href="starburst-snowflake.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/connector/starburst-sqlserver.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#connector/starburst-sqlserver" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/starburst_KO-T.png"
                   alt="Starburst Enterprise 402-e.2 LTS logo">
          
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 402-e.2 LTS</a>
          <span class="md-header-nav__topic"> Starburst SQL Server connector </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (402-e)" href="/402-e/">Latest LTS (402-e)</a>
      
          <a title="393-e LTS" href="/393-e/">393-e LTS</a>
      
          <a title="380-e LTS" href="/380-e/">380-e LTS</a>
      
          <a title="370-e LTS" href="/370-e/">370-e LTS</a>
      
          <a title="Latest STS (405-e)" href="/405-e/">Latest STS (405-e)</a>
      
          <a title="403-e STS" href="/403-e/">403-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/get-started/index.html" class="md-tabs__link">Get started</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/ecosystems/index.html" class="md-tabs__link">Ecosystems</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../non-object-storage.html" class="md-tabs__link">Non-object storage connectors</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/starburst_KO-T.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 402-e.2 LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Overview</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Features, use cases, and support</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For all users</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../overview/sep-ui.html" class="md-nav__link">Starburst Enterprise web UI</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-products.html" class="md-nav__link">Data products</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For data engineers</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">For platform administrators</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Performance, logging, and governance features</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Data sources</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connector overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../object-storage.html" class="md-nav__link">Object storage connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html" class="md-nav__link">Non-object storage connectors</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html#connector-types" class="md-nav__link">Connector types</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html#rdbms-connectors" class="md-nav__link">RDBMS connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html#key-value-store-connectors" class="md-nav__link">Key-value store connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html#stream-processing-system-connectors" class="md-nav__link">Stream processing system connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html#document-oriented-databases" class="md-nav__link">Document-oriented databases</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../non-object-storage.html#other-connectors" class="md-nav__link">Other connectors</a>
      
    
    </li></ul>
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../utilities.html" class="md-nav__link">Utilities</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-connectors.html" class="md-nav__link">Starburst connectors feature matrix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">SQL reference</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">402-e LTS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Appendix</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Version-specific notices and information</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#connector-starburst-sqlserver--page-root" class="md-nav__link">Starburst SQL Server connector</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#requirements" class="md-nav__link">Requirements</a>
        </li>
        <li class="md-nav__item"><a href="#configuration" class="md-nav__link">Configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#dynamic-catalog-selection" class="md-nav__link">Dynamic catalog selection</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#type-mapping" class="md-nav__link">Type mapping</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#sql-server-to-sep-type-mapping" class="md-nav__link">SQL Server to SEP type mapping</a>
        </li>
        <li class="md-nav__item"><a href="#sep-to-sql-server-type-mapping" class="md-nav__link">SEP to SQL Server type mapping</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#sql-support" class="md-nav__link">SQL support</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#insert" class="md-nav__link">Insert</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#performance" class="md-nav__link">Performance</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#parallelism" class="md-nav__link">Parallelism</a>
        </li>
        <li class="md-nav__item"><a href="#dynamic-filtering" class="md-nav__link">Dynamic filtering</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#wait-timeout" class="md-nav__link">Wait timeout</a>
        </li>
        <li class="md-nav__item"><a href="#compaction" class="md-nav__link">Compaction</a>
        </li>
        <li class="md-nav__item"><a href="#metrics" class="md-nav__link">Metrics</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#pushdown" class="md-nav__link">Pushdown</a>
        </li>
        <li class="md-nav__item"><a href="#sb-cached-views" class="md-nav__link">Starburst Cached Views</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#security" class="md-nav__link">Security</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#user-impersonation" class="md-nav__link">User impersonation</a>
        </li>
        <li class="md-nav__item"><a href="#kerberos-authentication" class="md-nav__link">Kerberos authentication</a>
        </li>
        <li class="md-nav__item"><a href="#kerberos-credential-pass-through" class="md-nav__link">Kerberos credential pass-through</a>
        </li>
        <li class="md-nav__item"><a href="#password-credential-pass-through" class="md-nav__link">Password credential pass-through</a>
        </li>
        <li class="md-nav__item"><a href="#ntlm-authentication" class="md-nav__link">NTLM authentication</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#tls-https-settings" class="md-nav__link">TLS/HTTPS settings</a>
        </li>
        <li class="md-nav__item"><a href="#ntlm-credential-pass-through" class="md-nav__link">NTLM credential pass-through</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="sb-sql-server-connector">
<h1 id="connector-starburst-sqlserver--page-root">Starburst SQL Server connector<a class="headerlink" href="#connector-starburst-sqlserver--page-root" title="Permalink to this heading">#</a></h1>
<img class="connector-logo" src="../_static/img/sqlserver.png"/><p>The Starburst SQL Server Connector is an extended version of the
<a class="reference internal" href="sqlserver.html"><span class="doc">SQL Server connector</span></a> with configuration and usage identical.</p>
<p>The following improvements are included:</p>
<section id="requirements">
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Fulfill the <a class="reference internal" href="sqlserver.html"><span class="doc">SQL Server connector</span></a> requirements.</p></li>
<li><p>Additional features of the connector require a valid
<a class="reference internal" href="../installation/license-requirements.html"><span class="doc">Starburst Enterprise license</span></a>, unless otherwise noted.</p></li>
</ul>
</section>
<section id="configuration">
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">#</a></h2>
<p>The connector configuration is identical to the configuration for the base
<a class="reference internal" href="sqlserver.html"><span class="doc">SQL Server connector</span></a>.</p>
<p>A minimal configuration, with the connector-name <code class="docutils literal notranslate"><span class="pre">sqlserver</span></code> and the JDBC
connections details, is shown in the following snippet. If you do not have the
necessary configuration established, you can disable encryption in the
connection string with the encrypt property:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">sqlserver</span>
<span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:sqlserver://&lt;host&gt;:&lt;port&gt;;database=&lt;database&gt;;encrypt=false</span>
<span class="na">connection-user</span><span class="o">=</span><span class="s">sqlserver_username</span>
<span class="na">connection-password</span><span class="o">=</span><span class="s">sqlserver_password</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">connection-url</span></code> parameter can use any valid JDBC connection string
supported by the <a class="reference external" href="https://docs.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-ver15">SQL Server JDBC driver</a>.
This allows you to specify a SQL Server instance and other parameters as desired
in your specific use case.</p>
<section id="dynamic-catalog-selection">
<h3 id="dynamic-catalog-selection">Dynamic catalog selection<a class="headerlink" href="#dynamic-catalog-selection" title="Permalink to this heading">#</a></h3>
<p>The default configuration, such as in a file <code class="docutils literal notranslate"><span class="pre">etc/oursqlserver.properties</span></code>,
enables the connection to one database running on a SQL Server instance.</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">sqlserver</span>
<span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:sqlserver://dbserver.example.com:1443/exampledb;encrypt=false</span>
</pre></div>
</div>
<p>The connector supports connecting to multiple SQL Server databases using a
single catalog by setting an <code class="docutils literal notranslate"><span class="pre">override_catalog</span></code> session property. This support
has to be enabled in the catalog properties file with the
<code class="docutils literal notranslate"><span class="pre">sqlserver.override-catalog.enabled</span></code> property:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector.name</span><span class="o">=</span><span class="s">sqlserver</span>
<span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:sqlserver://dbserver.example.com:1443/exampledb;encrypt=false</span>
<span class="na">sqlserver.override-catalog.enabled</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
<p>With sufficient access rights, available to the user specified in
<code class="docutils literal notranslate"><span class="pre">connection-user</span></code>, the preceding example allows you to query any table in any
schema in the database <code class="docutils literal notranslate"><span class="pre">exampledb</span></code> on the SQL Server <code class="docutils literal notranslate"><span class="pre">dbserver</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">oursqlserver</span><span class="p">.</span><span class="n">exampleschema</span><span class="p">.</span><span class="n">exampletable</span><span class="p">;</span>
</pre></div>
</div>
<p>In order to query another database, such as <code class="docutils literal notranslate"><span class="pre">testdb</span></code>, you have to override the
database configured in the catalog. From then on you can query that database in
the current user session:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="k">SESSION</span> <span class="n">oursqlserver</span><span class="p">.</span><span class="n">override_catalog</span><span class="o">=</span><span class="n">testdb</span><span class="p">;</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">oursqlserver</span><span class="p">.</span><span class="n">testdbschema</span><span class="p">.</span><span class="n">testdbtable</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The access rights to the databases, schemas, tables and actual rows, continue
to be determined by the configured user for the connection, and any other
security setup like impersonation or Apache Ranger integration. Make sure
these access rights are as restrictive as required.</p>
</div>
</section>
</section>
<section id="type-mapping">
<h2 id="type-mapping">Type mapping<a class="headerlink" href="#type-mapping" title="Permalink to this heading">#</a></h2>
<p>Because SEP and SQL Server each support types that the other does not, this
connector modifies some types when reading or writing data.</p>
<section id="sql-server-to-sep-type-mapping">
<h3 id="sql-server-to-sep-type-mapping">SQL Server to SEP type mapping<a class="headerlink" href="#sql-server-to-sep-type-mapping" title="Permalink to this heading">#</a></h3>
<p>The following read type mapping applies when data is read from existing tables
in SQL Server, or inserted into existing tables in SQL Server from SEP.</p>
<table id="id1">
<caption><span class="caption-text">SQL Server to SEP read type mapping</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 30%"/>
<col style="width: 30%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SQL Server type</p></th>
<th class="head"><p>SEP type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BIT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s),</span> <span class="pre">``NUMERIC(p,</span> <span class="pre">s)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td><p>for <code class="docutils literal notranslate"><span class="pre">p</span></code> &lt;= 38</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span> <span class="pre">PRECISION</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FLOAT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BINARY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NCHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NVARCHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DATETIME2(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
<p>No other types are supported.</p>
</section>
<section id="sep-to-sql-server-type-mapping">
<h3 id="sep-to-sql-server-type-mapping">SEP to SQL Server type mapping<a class="headerlink" href="#sep-to-sql-server-type-mapping" title="Permalink to this heading">#</a></h3>
<p>The following write type mapping applies when tables are created in
SQL Server from SEP.</p>
<table id="id2">
<caption><span class="caption-text">SEP to SQL Server write type mapping</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 30%"/>
<col style="width: 30%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SEP type</p></th>
<th class="head"><p>SQL Server type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span> <span class="pre">PRECISION</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n</span> <span class="pre">&lt;=</span> <span class="pre">4000)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NCHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n</span> <span class="pre">&gt;</span> <span class="pre">4000)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NVARCHAR(max)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n</span> <span class="pre">&lt;=</span> <span class="pre">4000)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NVARCHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR,</span> <span class="pre">VARCHAR(n</span> <span class="pre">&gt;</span> <span class="pre">4000)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NVARCHAR(max)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY(max)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(n</span> <span class="pre">&lt;=</span> <span class="pre">7)</span></code> without timezone</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATETIME2(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(n</span> <span class="pre">&gt;</span> <span class="pre">7)</span></code> without timezone</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATETIME2(7)</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="sql-support">
<span id="sb-sqlserver-sql"></span><h2 id="sql-support">SQL support<a class="headerlink" href="#sql-support" title="Permalink to this heading">#</a></h2>
<p>The connector supports all of the SQL statements listed in the <a class="reference internal" href="sqlserver.html#sqlserver-sql-support"><span class="std std-ref">SQL Server
connector documentation</span></a>.</p>
<p>The following section describes additional SQL operations that are supported by
SEP enhancements to the Trino connector.</p>
<section id="insert">
<span id="sb-sqlserver-insert"></span><h3 id="insert">Insert<a class="headerlink" href="#insert" title="Permalink to this heading">#</a></h3>
<p>The connector supports adding rows using <a class="reference internal" href="../sql/insert.html"><span class="doc">INSERT statements</span></a>.
By default, data insertion is performed by writing data to a temporary table.
You can skip this step to improve performance and write directly to the target
table. Set the catalog property <code class="docutils literal notranslate"><span class="pre">sqlserver.non-transactional-insert.enabled</span></code>
or the corresponding  catalog session property <code class="docutils literal notranslate"><span class="pre">non_transactional_insert</span></code> to
<code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>In rare cases when exceptions occur during the insert operation, data in
the target table can be corrupted. Since transactions have been disabled, no
rollback can be performed.</p>
</section>
</section>
<section id="performance">
<h2 id="performance">Performance<a class="headerlink" href="#performance" title="Permalink to this heading">#</a></h2>
<p>The connector includes a number of performance improvements, detailed in the
following sections.</p>
<section id="parallelism">
<span id="sqlserver-parallelism"></span><h3 id="parallelism">Parallelism<a class="headerlink" href="#parallelism" title="Permalink to this heading">#</a></h3>
<p>The connector is able to read data from SQL Server using multiple parallel
connections for tables partitioned as described in
the <a class="reference external" href="https://learn.microsoft.com/en-us/sql/relational-databases/partitions/partitioned-tables-and-indexes?view=sql-server-ver16">SQL Server partitioning documentation</a>.</p>
<table id="id3">
<caption><span class="caption-text">SQL Server parallelism configuration properties</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 25%"/>
<col style="width: 50%"/>
<col style="width: 25%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sqlserver.parallel.connections-count</span></code></p></td>
<td><p>Defines the maximum number of parallel splits during query execution. Use
this property to limit the number of splits for tables with a large number
of partitions to avoid opening a large number of connections. The default
value of <code class="docutils literal notranslate"><span class="pre">1</span></code> disables parallelism. The maximum number of connections is
automatically limited to the number of partitions in the table; if this
number is set higher, it is ignored, and the number of partitions
used instead.</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p>In the event that multiple parallel connections result in a deadlocked state,
the connector attempts to retry the operation up to 3 times.</p>
</section>
<section id="dynamic-filtering">
<h3 id="dynamic-filtering">Dynamic filtering<a class="headerlink" href="#dynamic-filtering" title="Permalink to this heading">#</a></h3>
<p><a class="reference internal" href="../admin/dynamic-filtering.html"><span class="doc">Dynamic filtering</span></a> is enabled by default. It
causes the connector to wait for dynamic filtering to complete before starting a
JDBC query.</p>
<p>You can disable dynamic filtering by setting the  <code class="docutils literal notranslate"><span class="pre">dynamic-filtering.enabled</span></code>
property in your catalog configuration file to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<section id="wait-timeout">
<h4 id="wait-timeout">Wait timeout<a class="headerlink" href="#wait-timeout" title="Permalink to this heading">#</a></h4>
<p>By default, table scans on the connector are delayed up to 20 seconds until
dynamic filters are collected from the build side of joins. Using a large
timeout can potentially result in more detailed dynamic filters.
However, it can also increase latency for some queries.</p>
<p>You can configure the <code class="docutils literal notranslate"><span class="pre">dynamic-filtering.wait-timeout</span></code> property in your
catalog properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">dynamic-filtering.wait-timeout</span><span class="o">=</span><span class="s">1m</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">dynamic_filtering_wait_timeout</span></code> <a class="reference internal" href="../sql/set-session.html"><span class="doc">catalog session
property</span></a> in a specific session:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>SET SESSION catalogname.dynamic_filtering_wait_timeout = 1s;
</pre></div>
</div>
</section>
<section id="compaction">
<h4 id="compaction">Compaction<a class="headerlink" href="#compaction" title="Permalink to this heading">#</a></h4>
<p>The maximum size of dynamic filter predicate, that is pushed down to the
connector during table scan for a column, is configured using the
<code class="docutils literal notranslate"><span class="pre">domain-compaction-threshold</span></code> property in the catalog
properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">domain-compaction-threshold</span><span class="o">=</span><span class="s">100</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">domain_compaction_threshold</span></code> catalog
session property:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>SET SESSION domain_compaction_threshold = 10;
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">domain-compaction-threshold</span></code> is set to <code class="docutils literal notranslate"><span class="pre">32</span></code>.
When the dynamic predicate for a column exceeds this threshold, it is compacted
into a single range predicate.</p>
<p>For example, if the dynamic filter collected for a date column <code class="docutils literal notranslate"><span class="pre">dt</span></code> on the
fact table selects more than 32 days, the filtering condition is simplified from
<code class="docutils literal notranslate"><span class="pre">dt</span> <span class="pre">IN</span> <span class="pre">('2020-01-10',</span> <span class="pre">'2020-01-12',...,</span> <span class="pre">'2020-05-30')</span></code> to <code class="docutils literal notranslate"><span class="pre">dt</span> <span class="pre">BETWEEN</span>
<span class="pre">'2020-01-10'</span> <span class="pre">AND</span> <span class="pre">'2020-05-30'</span></code>. Using a large threshold can result in increased
table scan overhead due to a large <code class="docutils literal notranslate"><span class="pre">IN</span></code> list getting pushed down to the data
source.</p>
</section>
<section id="metrics">
<h4 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Permalink to this heading">#</a></h4>
<p>Metrics about dynamic filtering are reported in a JMX table for each catalog:</p>
<p><code class="docutils literal notranslate"><span class="pre">jmx.current."io.trino.plugin.jdbc:name=catalogname,type=dynamicfilteringstats"</span></code></p>
<p>Metrics include information about the total number of dynamic filters, the
number of completed dynamic filters, the number of available dynamic filters and
the time spent waiting for dynamic filters.</p>
</section>
</section>
<section id="pushdown">
<h3 id="pushdown">Pushdown<a class="headerlink" href="#pushdown" title="Permalink to this heading">#</a></h3>
<p>The connector supports <a class="reference internal" href="../optimizer/pushdown.html"><span class="doc">pushdown</span></a> of all operations
listed in the <a class="reference internal" href="sqlserver.html#sqlserver-pushdown"><span class="std std-ref">SQL Server connector documentation</span></a>.</p>
</section>
<section id="sb-cached-views">
<h3 id="sb-cached-views">Starburst Cached Views<a class="headerlink" href="#sb-cached-views" title="Permalink to this heading">#</a></h3>
<p>The connectors supports <a class="reference internal" href="../admin/table-scan-redirection.html"><span class="doc">table scan redirection</span></a> to improve performance and reduce load on the
data source.</p>
</section>
</section>
<section id="security">
<h2 id="security">Security<a class="headerlink" href="#security" title="Permalink to this heading">#</a></h2>
<p>The connector includes a number of security-related features, detailed in the
following sections.</p>
<section id="user-impersonation">
<h3 id="user-impersonation">User impersonation<a class="headerlink" href="#user-impersonation" title="Permalink to this heading">#</a></h3>
<p>The SQL Server connector supports <a class="reference internal" href="../security/impersonation.html"><span class="doc">user impersonation</span></a>.</p>
<p>User impersonation can be enabled in the catalog file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sqlserver.impersonation.enabled=true
</pre></div>
</div>
<p>User impersonation in SQL Server connector is based on <code class="docutils literal notranslate"><span class="pre">EXECUTE</span> <span class="pre">AS</span> <span class="pre">USER</span></code>.
For more details visit: <a class="reference external" href="https://docs.microsoft.com/en-us/sql/t-sql/statements/execute-as-transact-sql?view=sql-server-2017">docs.microsoft.com</a>.</p>
</section>
<section id="kerberos-authentication">
<h3 id="kerberos-authentication">Kerberos authentication<a class="headerlink" href="#kerberos-authentication" title="Permalink to this heading">#</a></h3>
<p>The connector supports <a class="reference internal" href="../security/kerberos.html"><span class="doc">Kerberos authentication</span></a>. Use the following properties
in the catalog properties file to configure it.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>sqlserver.authentication.type=KERBEROS
kerberos.client.principal=example@example.com
kerberos.client.keytab=etc/kerberos/example.keytab
kerberos.config=etc/kerberos/krb5.conf
</pre></div>
</div>
<p>In this example the user <code class="docutils literal notranslate"><span class="pre">example@example.com</span></code>, as defined
in the <code class="docutils literal notranslate"><span class="pre">kerberos.client.principal</span></code> property, is used to connect to the
database. The related Kerberos service ticket is located in the file defined in
the <code class="docutils literal notranslate"><span class="pre">kerberos.client.keytab</span></code> property.</p>
</section>
<section id="kerberos-credential-pass-through">
<span id="sqlserver-kerberos-passthrough"></span><h3 id="kerberos-credential-pass-through">Kerberos credential pass-through<a class="headerlink" href="#kerberos-credential-pass-through" title="Permalink to this heading">#</a></h3>
<p>The connector can be configured to pass through Kerberos credentials, received
by SEP, to the SQL server database. This allows you to apply Kerberos-defined
permissions to SQL Server connections through SEP.</p>
<p>To configure credential pass-through in Kerberos and SEP, see
<a class="reference internal" href="../security/kerberos-passthrough.html"><span class="doc">Kerberos credential pass-through</span></a>.</p>
<p>After you configure Kerberos and SEP, edit the catalog properties file to
enable the connector to pass the credentials to the SQL Server
database. Configure the following Kerberos client configuration properties in
the catalog properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">sqlserver.authentication.type</span><span class="o">=</span><span class="s">KERBEROS_PASS_THROUGH</span>
<span class="na">http.authentication.krb5.config</span><span class="o">=</span><span class="s">/etc/krb5.conf</span>
<span class="na">http-server.authentication.krb5.service-name</span><span class="o">=</span><span class="s">exampleServiceName</span>
<span class="na">http-server.authentication.krb5.keytab</span><span class="o">=</span><span class="s">/path/to/Keytab/File</span>
</pre></div>
</div>
<p>Any SQL server database accessed using SEP is now subject to the
Kerberos-defined data access restrictions and permissions.</p>
</section>
<section id="password-credential-pass-through">
<h3 id="password-credential-pass-through">Password credential pass-through<a class="headerlink" href="#password-credential-pass-through" title="Permalink to this heading">#</a></h3>
<p>The connector supports <a class="reference internal" href="../security/password-passthrough.html"><span class="doc">password credential pass-through</span></a>. To enable it, edit the catalog properties
file to include the authentication type:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">sqlserver.authentication.type</span><span class="o">=</span><span class="s">PASSWORD_PASS_THROUGH</span>
</pre></div>
</div>
</section>
<section id="ntlm-authentication">
<h3 id="ntlm-authentication">NTLM authentication<a class="headerlink" href="#ntlm-authentication" title="Permalink to this heading">#</a></h3>
<p>The connector supports NTLM authentication as an alternative to Kerberos
authentication for environments where Kerberos auth is not feasible.</p>
<p>To enable NTLM authentication, configure the following properties in the catalog
properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connection-user</span><span class="o">=</span><span class="s">ad_username</span>
<span class="na">connection-password</span><span class="o">=</span><span class="s">ad_password</span>
<span class="na">sqlserver.authentication.type</span><span class="o">=</span><span class="s">NTLM_PASSWORD</span>
</pre></div>
</div>
<p>In this example, the user <code class="docutils literal notranslate"><span class="pre">ad_username</span></code> and password <code class="docutils literal notranslate"><span class="pre">ad_password</span></code> are
Active Directory credentials for a single user who has underlying access to the
data source.</p>
<section id="tls-https-settings">
<h4 id="tls-https-settings">TLS/HTTPS settings<a class="headerlink" href="#tls-https-settings" title="Permalink to this heading">#</a></h4>
<p>Microsoft strongly suggests <a class="reference external" href="https://docs.microsoft.com/sql/connect/jdbc/using-ntlm-authentication-to-connect-to-sql-server?view=sql-server-ver15#security-risks">encrypting traffic using TLS</a>
when using NTLM authentication.</p>
<p>If you have globally-trusted certificates installed on both SEP and the data
source, enable TLS by appending the <code class="docutils literal notranslate"><span class="pre">encrypt=true</span></code> parameter to the
<code class="docutils literal notranslate"><span class="pre">connection-url</span></code> catalog configuration property:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connection-url</span><span class="o">=</span><span class="s">jdbc:sqlserver://&lt;host&gt;:&lt;port&gt;;database=&lt;database&gt;;encrypt=true</span>
</pre></div>
</div>
<p>If you do not have globally-trusted certificates installed, you can instead
use certificates trusted by a custom truststore. The following catalog
configuration properties manage custom truststore configuration for the SQL
Server connector:</p>
<table id="id4">
<caption><span class="caption-text">TLS truststore configuration properties</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%"/>
<col style="width: 67%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sqlserver.tls.truststore-path</span></code></p></td>
<td><p>Path to the truststore file in SEP.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sqlserver.tls.truststore-password</span></code></p></td>
<td><p>Password used to generate the truststore file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sqlserver.tls.truststore-type</span></code></p></td>
<td><p>The type of truststore. Supports either <code class="docutils literal notranslate"><span class="pre">JKS</span></code> or <code class="docutils literal notranslate"><span class="pre">PKCS12</span></code> as values.</p></td>
</tr>
</tbody>
</table>
<p>The following catalog properties configuration specifies a custom JKS truststore
to enable TLS for NTLM authentication:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">sqlserver.tls.truststore-path</span><span class="o">=</span><span class="s">path/to/truststore.jks</span>
<span class="na">sqlserver.tls.truststore-password</span><span class="o">=</span><span class="s">insecurepassword</span>
<span class="na">sqlserver.tls.truststore-type</span><span class="o">=</span><span class="s">JKS</span>
</pre></div>
</div>
</section>
<section id="ntlm-credential-pass-through">
<h4 id="ntlm-credential-pass-through">NTLM credential pass-through<a class="headerlink" href="#ntlm-credential-pass-through" title="Permalink to this heading">#</a></h4>
<p>THe connector supports NTLM credential pass-through. To enable this, edit the
catalog properties file to include the authentication type:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">sqlserver.authentication.type</span><span class="o">=</span><span class="s">NTLM_PASSWORD_PASS_THROUGH</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="starburst-snowflake.html" title="Starburst Snowflake connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Starburst Snowflake connector </span>
              </div>
            </a>
          
          
            <a href="starburst-synapse.html" title="Starburst Synapse connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Starburst Synapse connector </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/starburst_KO-T.png" height="26"
                  alt="Starburst Enterprise 402-e.2 LTS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright  2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>