

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Elasticsearch connector &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Google Sheets connector" href="googlesheets.html" />
    <link rel="prev" title="Druid connector" href="druid.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/connector/elasticsearch.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#connector/elasticsearch" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 389-e STS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 389-e STS</a>
          <span class="md-header-nav__topic"> Elasticsearch connector </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (380-e)" href="/380-e/">Latest LTS (380-e)</a>
      
          <a title="370-e LTS" href="/370-e/">370-e LTS</a>
      
          <a title="364-e LTS" href="/364-e/">364-e LTS</a>
      
          <a title="360-e LTS" href="/360-e/">360-e LTS</a>
      
          <a title="Latest STS (390-e)" href="/390-e/">Latest STS (390-e)</a>
      
          <a title="389-e STS" href="/389-e/">389-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/get-started/index.html" class="md-tabs__link">Get started</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/ecosystems/index.html" class="md-tabs__link">Ecosystems</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../connector.html" class="md-tabs__link">Connectors</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 389-e STS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-products.html" class="md-nav__link">Data products</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="starburst-connectors.html" class="md-nav__link">Starburst connectors overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-bigquery.html" class="md-nav__link">Starburst BigQuery connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-db2.html" class="md-nav__link">Starburst IBM DB2 connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-dynamodb.html" class="md-nav__link">Starburst DynamoDB connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-delta-lake.html" class="md-nav__link">Starburst Delta Lake connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-generic-jdbc.html" class="md-nav__link">Starburst Generic JDBC connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-greenplum.html" class="md-nav__link">Starburst Greenplum connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive.html" class="md-nav__link">Starburst Hive connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive-ibm-cos.html" class="md-nav__link">- IBM Cloud Object Storage support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive-cdp.html" class="md-nav__link">- Cloudera Data Platform support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-minio.html" class="md-nav__link">- MinIO storage support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-iceberg.html" class="md-nav__link">Starburst Iceberg connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-kafka.html" class="md-nav__link">Starburst Kafka connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-mysql.html" class="md-nav__link">Starburst MySQL connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-netezza.html" class="md-nav__link">Starburst Netezza connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-oracle.html" class="md-nav__link">Starburst Oracle connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-postgresql.html" class="md-nav__link">Starburst PostgreSQL connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-redshift.html" class="md-nav__link">Starburst Redshift connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-sap-hana.html" class="md-nav__link">Starburst SAP HANA connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-salesforce.html" class="md-nav__link">Starburst Salesforce connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-memsql.html" class="md-nav__link">Starburst SingleStore (MemSQL) connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-snowflake.html" class="md-nav__link">Starburst Snowflake connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-splunk.html" class="md-nav__link">Starburst Splunk connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-sqlserver.html" class="md-nav__link">Starburst SQL Server connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-stargate.html" class="md-nav__link">Starburst Stargate</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-synapse.html" class="md-nav__link">Starburst Synapse connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-teradata.html" class="md-nav__link">Starburst Teradata connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-vertica.html" class="md-nav__link">Starburst Vertica connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="accumulo.html" class="md-nav__link">Accumulo connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="atop.html" class="md-nav__link">Atop connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="blackhole.html" class="md-nav__link">Black Hole connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="cassandra.html" class="md-nav__link">Cassandra connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="clickhouse.html" class="md-nav__link">ClickHouse connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="delta-lake.html" class="md-nav__link">Delta Lake connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="druid.html" class="md-nav__link">Druid connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Elasticsearch connector </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Elasticsearch connector</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#connector-elasticsearch--page-root" class="md-nav__link">Elasticsearch connector</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#configuration" class="md-nav__link">Configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#configuration-properties" class="md-nav__link">Configuration properties</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#tls-security" class="md-nav__link">TLS security</a>
        </li>
        <li class="md-nav__item"><a href="#data-types" class="md-nav__link">Data types</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#primitive-types" class="md-nav__link">Primitive types</a>
        </li>
        <li class="md-nav__item"><a href="#array-types" class="md-nav__link">Array types</a>
        </li>
        <li class="md-nav__item"><a href="#date-types" class="md-nav__link">Date types</a>
        </li>
        <li class="md-nav__item"><a href="#raw-json-transform" class="md-nav__link">Raw JSON transform</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#special-columns" class="md-nav__link">Special columns</a>
        </li>
        <li class="md-nav__item"><a href="#full-text-queries" class="md-nav__link">Full text queries</a>
        </li>
        <li class="md-nav__item"><a href="#predicate-push-down" class="md-nav__link">Predicate push down</a>
        </li>
        <li class="md-nav__item"><a href="#pass-through-queries" class="md-nav__link">Pass-through queries</a>
        </li>
        <li class="md-nav__item"><a href="#aws-authorization" class="md-nav__link">AWS authorization</a>
        </li>
        <li class="md-nav__item"><a href="#password-authentication" class="md-nav__link">Password authentication</a>
        </li>
        <li class="md-nav__item"><a href="#sql-support" class="md-nav__link">SQL support</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="googlesheets.html" class="md-nav__link">Google Sheets connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="jmx.html" class="md-nav__link">JMX connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kinesis.html" class="md-nav__link">Kinesis connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kudu.html" class="md-nav__link">Kudu connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="localfile.html" class="md-nav__link">Local file connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="mariadb.html" class="md-nav__link">MariaDB connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="memory.html" class="md-nav__link">Memory connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="mongodb.html" class="md-nav__link">MongoDB connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="phoenix.html" class="md-nav__link">Phoenix connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="pinot.html" class="md-nav__link">Pinot connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="prometheus.html" class="md-nav__link">Prometheus connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="redis.html" class="md-nav__link">Redis connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="system.html" class="md-nav__link">System connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="thrift.html" class="md-nav__link">Thrift connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="tpcds.html" class="md-nav__link">TPCDS connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="tpch.html" class="md-nav__link">TPCH connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="bigquery.html" class="md-nav__link">BigQuery connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hive.html" class="md-nav__link">Hive connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="iceberg.html" class="md-nav__link">Iceberg connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kafka.html" class="md-nav__link">Kafka connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="mysql.html" class="md-nav__link">MySQL connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oracle.html" class="md-nav__link">Oracle connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="postgresql.html" class="md-nav__link">PostgreSQL connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="redshift.html" class="md-nav__link">Redshift connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="memsql.html" class="md-nav__link">SingleStore (MemSQL) connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sqlserver.html" class="md-nav__link">SQL Server connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hbase.html" class="md-nav__link"> </a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">389-e STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#connector-elasticsearch--page-root" class="md-nav__link">Elasticsearch connector</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#configuration" class="md-nav__link">Configuration</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#configuration-properties" class="md-nav__link">Configuration properties</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#tls-security" class="md-nav__link">TLS security</a>
        </li>
        <li class="md-nav__item"><a href="#data-types" class="md-nav__link">Data types</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#primitive-types" class="md-nav__link">Primitive types</a>
        </li>
        <li class="md-nav__item"><a href="#array-types" class="md-nav__link">Array types</a>
        </li>
        <li class="md-nav__item"><a href="#date-types" class="md-nav__link">Date types</a>
        </li>
        <li class="md-nav__item"><a href="#raw-json-transform" class="md-nav__link">Raw JSON transform</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#special-columns" class="md-nav__link">Special columns</a>
        </li>
        <li class="md-nav__item"><a href="#full-text-queries" class="md-nav__link">Full text queries</a>
        </li>
        <li class="md-nav__item"><a href="#predicate-push-down" class="md-nav__link">Predicate push down</a>
        </li>
        <li class="md-nav__item"><a href="#pass-through-queries" class="md-nav__link">Pass-through queries</a>
        </li>
        <li class="md-nav__item"><a href="#aws-authorization" class="md-nav__link">AWS authorization</a>
        </li>
        <li class="md-nav__item"><a href="#password-authentication" class="md-nav__link">Password authentication</a>
        </li>
        <li class="md-nav__item"><a href="#sql-support" class="md-nav__link">SQL support</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="connector-elasticsearch--page-root">Elasticsearch connector<a class="headerlink" href="#connector-elasticsearch--page-root" title="Permalink to this headline">#</a></h1>
<img class="connector-logo" src="../_static/img/elasticsearch.png"/><p>The Elasticsearch Connector allows access to <a class="reference external" href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a> data from Trino.
This document describes how to setup the Elasticsearch Connector to run SQL queries against Elasticsearch.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Elasticsearch (6.6.0 or later) or OpenSearch (1.1.0 or later) is required.</p>
</div>

<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h2>
<p>To configure the Elasticsearch connector, create a catalog properties file
<code class="docutils literal notranslate"><span class="pre">etc/catalog/elasticsearch.properties</span></code> with the following contents,
replacing the properties as appropriate:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>connector.name=elasticsearch
elasticsearch.host=localhost
elasticsearch.port=9200
elasticsearch.default-schema-name=default
</pre></div>
</div>

<h3 id="configuration-properties">Configuration properties<a class="headerlink" href="#configuration-properties" title="Permalink to this headline">#</a></h3>
<table id="id2">
<caption><span class="caption-text">Elasticsearch configuration properties</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 35%"/>
<col style="width: 55%"/>
<col style="width: 10%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.host</span></code></p></td>
<td><p>Hostname of the Elasticsearch node to connect to. This property is
required.</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.port</span></code></p></td>
<td><p>Port of the Elasticsearch node to connect to.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">9200</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.default-schema-name</span></code></p></td>
<td><p>The schema that contains all tables defined without a qualifying schema
name.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">default</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.scroll-size</span></code></p></td>
<td><p>Sets the maximum number of hits that can be returned with each
Elasticsearch scroll request.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.scroll-timeout</span></code></p></td>
<td><p>Amount of time Elasticsearch keeps the
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html#scroll-search-context">search context</a>
alive for scroll requests.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1m</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.request-timeout</span></code></p></td>
<td><p>Timeout value for all Elasticsearch requests.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.connect-timeout</span></code></p></td>
<td><p>Timeout value for all Elasticsearch connection attempts.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.backoff-init-delay</span></code></p></td>
<td><p>The minimum duration between backpressure retry attempts for a single
request to Elasticsearch. Setting it too low might overwhelm an already
struggling ES cluster.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">500ms</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.backoff-max-delay</span></code></p></td>
<td><p>The maximum duration between backpressure retry attempts for a single
request to Elasticsearch.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.max-retry-time</span></code></p></td>
<td><p>The maximum duration across all retry attempts for a single request to
Elasticsearch.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.node-refresh-interval</span></code></p></td>
<td><p>How often the list of available Elasticsearch nodes is refreshed.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1m</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.ignore-publish-address</span></code></p></td>
<td><p>Disables using the address published by Elasticsearch to connect for
queries.</p></td>
<td></td>
</tr>
</tbody>
</table>



<h2 id="tls-security">TLS security<a class="headerlink" href="#tls-security" title="Permalink to this headline">#</a></h2>
<p>The Elasticsearch connector provides additional security options to support
Elasticsearch clusters that have been configured to use TLS.</p>
<p>If your cluster has globally-trusted certificates, you should only need to
enable TLS. If you require custom configuration for certificates, the connector
supports key stores and trust stores in PEM or Java Key Store (JKS) format.</p>
<p>The allowed configuration values are:</p>
<table id="id3">
<caption><span class="caption-text">TLS Security Properties</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.enabled</span></code></p></td>
<td><p>Enables TLS security.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.keystore-path</span></code></p></td>
<td><p>The path to the PEM or JKS key store. This file must be readable by the
operating system user running Trino.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.truststore-path</span></code></p></td>
<td><p>The path to PEM or JKS trust store. This file must be readable by the
operating system user running Trino.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.keystore-password</span></code></p></td>
<td><p>The key password for the key store specified by
<code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.keystore-path</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.truststore-password</span></code></p></td>
<td><p>The key password for the trust store specified by
<code class="docutils literal notranslate"><span class="pre">elasticsearch.tls.truststore-path</span></code>.</p></td>
</tr>
</tbody>
</table>


<h2 id="data-types">Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">#</a></h2>
<p>The data type mappings are as follows:</p>

<h3 id="primitive-types">Primitive types<a class="headerlink" href="#primitive-types" title="Permalink to this headline">#</a></h3>
<table>
<colgroup>
<col style="width: 50%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Elasticsearch</p></th>
<th class="head"><p>Trino</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">binary</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">byte</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">short</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">integer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">long</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">keyword</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ip</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IPADDRESS</span></code></p></td>
</tr>
<tr class="row-even"><td><p>(all others)</p></td>
<td><p>(unsupported)</p></td>
</tr>
</tbody>
</table>


<span id="elasticsearch-array-types"></span><h3 id="array-types">Array types<a class="headerlink" href="#array-types" title="Permalink to this headline">#</a></h3>
<p>Fields in Elasticsearch can contain <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/array.html">zero or more values</a>
, but there is no dedicated array type. To indicate a field contains an array, it can be annotated in a Trino-specific structure in
the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-meta-field.html">_meta</a> section of the index mapping.</p>
<p>For example, you can have an Elasticsearch index that contains documents with the following structure:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">"array_string_field"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"trino"</span><span class="p">,</span><span class="s2">"the"</span><span class="p">,</span><span class="s2">"lean"</span><span class="p">,</span><span class="s2">"machine-ohs"</span><span class="p">],</span>
    <span class="nt">"long_field"</span><span class="p">:</span> <span class="mi">314159265359</span><span class="p">,</span>
    <span class="nt">"id_field"</span><span class="p">:</span> <span class="s2">"564e6982-88ee-4498-aa98-df9e3f6b6109"</span><span class="p">,</span>
    <span class="nt">"timestamp_field"</span><span class="p">:</span> <span class="s2">"1987-09-17T06:22:48.000Z"</span><span class="p">,</span>
    <span class="nt">"object_field"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"array_int_field"</span><span class="p">:</span> <span class="p">[</span><span class="mi">86</span><span class="p">,</span><span class="mi">75</span><span class="p">,</span><span class="mi">309</span><span class="p">],</span>
        <span class="nt">"int_field"</span><span class="p">:</span> <span class="mi">2</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The array fields of this structure can be defined by using the following command to add the field
property definition to the <code class="docutils literal notranslate"><span class="pre">_meta.trino</span></code> property of the target index mapping.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl --request PUT <span class="se">\</span>
    --url localhost:9200/doc/_mapping <span class="se">\</span>
    --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'</span>
<span class="s1">{</span>
<span class="s1">    "_meta": {</span>
<span class="s1">        "trino":{</span>
<span class="s1">            "array_string_field":{</span>
<span class="s1">                "isArray":true</span>
<span class="s1">            },</span>
<span class="s1">            "object_field":{</span>
<span class="s1">                "array_int_field":{</span>
<span class="s1">                    "isArray":true</span>
<span class="s1">                }</span>
<span class="s1">            },</span>
<span class="s1">        }</span>
<span class="s1">    }</span>
<span class="s1">}'</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not allowed to use <code class="docutils literal notranslate"><span class="pre">asRawJson</span></code> and <code class="docutils literal notranslate"><span class="pre">isArray</span></code> flags simultaneously for the same column.</p>
</div>


<h3 id="date-types">Date types<a class="headerlink" href="#date-types" title="Permalink to this headline">#</a></h3>
<p>Elasticsearch supports a wide array of <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/date.html">date</a> formats including
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#built-in-date-formats">built-in date formats</a> and also <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#custom-date-formats">custom date formats</a>.
The Elasticsearch connector supports only the default <code class="docutils literal notranslate"><span class="pre">date</span></code> type. All other
date formats including <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#built-in-date-formats">built-in date formats</a> and <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#custom-date-formats">custom date formats</a> are
not supported. Dates with the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-date-format.html#mapping-date-format">format</a> property are ignored.</p>


<h3 id="raw-json-transform">Raw JSON transform<a class="headerlink" href="#raw-json-transform" title="Permalink to this headline">#</a></h3>
<p>There are many occurrences where documents in Elasticsearch have more complex
structures that are not represented in the mapping. For example, a single
<code class="docutils literal notranslate"><span class="pre">keyword</span></code> field can have widely different content including a single
<code class="docutils literal notranslate"><span class="pre">keyword</span></code> value, an array, or a multidimensional <code class="docutils literal notranslate"><span class="pre">keyword</span></code> array with any
level of nesting.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl --request PUT <span class="se">\</span>
    --url localhost:9200/doc/_mapping <span class="se">\</span>
    --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'</span>
<span class="s1">{</span>
<span class="s1">    "properties": {</span>
<span class="s1">        "array_string_field":{</span>
<span class="s1">            "type": "keyword"</span>
<span class="s1">        }</span>
<span class="s1">    }</span>
<span class="s1">}'</span>
</pre></div>
</div>
<p>Notice for the <code class="docutils literal notranslate"><span class="pre">array_string_field</span></code> that all the following documents are legal
for Elasticsearch. See the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/array.html">Elasticsearch array documentation</a>
for more details.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="nt">"array_string_field"</span><span class="p">:</span> <span class="s2">"trino"</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">"array_string_field"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"trino"</span><span class="p">,</span><span class="s2">"is"</span><span class="p">,</span><span class="s2">"the"</span><span class="p">,</span><span class="s2">"besto"</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">"array_string_field"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"trino"</span><span class="p">,[</span><span class="s2">"is"</span><span class="p">,</span><span class="s2">"the"</span><span class="p">,</span><span class="s2">"besto"</span><span class="p">]]</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="nt">"array_string_field"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"trino"</span><span class="p">,[</span><span class="s2">"is"</span><span class="p">,[</span><span class="s2">"the"</span><span class="p">,</span><span class="s2">"besto"</span><span class="p">]]]</span>
    <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Further, Elasticsearch supports types, such as
<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/dense-vector.html">dense_vector</a>,
that are not supported in Trino. New types are constantly emerging which can
cause parsing exceptions for users that use of these types in Elasticsearch. To
manage all of these scenarios, you can transform fields to raw JSON by
annotating it in a Trino-specific structure in the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-meta-field.html">_meta</a>
section of the index mapping. This indicates to Trino that the field, and all
nested fields beneath, need to be cast to a <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> field that contains
the raw JSON content. These fields can be defined by using the following command
to add the field property definition to the <code class="docutils literal notranslate"><span class="pre">_meta.presto</span></code> property of the
target index mapping.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl --request PUT <span class="se">\</span>
    --url localhost:9200/doc/_mapping <span class="se">\</span>
    --header <span class="s1">'content-type: application/json'</span> <span class="se">\</span>
    --data <span class="s1">'</span>
<span class="s1">{</span>
<span class="s1">    "_meta": {</span>
<span class="s1">        "presto":{</span>
<span class="s1">            "array_string_field":{</span>
<span class="s1">                "asRawJson":true</span>
<span class="s1">            }</span>
<span class="s1">        }</span>
<span class="s1">    }</span>
<span class="s1">}'</span>
</pre></div>
</div>
<p>This preceding configurations causes Trino to return the <code class="docutils literal notranslate"><span class="pre">array_string_field</span></code>
field as a <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code> containing raw JSON. You can parse these fields with the
<a class="reference internal" href="../functions/json.html"><span class="doc">built-in JSON functions</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not allowed to use <code class="docutils literal notranslate"><span class="pre">asRawJson</span></code> and <code class="docutils literal notranslate"><span class="pre">isArray</span></code> flags simultaneously for the same column.</p>
</div>



<h2 id="special-columns">Special columns<a class="headerlink" href="#special-columns" title="Permalink to this headline">#</a></h2>
<p>The following hidden columns are available:</p>
<table>
<colgroup>
<col style="width: 11%"/>
<col style="width: 89%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>_id</p></td>
<td><p>The Elasticsearch document ID</p></td>
</tr>
<tr class="row-odd"><td><p>_score</p></td>
<td><p>The document score returned by the Elasticsearch query</p></td>
</tr>
<tr class="row-even"><td><p>_source</p></td>
<td><p>The source of the original document</p></td>
</tr>
</tbody>
</table>


<span id="elasticsearch-full-text-queries"></span><h2 id="full-text-queries">Full text queries<a class="headerlink" href="#full-text-queries" title="Permalink to this headline">#</a></h2>
<p>Trino SQL queries can be combined with Elasticsearch queries by providing the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax">full text query</a>
as part of the table name, separated by a colon. For example:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="ss">"tweets: +trino SQL^2"</span>
</pre></div>
</div>


<h2 id="predicate-push-down">Predicate push down<a class="headerlink" href="#predicate-push-down" title="Permalink to this headline">#</a></h2>
<p>The connector supports predicate push down of below data types:</p>
<table>
<colgroup>
<col style="width: 33%"/>
<col style="width: 33%"/>
<col style="width: 33%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Elasticsearch</p></th>
<th class="head"><p>Trino</p></th>
<th class="head"><p>Supports</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">binary</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">byte</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">short</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">integer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">long</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">keyword</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">YES</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ip</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IPADDRESS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO</span></code></p></td>
</tr>
<tr class="row-even"><td><p>(all others)</p></td>
<td><p>(unsupported)</p></td>
<td><p>(unsupported)</p></td>
</tr>
</tbody>
</table>


<h2 id="pass-through-queries">Pass-through queries<a class="headerlink" href="#pass-through-queries" title="Permalink to this headline">#</a></h2>
<p>The Elasticsearch connector allows you to embed any valid Elasticsearch query,
that uses the <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html">Elasticsearch Query DSL</a>
in your SQL query.</p>
<p>The results can then be used in any SQL statement, wrapping the Elasticsearch
query. The syntax extends the syntax of the enhanced Elasticsearch table names
with the following:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">es</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="ss">"&lt;index&gt;$query:&lt;es-query&gt;"</span>
</pre></div>
</div>
<p>The Elasticsearch query string <code class="docutils literal notranslate"><span class="pre">es-query</span></code> is base32-encoded to avoid having to
deal with escaping quotes and case sensitivity issues in table identifiers.</p>
<p>The result of these query tables is a table with a single row and a single
column named <code class="docutils literal notranslate"><span class="pre">result</span></code> of type VARCHAR. It contains the JSON payload returned
by Elasticsearch, and can be processed with the <a class="reference internal" href="../functions/json.html"><span class="doc">built-in JSON functions</span></a>.</p>


<h2 id="aws-authorization">AWS authorization<a class="headerlink" href="#aws-authorization" title="Permalink to this headline">#</a></h2>
<p>To enable AWS authorization using IAM policies, the <code class="docutils literal notranslate"><span class="pre">elasticsearch.security</span></code> option needs to be set to <code class="docutils literal notranslate"><span class="pre">AWS</span></code>.
Additionally, the following options need to be configured appropriately:</p>
<table>
<colgroup>
<col style="width: 38%"/>
<col style="width: 62%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.aws.region</span></code></p></td>
<td><p>AWS region or the Elasticsearch endpoint. This option is required.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.aws.access-key</span></code></p></td>
<td><p>AWS access key to use to connect to the Elasticsearch domain.
If not set, the Default AWS Credentials Provider chain will be used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.aws.secret-key</span></code></p></td>
<td><p>AWS secret key to use to connect to the Elasticsearch domain.
If not set, the Default AWS Credentials Provider chain will be used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.aws.iam-role</span></code></p></td>
<td><p>Optional ARN of an IAM Role to assume to connect to the Elasticsearch domain.
Note: the configured IAM user has to be able to assume this role.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.aws.external-id</span></code></p></td>
<td><p>Optional external ID to pass while assuming an AWS IAM Role.</p></td>
</tr>
</tbody>
</table>


<h2 id="password-authentication">Password authentication<a class="headerlink" href="#password-authentication" title="Permalink to this headline">#</a></h2>
<p>To enable password authentication, the <code class="docutils literal notranslate"><span class="pre">elasticsearch.security</span></code> option needs to be set to <code class="docutils literal notranslate"><span class="pre">PASSWORD</span></code>.
Additionally the following options need to be configured appropriately:</p>
<table>
<colgroup>
<col style="width: 42%"/>
<col style="width: 58%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.auth.user</span></code></p></td>
<td><p>User name to use to connect to Elasticsearch.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">elasticsearch.auth.password</span></code></p></td>
<td><p>Password to use to connect to Elasticsearch.</p></td>
</tr>
</tbody>
</table>


<span id="elasticsearch-sql-support"></span><h2 id="sql-support">SQL support<a class="headerlink" href="#sql-support" title="Permalink to this headline">#</a></h2>
<p>The connector provides <a class="reference internal" href="../language/sql-support.html#sql-globally-available"><span class="std std-ref">globally available</span></a> and
<a class="reference internal" href="../language/sql-support.html#sql-read-operations"><span class="std std-ref">read operation</span></a> statements to access data and
metadata in the Elasticsearch catalog.</p>




          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="druid.html" title="Druid connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Druid connector </span>
              </div>
            </a>
          
          
            <a href="googlesheets.html" title="Google Sheets connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Google Sheets connector </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                  alt="Starburst Enterprise 389-e STS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>