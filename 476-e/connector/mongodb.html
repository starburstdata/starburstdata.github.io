
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CY10FQPGJS"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-CY10FQPGJS');
</script>
  
  
    <title>MongoDB connector &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=bbebba6e" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css?v=0e0f969e" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css?v=c0e612e9" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css?v=87ff3654" />
    <link rel="stylesheet" type="text/css" href="../_static/sidebar.css?v=7da5440c" />
    <script src="../_static/documentation_options.js?v=a68ab161"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=e378d701"></script>
    <script src="../_static/main.js?v=45c62a64"></script>
    <script src="../_static/heap_analytics.js?v=eba036f6"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="MySQL connector" href="mysql.html" />
    <link rel="prev" title="Starburst MaxCompute connector" href="starburst-maxcompute.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" >


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/connector/mongodb.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#connector/mongodb" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.starburst.io" title="Starburst Enterprise"
          class="md-header-nav__button md-logo">
            <img src="../_static/img/Starburst_Logo_White+Blue.svg"
              alt="Starburst Enterprise 476-e.9 LTS logo">
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 476-e.9 LTS</a>
          <span class="md-header-nav__topic"> MongoDB connector </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="product-list">
    <h6 class="filter-label">Product:</h6>
  </div>
  <div id="versionsRefinementList" id="version-list" style="display:none"></div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (477-e)" href="/477-e/">Latest LTS (477-e)</a>
      
          <a title="476-e LTS" href="/476-e/">476-e LTS</a>
      
          <a title="474-e LTS" href="/474-e/">474-e LTS</a>
      
          <a title="468-e LTS" href="/468-e/">468-e LTS</a>
      
          <a title="Latest STS (475-e)" href="/475-e/">Latest STS (475-e)</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/introduction/index.html" class="md-tabs__link">Introduction</a></li>
            
            <li class="md-tabs__item"><a href="/clients/index.html" class="md-tabs__link">Clients</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../non-object-storage-connectors.html" class="md-tabs__link">Non-object storage connectors</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 476-e.9 LTS</a>
  </label>
  
  
  <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/starburst-enterprise.html">What is Starburst Enterprise?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/try/try-sep.html">Try Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learn/index.html">Learn Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Product versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.starburst.io/support.html">Get support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For all users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/sep-ui.html">Starburst Enterprise web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-ai/index.html">Starburst AI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-products.html">Data products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../insights.html">Insights</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use SQL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language.html">SQL language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">SQL statement syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">Functions and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udf.html">User-defined functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For data engineers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../catalogs.html">Define catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/materialized-views.html">Materialized views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/data-maintenance.html">Data maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">Query optimizer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Connect to data sources</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../connector.html">Connector overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage-connectors.html">Object storage connectors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../non-object-storage-connectors.html">Non-object storage connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">Cassandra connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="clickhouse.html">Clickhouse connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-cosmosdb.html">Cosmos DB connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">BigQuery connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-dynamodb.html">DynamoDB connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-db2.html">IBM Db2 connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">Elasticsearch connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-generic-jdbc.html">Generic JDBC connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-greenplum.html">Greenplum connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">Kafka connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">Kudu connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-maxcompute.html">MaxCompute connector</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MongoDB connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#multiple-mongodb-servers">Multiple MongoDB servers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-properties">Configuration properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-definition">Table definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#objectid">ObjectId</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#objectid-timestamp-functions">ObjectId timestamp functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#objectid_timestamp"><code class="docutils literal notranslate"><span class="pre">objectid_timestamp()</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="#timestamp_objectid"><code class="docutils literal notranslate"><span class="pre">timestamp_objectid()</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#fault-tolerant-execution-support">Fault-tolerant execution support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#type-mapping">Type mapping</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#mongodb-to-trino-type-mapping">MongoDB to Trino type mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trino-to-mongodb-type-mapping">Trino to MongoDB type mapping</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sql-support">SQL support</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#alter-table">ALTER TABLE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#table-functions">Table functions</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#query-database-collection-filter-table"><code class="docutils literal notranslate"><span class="pre">query(database,</span> <span class="pre">collection,</span> <span class="pre">filter)</span> <span class="pre">-&gt;</span> <span class="pre">table</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#performance">Performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#predicate-pushdown-support">Predicate pushdown support</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#security">Security</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kerberos-authentication">Kerberos authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kerberos-credential-pass-through">Kerberos credential pass-through</a></li>
<li class="toctree-l4"><a class="reference internal" href="#password-credential-pass-through">Password credential pass-through</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">MySQL connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-neo4j.html">Neo4j connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-netezza.html">Netezza connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="oracle.html">Oracle connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">PostgreSQL connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">Redshift connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-salesforce.html">Salesforce connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-sap-hana.html">SAP HANA connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="singlestore.html">SingleStore connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="snowflake.html">Snowflake connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-splunk.html">Splunk connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">SQL Server connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-synapse.html">Synapse connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata.html">Teradata connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="vertica.html">Vertica connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-connectors.html">Community-supported connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="starburst-connectors.html">Starburst connectors feature matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/cost-and-performance/index.html">Monitor and manage cost and performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For platform administrators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-topics.html">Administration topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">Performance, logging, and governance features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-rest-api.html">Starburst Enterprise REST API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deploy in cloud ecosystems</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/aws/index.html">AWS ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/google/index.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/microsoft/index.html">Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/redhat/index.html">Red Hat OpenShift</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEP deployment mechanisms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license-requirements.html">Starburst Enterprise license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s.html">Deploy with Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-admin.html">Deploy with Starburst Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">Deploy with CFT on AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Local installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Trino developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Version-specific notices and information</a></li>
</ul>
  
  
</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
  <div class="local-toc">
    <strong>Contents</strong>
    <ul>
<li><a class="reference internal" href="#">MongoDB connector</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#multiple-mongodb-servers">Multiple MongoDB servers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration-properties">Configuration properties</a></li>
<li><a class="reference internal" href="#table-definition">Table definition</a></li>
<li><a class="reference internal" href="#objectid">ObjectId</a><ul>
<li><a class="reference internal" href="#objectid-timestamp-functions">ObjectId timestamp functions</a><ul>
<li><a class="reference internal" href="#objectid_timestamp"><code class="docutils literal notranslate"><span class="pre">objectid_timestamp()</span></code></a></li>
<li><a class="reference internal" href="#timestamp_objectid"><code class="docutils literal notranslate"><span class="pre">timestamp_objectid()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#fault-tolerant-execution-support">Fault-tolerant execution support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#type-mapping">Type mapping</a><ul>
<li><a class="reference internal" href="#mongodb-to-trino-type-mapping">MongoDB to Trino type mapping</a></li>
<li><a class="reference internal" href="#trino-to-mongodb-type-mapping">Trino to MongoDB type mapping</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sql-support">SQL support</a><ul>
<li><a class="reference internal" href="#alter-table">ALTER TABLE</a></li>
<li><a class="reference internal" href="#table-functions">Table functions</a><ul>
<li><a class="reference internal" href="#query-database-collection-filter-table"><code class="docutils literal notranslate"><span class="pre">query(database,</span> <span class="pre">collection,</span> <span class="pre">filter)</span> <span class="pre">-&gt;</span> <span class="pre">table</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#performance">Performance</a><ul>
<li><a class="reference internal" href="#predicate-pushdown-support">Predicate pushdown support</a></li>
</ul>
</li>
<li><a class="reference internal" href="#security">Security</a><ul>
<li><a class="reference internal" href="#kerberos-authentication">Kerberos authentication</a></li>
<li><a class="reference internal" href="#kerberos-credential-pass-through">Kerberos credential pass-through</a></li>
<li><a class="reference internal" href="#password-credential-pass-through">Password credential pass-through</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="mongodb-connector">
<h1 id="connector-mongodb--page-root">MongoDB connector<a class="headerlink" href="#connector-mongodb--page-root" title="Link to this heading">#</a></h1>
<img class="connector-logo" src="../_static/img/mongodb.png"/><p>The MongoDB connector allows the use of <a class="reference external" href="https://www.mongodb.com/">MongoDB</a>
collections as tables in Starburst Enterprise.</p>
<p>SEP includes additional enterprise features that are built on top of the
existing Trino connector functionality. For more information on connector key
feature differences between Trino and SEP, see the <a class="reference internal" href="starburst-connectors.html#sb-document-oriented-connectors"><span class="std std-ref">connectors feature matrix</span></a>.</p>
<section id="requirements">
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Link to this heading">#</a></h2>
<p>To connect to MongoDB, you need:</p>
<ul class="simple">
<li><p>MongoDB 4.2 or higher.</p></li>
<li><p>Network access from the Trino coordinator and workers to MongoDB.
Port 27017 is the default port.</p></li>
<li><p>Write access to the <a class="reference internal" href="#table-definition-label"><span class="std std-ref">schema information collection</span></a> in MongoDB.</p></li>
<li><p>A valid <a class="reference internal" href="../license-requirements.html"><span class="doc">Starburst Enterprise license</span></a>.</p></li>
</ul>
</section>
<section id="configuration">
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">#</a></h2>
<p>To configure the MongoDB connector, create a catalog properties file that
specifies the MongoDB connector by setting the <code class="docutils literal notranslate"><span class="pre">connector.name</span></code> to <code class="docutils literal notranslate"><span class="pre">mongodb</span></code>.</p>
<p>For example, to access a database as the <code class="docutils literal notranslate"><span class="pre">example</span></code> catalog, create the file
<code class="docutils literal notranslate"><span class="pre">etc/catalog/example.properties</span></code>. Replace the connection properties as
appropriate for your setup:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>connector.name=mongodb
mongodb.connection-url=mongodb://user:pass@sample.host:27017/
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">connection-url</span></code> defines the connection information and parameters to pass
to the MongoDB driver. The supported parameters for the URL are available in the
<a class="reference external" href="https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/connection/connect/#connection-uri">MongoDB
documentation</a>.</p>
<section id="multiple-mongodb-servers">
<h3 id="multiple-mongodb-servers">Multiple MongoDB servers<a class="headerlink" href="#multiple-mongodb-servers" title="Link to this heading">#</a></h3>
<p>You can have as many catalogs as you need. If you have additional
MongoDB servers, configure another catalog.</p>
<p>To add another catalog, add a new properties file to <code class="docutils literal notranslate"><span class="pre">etc/catalog</span></code>. For example,
if you name the property file <code class="docutils literal notranslate"><span class="pre">sales.properties</span></code>, SEP creates a catalog
named <code class="docutils literal notranslate"><span class="pre">sales</span></code>.</p>
</section>
</section>
<section id="configuration-properties">
<h2 id="configuration-properties">Configuration properties<a class="headerlink" href="#configuration-properties" title="Link to this heading">#</a></h2>
<p>The following table describes catalog configuration properties for the
connector:</p>
<table>
<colgroup>
<col style="width: 27%"/>
<col style="width: 55%"/>
<col style="width: 18%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.allow-local-scheduling</span></code></p></td>
<td><p>Assign MongoDB splits to a specific worker. Set the value of this property
to <code class="docutils literal notranslate"><span class="pre">true</span></code> if SEP and MongoDB share the same cluster, and specific
MongoDB splits should be processed on the same worker and MongoDB node. Note
that a shared deployment is not recommended, and enabling this property can
lead to resource contention.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.case-insensitive-name-matching</span></code></p></td>
<td><p>Match database and collection names case insensitively.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.connection-timeout</span></code></p></td>
<td><p>The socket connection timeout in milliseconds. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> means no
timeout. This is only used when establishing a new connection.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.connection-url</span></code></p></td>
<td><p>The <a class="reference external" href="https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/connection/connect/#connection-uri">connection
url</a>
string containing the protocol, credential, and host info for use in
connecting to your MongoDB deployment. For example, the connection string
may use the format <code class="docutils literal notranslate"><span class="pre">mongodb://&lt;user&gt;:&lt;pass&gt;@&lt;host&gt;:&lt;port&gt;/?&lt;options&gt;</span></code> or
<code class="docutils literal notranslate"><span class="pre">mongodb+srv://&lt;user&gt;:&lt;pass&gt;@&lt;host&gt;/?&lt;options&gt;</span></code>, depending on the protocol
used. The user/pass credentials must be for a user with write access to the
<a class="reference internal" href="#table-definition-label"><span class="std std-ref">schema information collection</span></a>. <strong>This
property is required</strong>.</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.connections-per-host</span></code></p></td>
<td><p>The maximum number of connections allowed per host for this MongoClient
instance. Those connections are kept in a pool when idle. Once the pool is
exhausted, any operation requiring a connection blocks waiting for an
available connection.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.cursor-batch-size</span></code></p></td>
<td><p>Limits the number of elements returned in one batch. A cursor typically
fetches a batch of result objects and stores them locally. If <code class="docutils literal notranslate"><span class="pre">batchSize</span></code> is
<code class="docutils literal notranslate"><span class="pre">0</span></code>, the driverâ€™s default is used. If <code class="docutils literal notranslate"><span class="pre">batchSize</span></code> is positive, it represents
the size of each batch of objects retrieved. It can be adjusted to optimize
performance and limit data transfer. If <code class="docutils literal notranslate"><span class="pre">batchSize</span></code> is negative, it limits
the number of objects returned that fit within the max batch size limit
(usually 4MB), and the cursor is closed. For example, if <code class="docutils literal notranslate"><span class="pre">batchSize</span></code> is
<code class="docutils literal notranslate"><span class="pre">-10</span></code>, then the server returns a maximum of <code class="docutils literal notranslate"><span class="pre">10</span></code> documents, and as many as
can fit in 4MB, then closes the cursor. <strong>Do not use a batch size of <code class="docutils literal notranslate"><span class="pre">1</span></code></strong>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.dynamic-filtering.wait-timeout</span></code></p></td>
<td><p>Duration to wait for completion of dynamic filters during split generation.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.max-connection-idle-time</span></code></p></td>
<td><p>The maximum idle time of a pooled connection in milliseconds. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code>
indicates no limit to the idle time. A pooled connection that has exceeded
its idle time will be closed and replaced when necessary by a new
connection.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.max-wait-time</span></code></p></td>
<td><p>The maximum wait time in milliseconds, that a thread may wait for a
connection to become available. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> means that it does not wait.
A negative value means to wait indefinitely for a connection to become
available.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">120000</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.min-connections-per-host</span></code></p></td>
<td><p>The minimum number of connections per host for this MongoClient instance.
Those connections are kept in a pool when idle, and the pool ensures over
time that it contains at least this minimum number.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.read-preference</span></code></p></td>
<td><p>The read preference to use for queries, map-reduce, aggregation, and count.
The available values are <code class="docutils literal notranslate"><span class="pre">PRIMARY</span></code>, <code class="docutils literal notranslate"><span class="pre">PRIMARY_PREFERRED</span></code>, <code class="docutils literal notranslate"><span class="pre">SECONDARY</span></code>,
<code class="docutils literal notranslate"><span class="pre">SECONDARY_PREFERRED</span></code> and <code class="docutils literal notranslate"><span class="pre">NEAREST</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PRIMARY</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.required-replica-set</span></code></p></td>
<td><p>The required replica set name. With this option set, the MongoClient
instance performs the following actions:</p>
<ul class="simple">
<li><p>Connect in replica set mode, and discover all members of the set based on
the given servers</p></li>
<li><p>Make sure that the set name reported by all members matches the required
set name.</p></li>
<li><p>Refuse to service any requests, if authenticated user is not part of a
replica set with the required name.</p></li>
</ul>
</td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.schema-collection</span></code></p></td>
<td><p>A collection which contains schema information in each MongoDB database
should define the schema of all tables. Please refer the
<a class="reference internal" href="#table-definition-label"><span class="std std-ref">Table definition</span></a> section for the details.</p>
<p>At startup, the connector tries to guess the data type of fields based on
the <a class="reference internal" href="#mongodb-type-mapping"><span class="std std-ref">type mapping</span></a>. The initial guess can be
incorrect for your specific collection. In that case, you need to modify it
manually. Please refer the <a class="reference internal" href="#table-definition-label"><span class="std std-ref">Table definition</span></a> section for the
details. Creating new tables using <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> and <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">TABLE</span> <span class="pre">AS</span> <span class="pre">SELECT</span></code> automatically create an entry for you.</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">_schema</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.socket-timeout</span></code></p></td>
<td><p>The socket timeout in milliseconds. It is used for I/O socket read and write
operations.</p></td>
<td><p>Defaults to <code class="docutils literal notranslate"><span class="pre">0</span></code> and means no timeout.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.tls.enabled</span></code></p></td>
<td><p>Enables TLS/SSL connections to MongoDB servers.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.tls.keystore-password</span></code></p></td>
<td><p>The key password for the key store specified by <code class="docutils literal notranslate"><span class="pre">mongodb.tls.keystore-path</span></code>.</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.tls.keystore-path</span></code></p></td>
<td><p>The path to the <a class="reference internal" href="../security/inspect-pem.html"><span class="doc">PEM</span></a> or <a class="reference internal" href="../security/inspect-jks.html"><span class="doc">JKS</span></a> key store.</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.tls.truststore-password</span></code></p></td>
<td><p>The key password for the trust store specified by
<code class="docutils literal notranslate"><span class="pre">mongodb.tls.truststore-path</span></code>.</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.tls.truststore-path</span></code></p></td>
<td><p>The path to <a class="reference internal" href="../security/inspect-pem.html"><span class="doc">PEM</span></a> or <a class="reference internal" href="../security/inspect-jks.html"><span class="doc">JKS</span></a> trust store.</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">mongodb.write-concern</span></code></p></td>
<td><p>The write concern to use. The available values are <code class="docutils literal notranslate"><span class="pre">ACKNOWLEDGED</span></code>,
<code class="docutils literal notranslate"><span class="pre">JOURNALED</span></code>, <code class="docutils literal notranslate"><span class="pre">MAJORITY</span></code> and <code class="docutils literal notranslate"><span class="pre">UNACKNOWLEDGED</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ACKNOWLEDGED</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="table-definition">
<span id="table-definition-label"></span><h2 id="table-definition">Table definition<a class="headerlink" href="#table-definition" title="Link to this heading">#</a></h2>
<p>MongoDB maintains table definitions on the special collection where
<code class="docutils literal notranslate"><span class="pre">mongodb.schema-collection</span></code> configuration value specifies.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The plugin cannot detect that a collection has been deleted. You must delete the
entry by executing <code class="docutils literal notranslate"><span class="pre">db.getCollection("_schema").remove(</span> <span class="pre">{</span> <span class="pre">table:</span> <span class="pre">deleted_table_name</span> <span class="pre">})</span></code> in the MongoDB Shell. You can also drop a collection in
SEP by running <code class="docutils literal notranslate"><span class="pre">DROP</span> <span class="pre">TABLE</span> <span class="pre">table_name</span></code>.</p>
</div>
<p>A schema collection consists of a MongoDB document for a table.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
    "table": ...,
    "fields": [
          { "name" : ...,
            "type" : "varchar|bigint|boolean|double|date|array(bigint)|...",
            "hidden" : false },
            ...
        ]
    }
}
</pre></div>
</div>
<p>The connector quotes the fields for a row type when auto-generating the schema.
However, the auto-generated schema must be corrected manually in the collection
to match the information in the tables.</p>
<p>Manually altered fields must be explicitly quoted. For example, <code class="docutils literal notranslate"><span class="pre">row("UpperCase"</span> <span class="pre">varchar)</span></code>.</p>
<table>
<colgroup>
<col style="width: 10%"/>
<col style="width: 10%"/>
<col style="width: 10%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">table</span></code></p></td>
<td><p>required</p></td>
<td><p>string</p></td>
<td><p>Trino table name.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">fields</span></code></p></td>
<td><p>required</p></td>
<td><p>array</p></td>
<td><p>A list of field definitions. Each field definition creates a new column in
the Trino table.</p></td>
</tr>
</tbody>
</table>
<p>Each field definition:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{
    "name": ...,
    "type": ...,
    "hidden": ...
}
</pre></div>
</div>
<table>
<colgroup>
<col style="width: 10%"/>
<col style="width: 10%"/>
<col style="width: 10%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Required</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></td>
<td><p>required</p></td>
<td><p>string</p></td>
<td><p>Name of the column in the Trino table.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">type</span></code></p></td>
<td><p>required</p></td>
<td><p>string</p></td>
<td><p>Trino type of the column.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hidden</span></code></p></td>
<td><p>required</p></td>
<td><p>boolean</p></td>
<td><p>Hides the column from <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span> <span class="pre">&lt;table</span> <span class="pre">name&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">SELECT</span> <span class="pre">*</span></code>. Defaults to
<code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>There is no limit on field descriptions for either key or message.</p>
</section>
<section id="objectid">
<h2 id="objectid">ObjectId<a class="headerlink" href="#objectid" title="Link to this heading">#</a></h2>
<p>MongoDB collection has the special field <code class="docutils literal notranslate"><span class="pre">_id</span></code>. The connector tries to follow
the same rules for this special field, so there will be hidden field <code class="docutils literal notranslate"><span class="pre">_id</span></code>.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="k">IF</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">EXISTS</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">orderkey</span><span class="w"> </span><span class="nb">BIGINT</span><span class="p">,</span>
<span class="w">    </span><span class="n">orderstatus</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">,</span>
<span class="w">    </span><span class="n">totalprice</span><span class="w"> </span><span class="n">DOUBLE</span><span class="p">,</span>
<span class="w">    </span><span class="n">orderdate</span><span class="w"> </span><span class="nb">DATE</span>
<span class="p">);</span>

<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="s1">'bad'</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">current_date</span><span class="p">);</span>
<span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="k">VALUES</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="s1">'good'</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">current_date</span><span class="p">);</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">_id</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">orders</span><span class="p">;</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                 _id                 | orderkey | orderstatus | totalprice | orderdate
-------------------------------------+----------+-------------+------------+------------
 55 b1 51 63 38 64 d6 43 8c 61 a9 ce |        1 | bad         |       50.0 | 2015-07-23
 55 b1 51 67 38 64 d6 43 8c 61 a9 cf |        2 | good        |      100.0 | 2015-07-23
(2 rows)
</pre></div>
</div>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">_id</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ObjectId</span><span class="p">(</span><span class="s1">'55b151633864d6438c61a9ce'</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>                 _id                 | orderkey | orderstatus | totalprice | orderdate
-------------------------------------+----------+-------------+------------+------------
 55 b1 51 63 38 64 d6 43 8c 61 a9 ce |        1 | bad         |       50.0 | 2015-07-23
(1 row)
</pre></div>
</div>
<p>You can render the <code class="docutils literal notranslate"><span class="pre">_id</span></code> field to readable values with a cast to <code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="k">CAST</span><span class="p">(</span><span class="n">_id</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">),</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">orders</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ObjectId</span><span class="p">(</span><span class="s1">'55b151633864d6438c61a9ce'</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>           _id             | orderkey | orderstatus | totalprice | orderdate
---------------------------+----------+-------------+------------+------------
 55b151633864d6438c61a9ce  |        1 | bad         |       50.0 | 2015-07-23
(1 row)
</pre></div>
</div>
<section id="objectid-timestamp-functions">
<h3 id="objectid-timestamp-functions">ObjectId timestamp functions<a class="headerlink" href="#objectid-timestamp-functions" title="Link to this heading">#</a></h3>
<p>The first four bytes of each <a class="reference external" href="https://docs.mongodb.com/manual/reference/method/ObjectId">ObjectId</a> represent
an embedded timestamp of its creation time. Trino provides a couple of functions to take advantage of this MongoDB feature.</p>
<dl class="py function">
<dt class="sig sig-object py" id="objectid_timestamp">
<span class="sig-name descname"><span class="pre">objectid_timestamp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ObjectId</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">â†’</span> <span class="sig-return-typehint"><span class="pre">timestamp</span></span></span><a class="headerlink" href="#objectid_timestamp" title="Link to this definition">#</a></dt>
<dd><p>Extracts the TIMESTAMP WITH TIME ZONE from a given ObjectId:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">objectid_timestamp</span><span class="p">(</span><span class="n">ObjectId</span><span class="p">(</span><span class="s1">'507f191e810c19729de860ea'</span><span class="p">));</span>
<span class="c1">-- 2012-10-17 20:46:22.000 UTC</span>
</pre></div>
</div>
</dd></dl>
<dl class="py function">
<dt class="sig sig-object py" id="timestamp_objectid">
<span class="sig-name descname"><span class="pre">timestamp_objectid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">â†’</span> <span class="sig-return-typehint"><span class="pre">ObjectId</span></span></span><a class="headerlink" href="#timestamp_objectid" title="Link to this definition">#</a></dt>
<dd><p>Creates an ObjectId from a TIMESTAMP WITH TIME ZONE:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">timestamp_objectid</span><span class="p">(</span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="s1">'2021-08-07 17:51:36 +00:00'</span><span class="p">);</span>
<span class="c1">-- 61 0e c8 28 00 00 00 00 00 00 00 00</span>
</pre></div>
</div>
</dd></dl>
<p>In MongoDB, you can filter all the documents created after <code class="docutils literal notranslate"><span class="pre">2021-08-07</span> <span class="pre">17:51:36</span></code>
with a query like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>db.collection.find({"_id": {"$gt": ObjectId("610ec8280000000000000000")}})
</pre></div>
</div>
<p>In SEP, the same can be achieved with this query:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">collection</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">_id</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timestamp_objectid</span><span class="p">(</span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="s1">'2021-08-07 17:51:36 +00:00'</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="fault-tolerant-execution-support">
<span id="mongodb-fte-support"></span><h3 id="fault-tolerant-execution-support">Fault-tolerant execution support<a class="headerlink" href="#fault-tolerant-execution-support" title="Link to this heading">#</a></h3>
<p>The connector supports <a class="reference internal" href="../admin/fault-tolerant-execution.html"><span class="doc">Fault-tolerant execution</span></a> of query
processing. Read and write operations are both supported with any retry policy.</p>
</section>
</section>
<section id="type-mapping">
<span id="mongodb-type-mapping"></span><h2 id="type-mapping">Type mapping<a class="headerlink" href="#type-mapping" title="Link to this heading">#</a></h2>
<p>Because Trino and MongoDB each support types that the other does not, this
connector <a class="reference internal" href="../language/types.html#type-mapping-overview"><span class="std std-ref">modifies some types</span></a> when reading or
writing data. Data types may not map the same way in both directions between
Trino and the data source. Refer to the following sections for type mapping in
each direction.</p>
<section id="mongodb-to-trino-type-mapping">
<h3 id="mongodb-to-trino-type-mapping">MongoDB to Trino type mapping<a class="headerlink" href="#mongodb-to-trino-type-mapping" title="Link to this heading">#</a></h3>
<p>The connector maps MongoDB types to the corresponding Trino types following
this table:</p>
<table id="id1">
<caption><span class="caption-text">MongoDB to Trino type mapping</span><a class="headerlink" href="#id1" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 20%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>MongoDB type</p></th>
<th class="head"><p>Trino type</p></th>
<th class="head"><p>Notes</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Boolean</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Int32</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Int64</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Double</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Decimal128</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Date</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(3)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">String</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Binary</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ObjectId</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ObjectId</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Object</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROW</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Array</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ARRAY</span></code></p></td>
<td><p>Map to <code class="docutils literal notranslate"><span class="pre">ROW</span></code> if the element type is not unique.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DBRef</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROW</span></code></p></td>
<td></td>
</tr>
</tbody>
</table>
<p>No other types are supported.</p>
</section>
<section id="trino-to-mongodb-type-mapping">
<h3 id="trino-to-mongodb-type-mapping">Trino to MongoDB type mapping<a class="headerlink" href="#trino-to-mongodb-type-mapping" title="Link to this heading">#</a></h3>
<p>The connector maps Trino types to the corresponding MongoDB types following
this table:</p>
<table id="id2">
<caption><span class="caption-text">Trino to MongoDB type mapping</span><a class="headerlink" href="#id2" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 60%"/>
<col style="width: 40%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Trino type</p></th>
<th class="head"><p>MongoDB type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Boolean</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Int64</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Double</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Decimal128</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(3)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Date</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">String</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Binary</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ObjectId</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ObjectId</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ROW</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Object</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ARRAY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Array</span></code></p></td>
</tr>
</tbody>
</table>
<p>No other types are supported.</p>
</section>
</section>
<section id="sql-support">
<span id="mongodb-sql-support"></span><h2 id="sql-support">SQL support<a class="headerlink" href="#sql-support" title="Link to this heading">#</a></h2>
<p>The connector provides read and write access to data and metadata in
MongoDB. In addition to the <a class="reference internal" href="../language/sql-support.html#sql-globally-available"><span class="std std-ref">globally available</span></a> and <a class="reference internal" href="../language/sql-support.html#sql-read-operations"><span class="std std-ref">read operation</span></a>
statements, the connector supports the following features:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql/insert.html"><span class="doc">INSERT</span></a></p></li>
<li><p><a class="reference internal" href="../sql/delete.html"><span class="doc">DELETE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-table.html"><span class="doc">CREATE TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-table-as.html"><span class="doc">CREATE TABLE AS</span></a></p></li>
<li><p><a class="reference internal" href="../sql/drop-table.html"><span class="doc">DROP TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/alter-table.html"><span class="doc">ALTER TABLE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-schema.html"><span class="doc">CREATE SCHEMA</span></a></p></li>
<li><p><a class="reference internal" href="../sql/drop-schema.html"><span class="doc">DROP SCHEMA</span></a></p></li>
<li><p><a class="reference internal" href="../sql/comment.html"><span class="doc">COMMENT</span></a></p></li>
</ul>
<section id="alter-table">
<h3 id="alter-table">ALTER TABLE<a class="headerlink" href="#alter-table" title="Link to this heading">#</a></h3>
<p>The connector supports the following <a class="reference internal" href="../sql/alter-table.html"><span class="doc">ALTER TABLE</span></a> operations:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">RENAME</span> <span class="pre">TO</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">ADD</span> <span class="pre">COLUMN</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span> <span class="pre">DROP</span> <span class="pre">COLUMN</span></code></p></li>
</ul>
<p>Other uses of <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">TABLE</span></code> are not supported.</p>
</section>
<section id="table-functions">
<h3 id="table-functions">Table functions<a class="headerlink" href="#table-functions" title="Link to this heading">#</a></h3>
<p>The connector provides specific <a class="reference internal" href="../functions/table.html"><span class="doc">table functions</span></a> to
access MongoDB.</p>
<section id="query-database-collection-filter-table">
<span id="mongodb-query-function"></span><h4 id="query-database-collection-filter-table"><code class="docutils literal notranslate"><span class="pre">query(database,</span> <span class="pre">collection,</span> <span class="pre">filter)</span> <span class="pre">-&gt;</span> <span class="pre">table</span></code><a class="headerlink" href="#query-database-collection-filter-table" title="Link to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">query</span></code> function lets you query the underlying MongoDB directly. It
requires syntax native to MongoDB, because the full query is pushed down and
processed by MongoDB. This can be useful for accessing native features which are
not available in SEP or for improving query performance in situations where
running a query natively may be faster.</p>
<p>For example, get all rows where <code class="docutils literal notranslate"><span class="pre">regionkey</span></code> field is 0:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>
<span class="w">  </span><span class="o">*</span>
<span class="k">FROM</span>
<span class="w">  </span><span class="k">TABLE</span><span class="p">(</span>
<span class="w">    </span><span class="n">example</span><span class="p">.</span><span class="k">system</span><span class="p">.</span><span class="n">query</span><span class="p">(</span>
<span class="w">      </span><span class="k">database</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'tpch'</span><span class="p">,</span>
<span class="w">      </span><span class="n">collection</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'region'</span><span class="p">,</span>
<span class="w">      </span><span class="n">filter</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">'{ regionkey: 0 }'</span>
<span class="w">    </span><span class="p">)</span>
<span class="w">  </span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="performance">
<h2 id="performance">Performance<a class="headerlink" href="#performance" title="Link to this heading">#</a></h2>
<p>The connector includes a number of performance features, detailed in the
following sections.</p>
<section id="predicate-pushdown-support">
<span id="sb-mongodb-pushdown"></span><h3 id="predicate-pushdown-support">Predicate pushdown support<a class="headerlink" href="#predicate-pushdown-support" title="Link to this heading">#</a></h3>
<p>The connector supports predicate pushdown, including complex expression
predicate pushdown using <a class="reference external" href="https://www.mongodb.com/docs/manual/indexes/">MongoDB
indexing</a>. It also supports
predicate pushdown for the following functions:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../functions/json.html#json_extract_scalar" title="json_extract_scalar"><code class="xref py py-func docutils literal notranslate"><span class="pre">json_extract_scalar()</span></code></a> with the <code class="docutils literal notranslate"><span class="pre">=</span></code> and <code class="docutils literal notranslate"><span class="pre">!=</span></code> operators, on columns of
type <code class="docutils literal notranslate"><span class="pre">STRING</span></code>, <code class="docutils literal notranslate"><span class="pre">INTEGER</span></code>, <code class="docutils literal notranslate"><span class="pre">LONG</span></code>, and <code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code>.</p></li>
<li><p><a class="reference internal" href="../functions/datetime.html#from_iso8601_timestamp" title="from_iso8601_timestamp"><code class="xref py py-func docutils literal notranslate"><span class="pre">from_iso8601_timestamp()</span></code></a> on columns of type <code class="docutils literal notranslate"><span class="pre">DATE</span></code> and when used in
conjunction with <code class="docutils literal notranslate"><span class="pre">json_extract_scalar()</span></code>.</p></li>
</ul>
<p>Complex expression predicate pushdown is supported on columns of following types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(3)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span> <span class="pre">WITH</span> <span class="pre">TIMEZONE(3)</span></code></p></li>
</ul>
<p>You can configure complex predicate pushdown, by configuring the
<code class="docutils literal notranslate"><span class="pre">mongodb.complex-expression-pushdown.enabled</span></code> property in your catalog
configuration file. The equivalent session property is
<code class="docutils literal notranslate"><span class="pre">complex_expression_pushdown_enabled</span></code>. By default, this feature is set to
<code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</section>
</section>
<section id="security">
<h2 id="security">Security<a class="headerlink" href="#security" title="Link to this heading">#</a></h2>
<p>The connector includes security-related features detailed in the
following section.</p>
<section id="kerberos-authentication">
<span id="sb-mongodb-kerberos-support"></span><h3 id="kerberos-authentication">Kerberos authentication<a class="headerlink" href="#kerberos-authentication" title="Link to this heading">#</a></h3>
<p>The connector supports <a class="reference internal" href="../security/kerberos.html"><span class="doc std std-doc">Kerberos authentication</span></a> using either a keytab or
credential cache.</p>
<p>To configure Kerberos authentication with a keytab, add the following catalog
configuration properties to the catalog properties file:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">mongo.authentication.type</span><span class="o">=</span><span class="s">KERBEROS</span>
<span class="na">kerberos.client.principal</span><span class="o">=</span><span class="s">example@example.com</span>
<span class="na">kerberos.client.keytab</span><span class="o">=</span><span class="s">etc/kerberos/example.keytab</span>
<span class="na">kerberos.config</span><span class="o">=</span><span class="s">etc/kerberos/krb5.conf</span>
</pre></div>
</div>
<p>With this configuration the user <code class="docutils literal notranslate"><span class="pre">example@example.com</span></code>, defined in the
principal property, is used to connect to the database, and the related Kerberos
service ticket is located in the <code class="docutils literal notranslate"><span class="pre">example.keytab</span></code> file.</p>
<p>To configure Kerberos authentication with a credential cache, add the following
catalog configuration properties to the catalog properties file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>mongodb.authentication.type=KERBEROS
kerberos.client.principal=example@example.com
kerberos.client.credential-cache.location=etc/kerberos/example.cache
kerberos.config=etc/kerberos/krb5.conf
</pre></div>
</div>
<p>In these configurations the user <code class="docutils literal notranslate"><span class="pre">example@example.com</span></code>, as defined in the
principal property, connects to the database. The related Kerberos service
ticket is located in the <code class="docutils literal notranslate"><span class="pre">etc/kerberos/example.keytab</span></code> file, or cache
credentials in the <code class="docutils literal notranslate"><span class="pre">etc/kerberos/example.cache</span></code> file.</p>
</section>
<section id="kerberos-credential-pass-through">
<span id="sb-mongodb-kerberos-passthrough"></span><h3 id="kerberos-credential-pass-through">Kerberos credential pass-through<a class="headerlink" href="#kerberos-credential-pass-through" title="Link to this heading">#</a></h3>
<p>The connector can be configured to pass through Kerberos credentials received by
SEP to the MongoDB database. Configure Kerberos and SEP, following the
instructions in <a class="reference internal" href="../security/kerberos-passthrough.html"><span class="doc">Kerberos credential pass-through</span></a>.</p>
<p>Configure the connector to pass through the credentials from the server to the
database in your catalog properties file, and ensure the Kerberos client
configuration properties are in place on all nodes.</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">mongo.authentication.type</span><span class="o">=</span><span class="s">KERBEROS_PASS_THROUGH</span>
<span class="na">http.authentication.krb5.config</span><span class="o">=</span><span class="s">/etc/krb5.conf</span>
<span class="na">http-server.authentication.krb5.service-name</span><span class="o">=</span><span class="s">exampleServiceName</span>
<span class="na">http-server.authentication.krb5.keytab</span><span class="o">=</span><span class="s">/path/to/Keytab/File</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <a class="reference internal" href="../overview/sep-ui.html#ui-kerberos-auth"><span class="std std-ref">delegated Kerberos authentication</span></a> is configured
for the Starburst Enterprise web UI, ensure the <code class="docutils literal notranslate"><span class="pre">http-server.authentication.krb5.service-name</span></code>
property value is set to <code class="docutils literal notranslate"><span class="pre">HTTP</span></code> to match the configured Kerberos service name.</p>
</div>
<p>Now, any MongoDB database accessed using SEP is subject to the
Kerberos-defined data access restrictions and permissions.</p>
</section>
<section id="password-credential-pass-through">
<span id="sb-mongodb-password-passthrough"></span><h3 id="password-credential-pass-through">Password credential pass-through<a class="headerlink" href="#password-credential-pass-through" title="Link to this heading">#</a></h3>
<p>The connector supports <a class="reference internal" href="../security/password-passthrough.html"><span class="doc">password credential pass-through</span></a>. To enable it, edit the catalog properties
file to include the authentication type:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">mongo.authentication.type</span><span class="o">=</span><span class="s">PASSWORD_PASS_THROUGH</span>
<span class="na">mongo.authentication.source</span><span class="o">=</span>
<span class="na">mongo.authentication.mechanism</span><span class="o">=</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">mongo.authentication.source</span></code> property is the name of the database where the
userâ€™s data is stored. If the userâ€™s data is stored outside of MongoDB, set the
property value to <code class="docutils literal notranslate"><span class="pre">$external</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">mongo.authentication.mechanism</span></code> property is modeled after <a class="reference external" href="https://www.mongodb.com/docs/drivers/go/current/fundamentals/auth/">MongoDBâ€™s
authentication
mechanisms</a>
and accepts a single value from the following set defined by MongoDB:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SCRAM-SHA-1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SCRAM-SHA-256</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PLAIN</span></code></p></li>
</ul>
<p>For more information about configurations and limitations, see
<a class="reference internal" href="../security/password-passthrough.html"><span class="doc">Password credential pass-through</span></a>.</p>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Email</button>
        <a onclick="skip()" class="feedback-skip">Cancel</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="starburst-maxcompute.html" title="Starburst MaxCompute connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Starburst MaxCompute connector </span>
              </div>
            </a>
          
          
            <a href="mysql.html" title="MySQL connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> MySQL connector </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          <img src="../_static/img/Starburst_Logo_White+Blue.svg" height="34"
            alt="Starburst Enterprise 476-e.9 LTS logo">
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright Â© 2017-2025<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="https://docs.starburst.io/476-e/_static/algolia.js"></script>
<script src="https://docs.starburst.io/476-e/_static/searchbox.js" data-versions="{'Latest LTS (477-e)': '/477-e/', '476-e LTS': '/476-e/', '474-e LTS': '/474-e/', '468-e LTS': '/468-e/', 'Latest STS (475-e)': '/475-e/'}"></script>
<script src="https://docs.starburst.io/476-e/_static/searchresults.js" data-versions="{'Latest LTS (477-e)': '/477-e/', '476-e LTS': '/476-e/', '474-e LTS': '/474-e/', '468-e LTS': '/468-e/', 'Latest STS (475-e)': '/475-e/'}"></script>
  </body>
</html>