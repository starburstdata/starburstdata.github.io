
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CY10FQPGJS"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-CY10FQPGJS');
</script>
  
  
    <title>Telemetry &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=bbebba6e" />
    <link rel="stylesheet" type="text/css" href="../_static/material.css?v=79c92029" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css?v=0e0f969e" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css?v=c0e612e9" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css?v=87ff3654" />
    <link rel="stylesheet" type="text/css" href="../_static/sidebar.css?v=7da5440c" />
    <script src="../_static/documentation_options.js?v=a68ab161"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=e378d701"></script>
    <script src="../_static/main.js?v=5bbdfc95"></script>
    <script src="../_static/heap_analytics.js?v=eba036f6"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Observability with OpenTelemetry" href="opentelemetry.html" />
    <link rel="prev" title="Backend service" href="backend-service.html" />

  
   

<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" >


<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/admin/telemetry.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#admin/telemetry" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://www.starburst.io" title="Starburst Enterprise"
          class="md-header-nav__button md-logo">
            <img src="../_static/img/Starburst_Logo_White+Blue.svg"
              alt="Starburst Enterprise 476-e STS logo">
        </a>
      </div>
      <span class="header-divider"></span>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <a href="/starburst-enterprise/index.html"
          class="md-header-nav__topic">
          Documentation: Starburst Enterprise 476-e STS</a>
          <span class="md-header-nav__topic"> Telemetry </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="product-list">
    <h6 class="filter-label">Product:</h6>
  </div>
  <div id="versionsRefinementList" id="version-list" style="display:none"></div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (474-e)" href="/474-e/">Latest LTS (474-e)</a>
      
          <a title="468-e LTS" href="/468-e/">468-e LTS</a>
      
          <a title="462-e LTS" href="/462-e/">462-e LTS</a>
      
          <a title="453-e LTS" href="/453-e/">453-e LTS</a>
      
          <a title="Latest STS (475-e)" href="/475-e/">Latest STS (475-e)</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="/introduction/index.html" class="md-tabs__link">Introduction</a></li>
            
            <li class="md-tabs__item"><a href="/clients/index.html" class="md-tabs__link">Clients</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-galaxy/index.html" class="md-tabs__link">Starburst Galaxy</a></li>
            
            <li class="md-tabs__item"><a href="/starburst-enterprise/index.html" class="md-tabs__link">Starburst Enterprise</a></li>
            
            <li class="md-tabs__item"><a href="/resources.html" class="md-tabs__link">Resources</a></li>
          <li class="md-tabs__item"><a href="../admin.html" class="md-tabs__link">Performance, logging, and governance features</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 476-e STS</a>
  </label>
  
  
  <p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/starburst-enterprise.html">What is Starburst Enterprise?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../get-started/try/try-sep.html">Try Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../learn/index.html">Learn Starburst Enterprise</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Product versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.starburst.io/support.html">Get support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For all users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/sep-ui.html">Starburst Enterprise web UI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-products.html">Data products</a></li>
<li class="toctree-l1"><a class="reference internal" href="../insights.html">Insights</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use SQL</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../language.html">SQL language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">SQL statement syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">Functions and operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../udf.html">User-defined functions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For data engineers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../catalogs.html">Define catalogs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage.html">Object storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/materialized-views.html">Materialized views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/data-maintenance.html">Data maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">Query optimizer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Connect to data sources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">Connector overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../object-storage-connectors.html">Object storage connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../non-object-storage-connectors.html">Non-object storage connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community-connectors.html">Community-supported connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector/starburst-connectors.html">Starburst connectors feature matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-engineering/cost-and-performance/index.html">Monitor and manage cost and performance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For platform administrators</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../admin-topics.html">Administration topics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../admin.html">Performance, logging, and governance features</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../admin.html#feature-topic-areas">Feature topic areas</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../admin.html#properties-reference">Properties reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#performance-related-properties-and-features">Performance-related properties and features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#starburst-cached-views">Starburst Cached Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#data-governance">Data governance</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../admin.html#platform-features">Platform features</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="jmx.html">Monitoring with JMX</a></li>
<li class="toctree-l4"><a class="reference internal" href="backend-service.html">Backend service</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Telemetry</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#security">Security</a></li>
<li class="toctree-l5"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#enable-query-logging">Enable query logging</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#collected-data">Collected data</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#environmental-data">Environmental data</a></li>
<li class="toctree-l6"><a class="reference internal" href="#configuration-log-data">Configuration log data</a></li>
<li class="toctree-l6"><a class="reference internal" href="#metrics">Metrics</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#queries-executed"><code class="docutils literal notranslate"><span class="pre">queries_executed</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#queries-failed"><code class="docutils literal notranslate"><span class="pre">queries_failed</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#physical-input-bytes"><code class="docutils literal notranslate"><span class="pre">physical_input_bytes</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#physical-input-rows"><code class="docutils literal notranslate"><span class="pre">physical_input_rows</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#query-performance-and-complexity-metrics">Query performance and complexity metrics</a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#optional-query-log-data">Optional query log data</a></li>
<li class="toctree-l6"><a class="reference internal" href="#anonymized-query-statistics">Anonymized query statistics</a></li>
<li class="toctree-l6"><a class="reference internal" href="#anonymized-query-input-output-metadata">Anonymized query input-output metadata</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="opentelemetry.html">Observability with OpenTelemetry</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../admin.html#other-resources">Other resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-rest-api.html">Starburst Enterprise REST API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deploy in cloud ecosystems</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/aws/index.html">AWS ecosystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/google/index.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/microsoft/index.html">Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ecosystems/redhat/index.html">Red Hat OpenShift</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SEP deployment mechanisms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license-requirements.html">Starburst Enterprise license</a></li>
<li class="toctree-l1"><a class="reference internal" href="../k8s.html">Deploy with Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starburst-admin.html">Deploy with Starburst Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">Deploy with CFT on AWS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Local installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">Trino developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Version-specific notices and information</a></li>
</ul>
  
  
</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
  <div class="local-toc">
    <strong>Contents</strong>
    <ul>
<li><a class="reference internal" href="#">Telemetry</a><ul>
<li><a class="reference internal" href="#security">Security</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a><ul>
<li><a class="reference internal" href="#enable-query-logging">Enable query logging</a></li>
</ul>
</li>
<li><a class="reference internal" href="#collected-data">Collected data</a><ul>
<li><a class="reference internal" href="#environmental-data">Environmental data</a></li>
<li><a class="reference internal" href="#configuration-log-data">Configuration log data</a></li>
<li><a class="reference internal" href="#metrics">Metrics</a><ul>
<li><a class="reference internal" href="#queries-executed"><code class="docutils literal notranslate"><span class="pre">queries_executed</span></code></a></li>
<li><a class="reference internal" href="#queries-failed"><code class="docutils literal notranslate"><span class="pre">queries_failed</span></code></a></li>
<li><a class="reference internal" href="#physical-input-bytes"><code class="docutils literal notranslate"><span class="pre">physical_input_bytes</span></code></a></li>
<li><a class="reference internal" href="#physical-input-rows"><code class="docutils literal notranslate"><span class="pre">physical_input_rows</span></code></a></li>
<li><a class="reference internal" href="#query-performance-and-complexity-metrics">Query performance and complexity metrics</a></li>
</ul>
</li>
<li><a class="reference internal" href="#optional-query-log-data">Optional query log data</a></li>
<li><a class="reference internal" href="#anonymized-query-statistics">Anonymized query statistics</a></li>
<li><a class="reference internal" href="#anonymized-query-input-output-metadata">Anonymized query input-output metadata</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section id="telemetry">
<h1 id="admin-telemetry--page-root">Telemetry<a class="headerlink" href="#admin-telemetry--page-root" title="Link to this heading">#</a></h1>
<p>Starburst Enterprise platform (SEP) collects the following data about product performance and usage.
This information is sent to Starburst, and informs our development efforts. Starburst can
share the data with you on a per-request basis:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#telemetry-environmental-data"><span class="std std-ref">Environmental data</span></a></p></li>
<li><p><a class="reference internal" href="#telemetry-configuration-logs"><span class="std std-ref">Configuration log data</span></a></p></li>
<li><p><a class="reference internal" href="#telemetry-metrics"><span class="std std-ref">Metrics</span></a></p></li>
<li><p>Optional anonymized <a class="reference internal" href="#telemetry-enable-query-logging"><span class="std std-ref">query logs</span></a></p></li>
</ul>
<section id="security">
<h2 id="security">Security<a class="headerlink" href="#security" title="Link to this heading">#</a></h2>
<p>The collected data is sent to the following endpoints in a <a class="reference external" href="https://developers.google.com/protocol-buffers">Protobuf</a> compressed, binary format:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">https://telemetry.eng.starburstdata.net/v1/metrics</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">https://telemetry.eng.starburstdata.net/v1/logs</span></code></p></li>
</ul>
<p>All connections use TLS, and are therefore secured and data is end-to-end
encrypted.</p>
<p><code class="docutils literal notranslate"><span class="pre">telemetry.eng.starburstdata.net</span></code> uses the following static IP addresses:</p>
<ul class="simple">
<li><p>99.83.235.49</p></li>
<li><p>75.2.114.217</p></li>
</ul>
</section>
<section id="configuration">
<h2 id="configuration">Configuration<a class="headerlink" href="#configuration" title="Link to this heading">#</a></h2>
<p>Telemetry is enabled by default, with the exclusion of query logging. You must
opt-in to query logging by <a class="reference internal" href="#telemetry-enable-query-logging"><span class="std std-ref">configuring it</span></a>. All configuration properties listed here are
set in the <a class="reference internal" href="../installation/deployment.html#config-properties"><span class="std std-ref">Config properties</span></a> file.</p>
<table id="id1">
<caption><span class="caption-text">Telemetry configuration properties</span><a class="headerlink" href="#id1" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 70%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.enabled</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to completely disable the telemetry module.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.metrics-export-enabled</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable collecting and exporting metrics.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.metrics-export-interval</span></code></p></td>
<td><p>Frequency at which metrics are sent to Starburst.
Defaults to <code class="docutils literal notranslate"><span class="pre">1h</span></code>, sending approximately 100 KB of data each time.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-created</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to log queries when they are created.
Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-completed</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to log queries when they are completed.
Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-split</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> to log splits from query processing.
Defaults to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-types</span></code></p></td>
<td><p>A comma-separated list of query types to be logged.
Possible query types are <code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, <code class="docutils literal notranslate"><span class="pre">EXPLAIN</span></code>, <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span></code>,
<code class="docutils literal notranslate"><span class="pre">INSERT</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>, <code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code>, <code class="docutils literal notranslate"><span class="pre">DATA_DEFINITION</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ALTER_TABLE_EXECUTE</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-plan</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">ORIGINAL</span></code> to log the full query plan.
Defaults to <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-text</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">ORIGINAL</span></code> to log the full query text.
Defaults to <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-statistics</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">ANONYMIZED</span></code> to log anonymized query statistics. Use <code class="docutils literal notranslate"><span class="pre">ORIGINAL</span></code>
to log all query statistics information. Defaults to <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-io-metadata</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">ANONYMIZED</span></code> to log anonymized query input-output metadata. Use
<code class="docutils literal notranslate"><span class="pre">ORIGINAL</span></code> to log all query input-output metadata. Defaults to
<code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-failure-info</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">ORIGINAL</span></code> to log the full query failure info.
Defaults to <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.log-query-warnings</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">ORIGINAL</span></code> to log full query warnings.
Defaults to <code class="docutils literal notranslate"><span class="pre">DISABLED</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.config-export-enabled</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable collecting and exporting configuration.
Defaults to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.logs-export-interval</span></code></p></td>
<td><p>Duration to wait and batch more logs, before sending them to Starburst.
Defaults to <code class="docutils literal notranslate"><span class="pre">15m</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.logs-batch-size</span></code></p></td>
<td><p>Maximum number of logs entries collected, before sending them to Starburst.
Defaults to <code class="docutils literal notranslate"><span class="pre">1000</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.logs-batch-size</span></code></p></td>
<td><p>Maximum size of the logs batch, before sending it to Starburst.
Defaults to <code class="docutils literal notranslate"><span class="pre">1MB</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>All the data collected is annotated with the environmental data described
in the next section.</p>
<section id="enable-query-logging">
<span id="telemetry-enable-query-logging"></span><h3 id="enable-query-logging">Enable query logging<a class="headerlink" href="#enable-query-logging" title="Link to this heading">#</a></h3>
<p>SEP can be configured to collect the following information for every executed
query:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#telemetry-anonymized-query-statistics"><span class="std std-ref">Anonymized query statistics</span></a></p></li>
<li><p><a class="reference internal" href="#telemetry-anonymized-query-io-metadata"><span class="std std-ref">Anonymized query input-output metadata</span></a></p></li>
<li><p><a class="reference internal" href="#telemetry-query-logs"><span class="std std-ref">Query text, query plan, and failure information</span></a></p></li>
</ul>
<p>Query statistics and input-output metadata do not contain any sensitive
information and only expose performance-related metrics. This data helps Starburst
improve the user experience as well as query performance. Therefore, we
generally suggest to enable this feature in all your deployments.</p>
<p>To enable these logs use the following configurations:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">telemetry.log-completed</span><span class="o">=</span><span class="s">true</span>
<span class="na">telemetry.log-query-statistics</span><span class="o">=</span><span class="s">ANONYMIZED</span>
<span class="na">telemetry.log-query-io-metadata</span><span class="o">=</span><span class="s">ANONYMIZED</span>
</pre></div>
</div>
<p>Any query text and query plan may contain sensitive information, such as in
<code class="docutils literal notranslate"><span class="pre">WHERE</span></code> and other predicate clauses. Anonymizing the data is an opt-in feature
that must be specifically configured.</p>
<p>To configure SEP to collect the query statistics, input-output metadata, query
text, query plan, and failure info of all completed SQL queries, use the
following configuration:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">telemetry.log-completed</span><span class="o">=</span><span class="s">true</span>
<span class="na">telemetry.log-query-types</span><span class="o">=</span><span class="s">select</span>
<span class="na">telemetry.log-query-statistics</span><span class="o">=</span><span class="s">ORIGINAL</span>
<span class="na">telemetry.log-query-io-metadata</span><span class="o">=</span><span class="s">ORIGINAL</span>
<span class="na">telemetry.log-query-plan</span><span class="o">=</span><span class="s">ORIGINAL</span>
<span class="na">telemetry.log-query-text</span><span class="o">=</span><span class="s">ORIGINAL</span>
<span class="na">telemetry.log-query-failure-info</span><span class="o">=</span><span class="s">ORIGINAL</span>
</pre></div>
</div>
</section>
</section>
<section id="collected-data">
<h2 id="collected-data">Collected data<a class="headerlink" href="#collected-data" title="Link to this heading">#</a></h2>
<p>Metrics, with the exception of environmental and configuration log data, are
based on completed queries, whether successful or not. Examples of this data are
provided in the following sections.</p>
<section id="environmental-data">
<span id="telemetry-environmental-data"></span><h3 id="environmental-data">Environmental data<a class="headerlink" href="#environmental-data" title="Link to this heading">#</a></h3>
<p>The environmental data describes the ownership, licensing and service
information of every SEP cluster.</p>
<table id="id2">
<caption><span class="caption-text">SEP environment information</span><a class="headerlink" href="#id2" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">deployment.environment</span></code></p></td>
<td><p>Environment name defined in SEP.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">license.hash</span></code></p></td>
<td><p>The hash of the license file, if present.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">license.owner</span></code></p></td>
<td><p>Defined by <code class="docutils literal notranslate"><span class="pre">owner</span></code> in the SEP license file, or from the account owner
of the instance if deployed through a marketplace.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">license.type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">JSON</span></code> for Kubernetes or manual deployments, or a string indicating the
marketplace it was deployed through, such as <code class="docutils literal notranslate"><span class="pre">AWS</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">service.instance.id</span></code></p></td>
<td><p>A random UUID generated each time SEP starts.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">service.name</span></code></p></td>
<td><p>Always set to <code class="docutils literal notranslate"><span class="pre">starburst-enterprise</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">service.version</span></code></p></td>
<td><p>The SEP version number of the cluster.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.sdk.language</span></code></p></td>
<td><p>Always set to <code class="docutils literal notranslate"><span class="pre">java</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.sdk.name</span></code></p></td>
<td><p>Always set to <a class="reference external" href="https://opentelemetry.io/">opentelemetry</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">telemetry.sdk.version</span></code></p></td>
<td><p>The version of the OpenTelemetry library used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">service.start_time</span></code></p></td>
<td><p>The ISO8601 date and time when the coordinator last started.</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of the data collected that describes the SEP
environment:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"resource":{
    "attributes":[
      {
          "key":"deployment.environment",
          "value":{
            "string_value":"prod"
          }
      },
      {
          "key":"license.hash",
          "value":{
            "string_value":"5000eRAND0M967d0004a4eLICENSEa97b00006023dedeSTRING82460c8500055"
          }
      },
      {
          "key":"license.owner",
          "value":{
            "string_value":"Example Company"
          }
      },
      {
          "key":"license.type",
          "value":{
            "string_value":"JSON"
          }
      },
      {
          "key":"service.instance.id",
          "value":{
            "string_value":"6d35zzzz-2000-4628-zzzz-120000zzzzed"
          }
      },
      {
          "key":"service.name",
          "value":{
            "string_value":"starburst-enterprise"
          }
      },
      {
          "key":"service.version",
          "value":{
            "string_value":"prod"
          }
      },
      {
          "key":"telemetry.sdk.language",
          "value":{
            "string_value":"java"
          }
      },
      {
          "key":"telemetry.sdk.name",
          "value":{
            "string_value":"opentelemetry"
          }
      },
      {
          "key":"telemetry.sdk.version",
          "value":{
            "string_value":"1.6.0"
          }
      }
    ]
}
</pre></div>
</div>
</section>
<section id="configuration-log-data">
<span id="telemetry-configuration-logs"></span><h3 id="configuration-log-data">Configuration log data<a class="headerlink" href="#configuration-log-data" title="Link to this heading">#</a></h3>
<p>SEP collects configuration property names, and a representation of the value.
Boolean values are recorded as-is. Binary values are rounded to the nearest base
two magnitude. For example, 72 GB is recorded as 64 GB. Other numeric values,
such as <code class="docutils literal notranslate"><span class="pre">INTEGER</span></code> and <code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code> are rounded down to the nearest order of
magnitude. For example, 54,321 is rounded to 100,000. For most configuration
properties, SEP does not record text values, only that they are set.</p>
<p>Text values are recorded for the following configuration properties:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">access-control.name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">connector.name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delta.security</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hive.security</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.oauth2.issuer</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">http-server.authentication.type</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">iceberg.security</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">password-authenticator.name</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">retry-policy</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">warp-speed.proxied-connector</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">web-ui.authentication.type</span></code></p></li>
</ul>
<p>The following JSON snippet is an example of the data collected that describes
SEP configuration properties:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"logs": [
  {
    "time_unix_nano": "1637193575209705000",
    "severity_number": "SEVERITY_NUMBER_INFO",
    "name": "bootstrap",
    "body": {
      "string_value": ""
    },
    "attributes": [
      {
        "key": "propertyName",
        "value": {
          "string_value": "cache-service.cache-ttl"
        }
      },
      {
        "key": "propertyValue",
        "value": {
          "string_value": "0.00ns"
        }
      }
    ]
  },
  {
    "time_unix_nano": "1637193575223536000",
    "severity_number": "SEVERITY_NUMBER_INFO",
    "name": "bootstrap",
    "body": {
      "string_value": ""
    },
    "attributes": [
      {
        "key": "propertyName",
        "value": {
          "string_value": "cache-service.uri"
        }
      }
    ]
  },
  {
    "time_unix_nano": "1637193575224097000",
    "severity_number": "SEVERITY_NUMBER_INFO",
    "name": "bootstrap",
    "body": {
      "string_value": ""
    },
    "attributes": [
      {
        "key": "propertyName",
        "value": {
          "string_value": "materialized-views.namespace"
        }
      }
    ]
  },
]
</pre></div>
</div>
</section>
<section id="metrics">
<span id="telemetry-metrics"></span><h3 id="metrics">Metrics<a class="headerlink" href="#metrics" title="Link to this heading">#</a></h3>
<p>All metrics collected by SEP are aggregated for the time period starting at
<code class="docutils literal notranslate"><span class="pre">start_time_unix_nano</span></code> and ending at <code class="docutils literal notranslate"><span class="pre">time_unix_nano</span></code>. These timestamps are
repeated with the same value with most metrics.</p>
<p>Metrics are based on completed queries, whether successful or not. Examples of
this data are provided below.</p>
<section id="queries-executed">
<h4 id="queries-executed"><code class="docutils literal notranslate"><span class="pre">queries_executed</span></code><a class="headerlink" href="#queries-executed" title="Link to this heading">#</a></h4>
<p>SEP collects aggregated counts of specific query dimensions as described in
the following table.</p>
<table id="id3">
<caption><span class="caption-text">Query execution count dimensions</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dimension</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">columnType</span></code></p></td>
<td><p>Total queries per <a class="reference internal" href="../language/types.html"><span class="doc">column type</span></a>, across all
sources.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">connector</span></code></p></td>
<td><p>Total queries per connector.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connector</span></code>, <code class="docutils literal notranslate"><span class="pre">queryType</span></code></p></td>
<td><p>Total queries by connector and query type. Possible query types are
<code class="docutils literal notranslate"><span class="pre">SELECT</span></code>, <code class="docutils literal notranslate"><span class="pre">EXPLAIN</span></code>, <code class="docutils literal notranslate"><span class="pre">DESCRIBE</span></code>, <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>, <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code>, <code class="docutils literal notranslate"><span class="pre">DELETE</span></code>,
<code class="docutils literal notranslate"><span class="pre">ANALYZE</span></code>, <code class="docutils literal notranslate"><span class="pre">DATA_DEFINITION</span></code>, and <code class="docutils literal notranslate"><span class="pre">ALTER_TABLE_EXECUTE</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">function</span></code></p></td>
<td><p>Total queries by named <a class="reference internal" href="../functions.html"><span class="doc">function</span></a> or
<a class="reference internal" href="../develop/functions.html"><span class="doc">UDF</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sessionProperty</span></code>, <code class="docutils literal notranslate"><span class="pre">value</span></code></p></td>
<td><p>Total queries using named session property or catalog session property,
and a representation of the value. Boolean values are recorded as-is.
Binary values are rounded to the nearest base 2 magnitude. For example,
72 GB is recorded as 64 GB. Other numeric values are rounded down to the
nearest order of magnitude. For example, 54,321 is rounded to 100,000.
Text values are not recorded, only the fact that they were set.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">source</span></code></p></td>
<td><p>Total queries per named client, as supplied by client, such as
“trino-cli”.</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of the collected dimensional query execution data:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"name":"queries_executed",
"unit":"1",
"sum":{
    "data_points":[
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"3",
          "attributes":[
            {
                "key":"source",
                "value":{
                  "string_value":"trino-cli"
                }
            }
          ]
      },
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"1",
          "attributes":[
            {
                "key":"function",
                "value":{
                  "string_value":"max"
                }
            }
          ]
      },
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"2",
          "attributes":[
            {
                "key":"connector",
                "value":{
                  "string_value":"postgresql"
                }
            },
            {
                "key":"queryType",
                "value":{
                  "string_value":"SELECT"
                }
            }
          ]
      },
</pre></div>
</div>
</section>
<section id="queries-failed">
<h4 id="queries-failed"><code class="docutils literal notranslate"><span class="pre">queries_failed</span></code><a class="headerlink" href="#queries-failed" title="Link to this heading">#</a></h4>
<p>SEP collects aggregated counts of query failures.</p>
<table id="id4">
<caption><span class="caption-text">Query failure count dimensions</span><a class="headerlink" href="#id4" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dimension</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">errorCode</span></code>, <code class="docutils literal notranslate"><span class="pre">failureType</span></code></p></td>
<td><p>Total failed queries by failure type. Error codes are numeric code values.
FailureTypes are exception class names such as
<code class="docutils literal notranslate"><span class="pre">io.trino.plugin.hive.ViewAlreadyExistsException</span></code> or a generic
<code class="docutils literal notranslate"><span class="pre">io.trino.spi.TrinoException</span> <span class="pre">but</span> <span class="pre">also</span> <span class="pre">java.lang.NullPointerException</span></code>.</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of the collected data:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"name":"queries_failed",
"unit":"1",
"sum":{
    "data_points":[
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"3",
          "attributes":[
            {
                "key":"error_code",
                "value":{
                  "int_value":"400"
                }
            },
            {
                "key":"failure_type",
                "value":{
                  "string_value":"Can't create database 'foo'; database exists"
                }
            }
          ]
      },
}
</pre></div>
</div>
</section>
<section id="physical-input-bytes">
<h4 id="physical-input-bytes"><code class="docutils literal notranslate"><span class="pre">physical_input_bytes</span></code><a class="headerlink" href="#physical-input-bytes" title="Link to this heading">#</a></h4>
<p>SEP collects the aggregated byte count of data in all processed queries.</p>
<table id="id5">
<caption><span class="caption-text">Physical input bytes dimension counts</span><a class="headerlink" href="#id5" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dimension</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connector</span></code></p></td>
<td><p>Total input bytes by connector.</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of the collected data:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"name":"physical_input_bytes",
"unit":"byte",
"sum":{
    "data_points":[
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"300",
          "attributes":[
            {
                "key":"connector",
                "value":{
                  "string_value":"postgresql"
                }
            }
          ]
      },
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"300"
          ]
      }
    ]
}
</pre></div>
</div>
</section>
<section id="physical-input-rows">
<h4 id="physical-input-rows"><code class="docutils literal notranslate"><span class="pre">physical_input_rows</span></code><a class="headerlink" href="#physical-input-rows" title="Link to this heading">#</a></h4>
<p>SEP collects the aggregated count of input rows of data in all processed
queries.</p>
<table id="id6">
<caption><span class="caption-text">Physical input rows dimension counts</span><a class="headerlink" href="#id6" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 40%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Dimension</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connector</span></code></p></td>
<td><p>Total input rows by connector</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of the collected data:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"name":"physical_input_rows",
"unit":"1",
"sum":{
    "data_points":[
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"300",
          "attributes":[
            {
                "key":"connector",
                "value":{
                  "string_value":"postgresql"
                }
            }
          ]
      },
      {
          "start_time_unix_nano":"1635164762424772000",
          "time_unix_nano":"1635172027851773000",
          "as_int":"300"
          ]
      }
    ]
}
</pre></div>
</div>
</section>
<section id="query-performance-and-complexity-metrics">
<h4 id="query-performance-and-complexity-metrics">Query performance and complexity metrics<a class="headerlink" href="#query-performance-and-complexity-metrics" title="Link to this heading">#</a></h4>
<p>SEP collects aggregations of key performance and complexity measures of the
queries it processes.</p>
<table id="id7">
<caption><span class="caption-text">Query performance and complexity metrics</span><a class="headerlink" href="#id7" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 30%"/>
<col style="width: 20%"/>
<col style="width: 50%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Metric</p></th>
<th class="head"><p>Data type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">analysis_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned query analysis times for all queries in the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">catalogs</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of distinct catalogs used in a query for all queries in the
collection time period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">connectors</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of distinct connectors used in a query for all queries in
the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cpu_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned total CPU time spent processing a query, for all queries in the
collection time period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cumulative_memory</span></code></p></td>
<td><p>Single value</p></td>
<td><p>Binned cumulative memory for a single query throughout its
processing, for all queries in the collection time period. This is
different from peak memory; not all of the cumulative memory may have been
in use at the same time.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cumulative_system_memory</span></code></p></td>
<td><p>Single value</p></td>
<td><p>Cumulative memory used by queries in the collection period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">execution_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned query execution times for all queries in the collection time
period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">input_columns</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of input columns used in a query for all queries in the
collection time period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">output_columns</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of output columns resulting from a query for all queries in
the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">peak_task_total_memory</span></code></p></td>
<td><p>Single value</p></td>
<td><p>Highest measured memory used by a task in the collection period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">peak_task_user_memory</span></code></p></td>
<td><p>Single value</p></td>
<td><p>Highest measured user memory used by a task in the collection period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">planning_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned resource waiting times for all queries in the collection time
period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">queued_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned query queued times for all queries in the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">resource_waiting_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned resource waiting times for all queries in the collection time
period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">scheduled_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned scheduled times for all queries in the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">schemas</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of distinct schemas used in a query for all queries in the
collection time period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">splits</span></code></p></td>
<td><p>Single value</p></td>
<td><p>Total number of splits across all queries in the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">stages</span></code></p></td>
<td><p>Single value</p></td>
<td><p>Binned number of stages for a single query, for all queries in the
collection time period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">stage_max_tasks</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of tasks in any given stage for a single query, for all
queries in the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tables</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of distinct tables used in a query for all queries in the
collection time period.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">table_max_columns</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned number of columns in a single table for all tables used in a query
for all queries in the collection time period.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">wall_time</span></code></p></td>
<td><p>Histogram</p></td>
<td><p>Binned query wall times for all queries in the collection time period.
Wall time does not include queued time.</p></td>
</tr>
</tbody>
</table>
<p>The following is an example of a single-value metric:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"peak_task_total_memory"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"unit"</span><span class="p">:</span><span class="s2">"byte"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"sum"</span><span class="p">:{</span>
<span class="w">      </span><span class="nt">"data_points"</span><span class="p">:[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"start_time_unix_nano"</span><span class="p">:</span><span class="s2">"1635164762424772000"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"time_unix_nano"</span><span class="p">:</span><span class="s2">"1635172027851773000"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"as_int"</span><span class="p">:</span><span class="s2">"66609"</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">"aggregation_temporality"</span><span class="p">:</span><span class="s2">"AGGREGATION_TEMPORALITY_CUMULATIVE"</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"is_monotonic"</span><span class="p">:</span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Performance data that is presented in a histogram also includes <code class="docutils literal notranslate"><span class="pre">count</span></code> and
<code class="docutils literal notranslate"><span class="pre">sum</span></code> values, where the <code class="docutils literal notranslate"><span class="pre">count</span></code> is equal to the number of instances
represented in the histogram, and the <code class="docutils literal notranslate"><span class="pre">sum</span></code> is the metric aggregated across
all instances, such as shown in the following example, where there were three
queries with an aggregated analysis time of 1396.0 ms:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"analysis_time"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"unit"</span><span class="p">:</span><span class="s2">"millisecond"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"histogram"</span><span class="p">:{</span>
<span class="w">      </span><span class="nt">"data_points"</span><span class="p">:[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">"start_time_unix_nano"</span><span class="p">:</span><span class="s2">"1635164762424772000"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"time_unix_nano"</span><span class="p">:</span><span class="s2">"1635172027851773000"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"count"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"sum"</span><span class="p">:</span><span class="mf">1396.0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">"bucket_counts"</span><span class="p">:[</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"2"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"1"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span><span class="p">,</span>
<span class="w">              </span><span class="s2">"0"</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">"explicit_bounds"</span><span class="p">:[</span>
<span class="w">              </span><span class="mf">10.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">100.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">500.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">1000.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">2000.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">10000.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">60000.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">300000.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">3600000.0</span><span class="p">,</span>
<span class="w">              </span><span class="mf">86400000.0</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">"aggregation_temporality"</span><span class="p">:</span><span class="s2">"AGGREGATION_TEMPORALITY_CUMULATIVE"</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="optional-query-log-data">
<span id="telemetry-query-logs"></span><h3 id="optional-query-log-data">Optional query log data<a class="headerlink" href="#optional-query-log-data" title="Link to this heading">#</a></h3>
<p>If query log collection is enabled, each query processed results in one or more
associated log entries. The following is an example of a query log entry:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>"logs": [
  {
    "time_unix_nano": "1635515535751000000",
    "severity_number": "SEVERITY_NUMBER_INFO",
    "name": "queryCompletedEvent",
    "body": {
      "string_value": ""
    },
    "attributes": [
      {
        "key": "createTime",
        "value": {
          "string_value": "2021-10-29T13:52:13.288Z"
        }
      },
      {
        "key": "endTime",
        "value": {
          "string_value": "2021-10-29T13:52:15.654Z"
        }
      },
      {
        "key": "executionStartTime",
        "value": {
          "string_value": "2021-10-29T13:52:13.501Z"
        }
      },
      {
        "key": "failureInfo",
        "value": {
          "string_value": "null"
        }
      },
      {
        "key": "metadata.plan",
        "value": {
          "string_value": "Fragment 0 [SINGLE]\n    CPU: 18.33ms, Scheduled: 24.11ms, Input: 598 rows (65.56kB); per task: avg.: 598.00 std.dev.: 0.00, Output: 598 rows (57.21kB)\n    Output layout: [field, field_0, field_1, field_2, field_3, field_4]\n    ..."
        }
      },
      {
        "key": "metadata.query",
        "value": {
          "string_value": "SHOW FUNCTIONS"
        }
      },
      {
        "key": "statistics",
        "value": {
          "string_value": "{\"cpuTime\":0.097000000,...}"
        }
      },
      {
        "key": "inputIOMetadata",
        "value": {
          "string_value": "[{"connectorMetrics":{"Physical input read time":...}}]"
        }
      },
      {
        "key": "warnings",
        "value": {
          "string_value": "[]"
        }
      }
    ]
  }
]
</pre></div>
</div>
</section>
<section id="anonymized-query-statistics">
<span id="telemetry-anonymized-query-statistics"></span><h3 id="anonymized-query-statistics">Anonymized query statistics<a class="headerlink" href="#anonymized-query-statistics" title="Link to this heading">#</a></h3>
<p>Anonymized query statistics collects metrics related to query execution without
exposing any sensitive information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We generally suggest to enable this feature in all your deployments, to
assist Starburst in improving query performance by using this data.</p>
</div>
<p>To enable it use the following properties:</p>
<blockquote>
<div><div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">telemetry.log-completed</span><span class="o">=</span><span class="s">true</span>
<span class="na">telemetry.log-query-statistics</span><span class="o">=</span><span class="s">ANONYMIZED</span>
</pre></div>
</div>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">"cpuTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.005</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"failedCpuTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"wallTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.113</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"queuedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"scheduledTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.019</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"failedScheduledTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"analysisTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"planningTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.026</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"executionTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.103</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"inputBlockedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"failedInputBlockedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"outputBlockedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"failedOutputBlockedTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"peakUserMemoryBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"peakTaskUserMemory"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"peakTaskTotalMemory"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"physicalInputBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1512</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"physicalInputRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"processedInputBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"processedInputRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"internalNetworkBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"internalNetworkRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"totalBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1512</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"totalRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"outputBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"outputRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"writtenBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"writtenRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"cumulativeMemory"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"failedCumulativeMemory"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"stageGcStatistics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"stageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"fullGcTasks"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"minFullGcSec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"maxFullGcSec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"totalFullGcSec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"averageFullGcSec"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"completedSplits"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"cpuTimeDistribution"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"stageId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"p25"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"p50"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"p75"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"p90"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"p95"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"p99"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"average"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"operatorSummaries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">"{\n  \"stageId\" : 0,\n  \"pipelineId\" : 0,\n  \"operatorId\" : 0,\n  \"planNodeId\" : \"0\",\n  \"operatorType\" : \"TableScanOperator\",...}"</span><span class="p">,</span>
<span class="w">    </span><span class="s2">"{\n  \"stageId\" : 0,\n  \"pipelineId\" : 0,\n  \"operatorId\" : 1,\n  \"planNodeId\" : \"6\",\n  \"operatorType\" : \"TaskOutputOperator\",...}"</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"planNodeStatsAndCosts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{\n  \"stats\" : { },\n  \"costs\" : { }\n}"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"resourceWaitingTime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="anonymized-query-input-output-metadata">
<span id="telemetry-anonymized-query-io-metadata"></span><h3 id="anonymized-query-input-output-metadata">Anonymized query input-output metadata<a class="headerlink" href="#anonymized-query-input-output-metadata" title="Link to this heading">#</a></h3>
<p>Anonymized query input-output metadata consists of connector metrics along with
anonymized table-level metadata. Hence, it doesn’t expose any sensitive
information. For instance, the catalog name <code class="docutils literal notranslate"><span class="pre">tpch</span></code> is anonymized to
<code class="docutils literal notranslate"><span class="pre">catalog_1</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We generally suggest to enable this feature in all your deployments, to
assist Starburst in improving query performance by using this data.</p>
</div>
<p>To enable it use the following properties:</p>
<blockquote>
<div><div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">telemetry.log-completed</span><span class="o">=</span><span class="s">true</span>
<span class="na">telemetry.log-query-io-metadata</span><span class="o">=</span><span class="s">ANONYMIZED</span>
</pre></div>
</div>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"catalogName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"catalog_dd42e04c"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"schema"</span><span class="p">:</span><span class="w"> </span><span class="s2">"schema_8fcc1516"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"table_dd3bdbd2"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"columns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">"column_144ef030"</span><span class="p">,</span>
<span class="w">      </span><span class="s2">"column_6c2bbea9"</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">"connectorMetrics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"Physical input read time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"@class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"io.trino.plugin.base.metrics.DurationTiming"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1266330.00ns"</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">"OrcReaderCompressionFormat_ZLIB"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">"@class"</span><span class="p">:</span><span class="w"> </span><span class="s2">"io.trino.plugin.base.metrics.LongCount"</span><span class="p">,</span>
<span class="w">        </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">112</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">"physicalInputBytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1512</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"physicalInputRows"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Email</button>
        <a onclick="skip()" class="feedback-skip">Cancel</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="backend-service.html" title="Backend service"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> Backend service </span>
              </div>
            </a>
          
          
            <a href="opentelemetry.html" title="Observability with OpenTelemetry"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> "Next" </span> Observability with OpenTelemetry </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          <img src="../_static/img/Starburst_Logo_White+Blue.svg" height="34"
            alt="Starburst Enterprise 476-e STS logo">
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2025<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="https://docs.starburst.io/476-e/_static/algolia.js"></script>
<script src="https://docs.starburst.io/476-e/_static/searchbox.js" data-versions="{'Latest LTS (474-e)': '/474-e/', '468-e LTS': '/468-e/', '462-e LTS': '/462-e/', '453-e LTS': '/453-e/', 'Latest STS (475-e)': '/475-e/'}"></script>
<script src="https://docs.starburst.io/476-e/_static/searchresults.js" data-versions="{'Latest LTS (474-e)': '/474-e/', '468-e LTS': '/468-e/', '462-e LTS': '/462-e/', '453-e LTS': '/453-e/', 'Latest STS (475-e)': '/475-e/'}"></script>
  </body>
</html>