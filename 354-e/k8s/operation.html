

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Operation &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/presto.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Helm chart release notes" href="release-notes.html" />
    <link rel="prev" title="Ranger configuration" href="ranger-configuration.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#k8s/operation" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise</span>
          <span class="md-header-nav__topic"> Operation </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (350-e)" href="/350-e/">Latest LTS (350-e)</a>
      
          <a title="345-e LTS" href="/345-e/">345-e LTS</a>
      
          <a title="338-e LTS" href="/338-e/">338-e LTS</a>
      
          <a title="332-e LTS" href="/332-e/">332-e LTS</a>
      
          <a title="Latest STS (354-e)" href="/354-e/">Latest STS (354-e)</a>
      
          <a title="348-e STS" href="/348-e/">348-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
            
            <li class="md-tabs__item"><a href="https://starburst.io" class="md-tabs__link">Starburst</a></li>
          <li class="md-tabs__item"><a href="../k8s.html" class="md-tabs__link">Kubernetes with Helm</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Amazon Web Services</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Kubernetes with Helm</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="requirements.html" class="md-nav__link">Requirements</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="installation.html" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sep-configuration.html" class="md-nav__link">SEP configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hms-configuration.html" class="md-nav__link">Hive metastore configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ranger-configuration.html" class="md-nav__link">Ranger configuration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Operation </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Operation</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-operation--page-root" class="md-nav__link">Operation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#running" class="md-nav__link">Running</a>
        </li>
        <li class="md-nav__item"><a href="#connecting-tools" class="md-nav__link">Connecting tools</a>
        </li>
        <li class="md-nav__item"><a href="#updates" class="md-nav__link">Updates</a>
        </li>
        <li class="md-nav__item"><a href="#scaling" class="md-nav__link">Scaling</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="release-notes.html" class="md-nav__link">Helm chart release notes</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">354-e STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#k8s-operation--page-root" class="md-nav__link">Operation</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#running" class="md-nav__link">Running</a>
        </li>
        <li class="md-nav__item"><a href="#connecting-tools" class="md-nav__link">Connecting tools</a>
        </li>
        <li class="md-nav__item"><a href="#updates" class="md-nav__link">Updates</a>
        </li>
        <li class="md-nav__item"><a href="#scaling" class="md-nav__link">Scaling</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="k8s-operation--page-root">Operation<a class="headerlink" href="#k8s-operation--page-root" title="Permalink to this headline">#</a></h1>
<p>Congratulations! Your cluster is up and running. Now it is time to test it out
by connecting your clients like the CLI or some BI application using the JDBC
driver.</p>
<p>With that usage you gain insights on the correct configuration, data sources and
sizing of the cluster for the desired usage and performance. This in turn leads
you to further work such as updating configuration, scaling your cluster or even
upgrading to a newer release.</p>
<p>This document covers these and other aspects associated to running your SEP
cluster, or even clusters.</p>

<h2 id="running">Running<a class="headerlink" href="#running" title="Permalink to this headline">#</a></h2>
<p>Once you have <a class="reference internal" href="installation.html#k8s-installation-step-by-step"><span class="std std-ref">successfully installed</span></a>
SEP, you can confirm that the coordinator pod is running with tools such as
<code class="docutils literal notranslate"><span class="pre">kubectl</span></code> or Octant.</p>
<p>You can also check the log in the server pod. A successful start of the
coordinator, and also each worker, shows with a log entry similar to the
following snippet:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">INFO</span>  <span class="n">main</span>    <span class="n">io</span><span class="p">.</span><span class="n">prestosql</span><span class="p">.</span><span class="n">server</span><span class="p">.</span><span class="n">Server</span>      <span class="o">========</span> <span class="n">SERVER</span> <span class="n">STARTED</span> <span class="o">========</span>
</pre></div>
</div>
<p>With these checks performed, you can access the <a class="reference internal" href="../admin/web-interface.html"><span class="doc">Web UI</span></a> on
the coordinator. Determine the FQDN and port of the coordinator as configured in
the <a class="reference internal" href="sep-configuration.html#helm-sep-expose"><span class="std std-ref">expose section</span></a>.</p>
<p>A default deployment exposes the UI via HTTP and does not require a password.
Production deployments should use HTTPS and have authentication configured.</p>
<p>The main page of the Web UI displays the number of connected workers. Confirm
that the number is identical to the number specific in the <a class="reference internal" href="sep-configuration.html#helm-sep-workers"><span class="std std-ref">worker section</span></a>. The default number of workers is two.</p>


<h2 id="connecting-tools">Connecting tools<a class="headerlink" href="#connecting-tools" title="Permalink to this headline">#</a></h2>
<p>With the knowledge that you can access the Web UI, and therefore the
coordinator, and that some workers are running, you are ready to connect client
tools for running queries.</p>
<p>Use the protocol, FQDN and port with the <code class="docutils literal notranslate"><span class="pre">--server</span></code> option for starting the
<a class="reference internal" href="../installation/cli.html"><span class="doc">CLI</span></a> to access SEP:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="n">presto</span> <span class="c1">--server https://presto.example.com:9999</span>
</pre></div>
</div>
<p>The same URL can be used to configure the JDBC driver or ODBC driver connection
and connection from any other client.</p>


<span id="helm-ops-updates"></span><h2 id="updates">Updates<a class="headerlink" href="#updates" title="Permalink to this headline">#</a></h2>
<p>Initial <a class="reference internal" href="installation.html"><span class="doc">installation</span></a> should use the simplest possible
configuration to allow you cluster to start and run, with some of the following
characteristics:</p>
<ul class="simple">
<li><p>only SEP deployment</p></li>
<li><p>limited or no catalogs</p></li>
<li><p>no authentication</p></li>
<li><p>minimal worker replicas without scaling</p></li>
</ul>
<p>This allows you to update the configuration incrementally:</p>
<ul class="simple">
<li><p>update the values YAML file by adding or updating configuration</p></li>
<li><p>run a helm upgrade just like for installation</p></li>
<li><p>verify that the desired changes are applied successfully</p></li>
<li><p>repeat the process with the next desired change</p></li>
</ul>
<p>Typically Helm applies the relevant changes in a granular fashion. For example,
if you change the worker configuration, no coordinator changes are performed and
the coordinator continues to run while workers are updated.</p>
<p>If you need to ensure that pods are recreated completely, you can use the
<code class="docutils literal notranslate"><span class="pre">--recreate-pods</span></code> option for your <code class="docutils literal notranslate"><span class="pre">helm</span></code> command. This essentially restarts
all workers as well as the coordinator and therefore restarts the cluster. This
includes a downtime for users.</p>


<span id="helm-ops-scaling"></span><h2 id="scaling">Scaling<a class="headerlink" href="#scaling" title="Permalink to this headline">#</a></h2>
<p>You can scale your SEP cluster manually by adding more workers. This is done by
updating <a class="reference internal" href="sep-configuration.html#helm-sep-workers"><span class="std std-ref">the worker replicas</span></a> and <a class="reference internal" href="#helm-ops-updates"><span class="std std-ref">updating your
deployment</span></a>. Sufficient resources available in the cluster is
a requirement.</p>
<p>Alternatively, you can enable autoscaling in your your worker configuration and
updating the deployment. Sufficient resources available in the cluster is a
requirement.</p>
<p>Alternatively you can increase the memory resources allocated to the workers and
updating your deployment.</p>




          </article>
        </div>
      </div>
    </main>
  </div>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="ranger-configuration.html" title="Ranger configuration"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Ranger configuration </span>
              </div>
            </a>
          
          
            <a href="release-notes.html" title="Helm chart release notes"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Helm chart release notes </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>

<!-- custom footer should go here in time -->

<div style="background: #000A2C; align-content: center; height: 5em;">

</div>
  </body>
</html>