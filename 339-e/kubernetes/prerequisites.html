

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2. Prerequisites &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="6. Kubernetes" href="../kubernetes.html"/>
        <link rel="next" title="6.3. Deployment of Presto on Kubernetes" href="deployment.html"/>
        <link rel="prev" title="6.1. Overview" href="overview.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">3. Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">4. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">5. Amazon Web Services</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../kubernetes.html">6. Kubernetes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">6.1. Overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.2. Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#kubernetes">Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#support-for-network-policies">Support for Network Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nodes">Nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-metastore-pods">Internal Metastore Pods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deployment.html">6.3. Deployment of Presto on Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="presto_resource.html">6.4. Presto Kubernetes Resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="query.html">6.5. Querying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="customizing_presto_image.html">6.6. Customizing Presto Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpa.html">6.7. Horizontal Scaling</a></li>
<li class="toctree-l2"><a class="reference internal" href="secrets.html">6.8. Secrets</a></li>
<li class="toctree-l2"><a class="reference internal" href="ranger.html">6.9. Ranger</a></li>
<li class="toctree-l2"><a class="reference internal" href="eks.html">6.10. Using Amazon Elastic Kubernetes Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="gcp-marketplace.html">6.11. GCP Marketplace</a></li>
<li class="toctree-l2"><a class="reference internal" href="gke.html">6.12. Using Google Kubernetes Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="aks.html">6.13. Using Microsoft Azure Kubernetes Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="openshift.html">6.14. Using Red Hat OpenShift</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html">6.15. Kubernetes Resources Release Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">7. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">8. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">9. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">10. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">11. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">12. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">13. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">14. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">15. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">16. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">17. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">339-e STS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/338-e/">Latest LTS (338-e)</option>
    <option value="/332-e/">332-e LTS</option>
    <option value="/323-e/">323-e LTS</option>
    <option value="/339-e/">Latest STS (339-e)</option>
    <option value="/336-e/">336-e STS</option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">339-e STS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../kubernetes.html"><span class="section-number">6. </span>Kubernetes</a> &raquo;</li>
      
    <li><span class="section-number">6.2. </span>Prerequisites</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="prerequisites">
<h1><span class="section-number">6.2. </span>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">#</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#kubernetes" id="id1">Kubernetes</a></p></li>
<li><p><a class="reference internal" href="#support-for-network-policies" id="id2">Support for Network Policies</a></p></li>
<li><p><a class="reference internal" href="#nodes" id="id3">Nodes</a></p></li>
<li><p><a class="reference internal" href="#internal-metastore-pods" id="id4">Internal Metastore Pods</a></p></li>
</ul>
</div>
<div class="section" id="kubernetes">
<h2><a class="toc-backref" href="#id1">Kubernetes</a><a class="headerlink" href="#kubernetes" title="Permalink to this headline">#</a></h2>
<p>Running SEP on Kubernetes requires Kubernetes cluster version 1.14 or higher.</p>
<p>The installation typically requires usage of <a class="reference external" href="https://kubernetes.io/docs/reference/kubectl/overview/">kubectl</a>.</p>
</div>
<div class="section" id="support-for-network-policies">
<h2><a class="toc-backref" href="#id2">Support for Network Policies</a><a class="headerlink" href="#support-for-network-policies" title="Permalink to this headline">#</a></h2>
<p>Network policies are implemented by the network plugin, you must be using a
networking solution which supports <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/network-policies/">Kubernetes Network Policies</a>.</p>
</div>
<div class="section" id="nodes">
<h2><a class="toc-backref" href="#id3">Nodes</a><a class="headerlink" href="#nodes" title="Permalink to this headline">#</a></h2>
<p>Worker and coordinator pods require significant amount of memory and CPU to work
efficiently.</p>
<p>Presto requires an exclusive node for each coordinator and each worker.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Resource sharing on a node or pod is not supported. Each node should only
host one coordinator or worker pod, and nodes or pods can not be shared with
other applications. Presto performs best with exclusive access to the
underlying hardware resources, since it requires significant resources on
each worker. It performs best when they are equal for each worker to allow
for query planning and processing optimizations to work with a predictable
resource pool and processing power.</p>
</div>
<p>By default, each worker pod requires 100GB of memory and 16 CPU cores which
provide good overall performance. The requirements can be changed with
<a class="reference internal" href="presto_resource.html#k8s-worker"><span class="std std-ref">worker-specific properties</span></a>.</p>
<p>By default, the coordinator pod requires 60GB of memory and 16 CPU cores. Thee
requirements can be changed with <a class="reference internal" href="presto_resource.html#k8s-coordinator"><span class="std std-ref">coordinator-specific properties</span></a>.</p>
<p>The minimal production requirement for a worker pod is 64GB of memory and 8 CPU
cores. The minimal production requirement for a coordinator is 48GB of memory
and 8 CPU cores. Using lower memory and CPU settings is recommended only for
testing and development purposes.</p>
</div>
<div class="section" id="internal-metastore-pods">
<h2><a class="toc-backref" href="#id4">Internal Metastore Pods</a><a class="headerlink" href="#internal-metastore-pods" title="Permalink to this headline">#</a></h2>
<p>You can use a built-in Hive metastore to keep schema and table metadata, when
querying data in object storage with the <a class="reference internal" href="../connector/starburst-hive.html"><span class="doc">Hive connector</span></a>. The needed separate pod requires 8GB of memory and
2 CPU cores.</p>
<p>Additionally, the Metastore requires a PostgreSQL database to store its data. It
is possible to use a built-in ephemeral PostgreSQL instance for that purpose,
however it is not recommended for production use.</p>
<p>This PostgreSQL pod requires 8GB of memory and 2 CPU cores. Additionally, a
persistent storage is required with at least 10GB of disk space. For more
information, refer to <a class="reference internal" href="presto_resource.html#internal-postgresql"><span class="std std-ref">the detailed documentation</span></a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deployment.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="6.3. Deployment of Presto on Kubernetes" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="overview.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="6.1. Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'339',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>