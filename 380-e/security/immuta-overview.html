

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="000A2C">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Immuta access control support &#8212; Starburst Enterprise</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/algolia.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <link rel="stylesheet" type="text/css" href="../_static/search.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/main.js"></script>
    <script src="../_static/algolia.js"></script>
    <script src="../_static/searchbox.js"></script>
    <script src="../_static/searchresults.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Hive access control with Apache Sentry" href="hive-sentry.html" />
    <link rel="prev" title="Hive access control with the Privacera Platform" href="hive-privacera.html" />

  
   



<!-- Always link to the latest version, as canonical -->
<link rel="canonical" href="https://docs.starburst.io/latest/security/immuta-overview.html">

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#security/immuta-overview" tabindex="1" class="md-skip"> Skip to content </a>
  
<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://www.starburst.io" title="Starburst Enterprise"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise 380-e.0 LTS logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise 380-e.0 LTS</span>
          <span class="md-header-nav__topic"> Immuta access control support </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        <div id="algolia-search">
  <div id="searchbox"></div>
  <div id="refinement-list">
    <h6 class="filter-label">Filter:</h6>
  </div>
  <div id="hits"></div>
  <div id="stats"></div>
</div>
      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (380-e)" href="/380-e/">Latest LTS (380-e)</a>
      
          <a title="370-e LTS" href="/370-e/">370-e LTS</a>
      
          <a title="364-e LTS" href="/364-e/">364-e LTS</a>
      
          <a title="360-e LTS" href="/360-e/">360-e LTS</a>
      
          <a title="Latest STS (382-e)" href="/382-e/">Latest STS (382-e)</a>
      
          <a title="381-e STS" href="/381-e/">381-e STS</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>


  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
            
            <li class="md-tabs__item"><a href="../index.html" class="md-tabs__link">Reference documentation</a></li>
            
            <li class="md-tabs__item"><a href="../../index.html" class="md-tabs__link">User guides</a></li>
          <li class="md-tabs__item"><a href="../security.html" class="md-tabs__link">Security</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise">Starburst Enterprise 380-e.0 LTS</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Manual installation and license</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../k8s.html" class="md-nav__link">Deploying with Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Deploying with CFT on AWS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="overview.html" class="md-nav__link">Security overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="tls.html" class="md-nav__link">TLS and HTTPS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="inspect-pem.html" class="md-nav__link">- PEM files</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="inspect-jks.html" class="md-nav__link">- JKS files</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="internal-communication.html" class="md-nav__link">Secure internal communication</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="secrets.html" class="md-nav__link">Secrets</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="authentication-types.html" class="md-nav__link">Authentication types</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="password-file.html" class="md-nav__link">- Password files</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ldap.html" class="md-nav__link">- LDAP</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="salesforce.html" class="md-nav__link">- Salesforce</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oauth2.html" class="md-nav__link">- OAuth2 over HTTPS</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oauth2-providers.html" class="md-nav__link">- OAuth2 providers</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="okta-authentication.html" class="md-nav__link">- Okta</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kerberos.html" class="md-nav__link">- Kerberos</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="cli.html" class="md-nav__link">- Kerberos CLI</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="certificate.html" class="md-nav__link">- Certificate</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="jwt.html" class="md-nav__link">- JWT</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="biac-overview.html" class="md-nav__link">Built-in access control overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="biac-roles.html" class="md-nav__link">- Built-in access control roles</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="biac-privileges.html" class="md-nav__link">- Built-in access control privileges</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="biac-audit-log.html" class="md-nav__link">- Built-in access control audit log</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="biac-vs-ranger.html" class="md-nav__link">- Comparison to Apache Ranger</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ranger-overview.html" class="md-nav__link">Apache Ranger overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="global-ranger.html" class="md-nav__link">- Global Ranger</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hive-ranger.html" class="md-nav__link">- Hive Ranger</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="global-privacera.html" class="md-nav__link">- Global Privacera</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hive-privacera.html" class="md-nav__link">- Hive Privacera</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Immuta </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Immuta</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#security-immuta-overview--page-root" class="md-nav__link">Immuta access control support</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#requirements" class="md-nav__link">Requirements</a>
        </li>
        <li class="md-nav__item"><a href="#immuta-support-overview" class="md-nav__link">Immuta support overview</a>
        </li>
        <li class="md-nav__item"><a href="#user-authentication" class="md-nav__link">User authentication</a>
        </li>
        <li class="md-nav__item"><a href="#query-behavior-changes" class="md-nav__link">Query behavior changes</a>
        </li>
        <li class="md-nav__item"><a href="#configure-immuta-connector" class="md-nav__link">Configure Immuta connector</a>
        </li>
        <li class="md-nav__item"><a href="#configure-immuta-event-listener" class="md-nav__link">Configure Immuta event listener</a>
        </li>
        <li class="md-nav__item"><a href="#manage-system-access-control" class="md-nav__link">Manage system access control</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hive-sentry.html" class="md-nav__link">Hive Sentry</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="access-control.html" class="md-nav__link">Access control overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="built-in-system-access-control.html" class="md-nav__link">- System access control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="file-system-access-control.html" class="md-nav__link">- File system access control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="impersonation.html" class="md-nav__link">- User impersonation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="password-passthrough.html" class="md-nav__link">- Password pass-through</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kerberos-passthrough.html" class="md-nav__link">- Kerberos credential pass-through</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oauth2-passthrough.html" class="md-nav__link">- OAuth 2.0 token pass-through</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="user-name-management-overview.html" class="md-nav__link">User name management overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="user-mapping.html" class="md-nav__link">- User mapping</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="group-file.html" class="md-nav__link">- File-based group provider</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="ldap-group-provider.html" class="md-nav__link">- LDAP group provider</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="audit.html" class="md-nav__link">Query audit</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../data-products.html" class="md-nav__link">Data products</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../insights.html" class="md-nav__link">Insights</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../appendix.html" class="md-nav__link">Appendix</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">380-e LTS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">&nbsp;</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#security-immuta-overview--page-root" class="md-nav__link">Immuta access control support</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#requirements" class="md-nav__link">Requirements</a>
        </li>
        <li class="md-nav__item"><a href="#immuta-support-overview" class="md-nav__link">Immuta support overview</a>
        </li>
        <li class="md-nav__item"><a href="#user-authentication" class="md-nav__link">User authentication</a>
        </li>
        <li class="md-nav__item"><a href="#query-behavior-changes" class="md-nav__link">Query behavior changes</a>
        </li>
        <li class="md-nav__item"><a href="#configure-immuta-connector" class="md-nav__link">Configure Immuta connector</a>
        </li>
        <li class="md-nav__item"><a href="#configure-immuta-event-listener" class="md-nav__link">Configure Immuta event listener</a>
        </li>
        <li class="md-nav__item"><a href="#manage-system-access-control" class="md-nav__link">Manage system access control</a>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="security-immuta-overview--page-root">Immuta access control support<a class="headerlink" href="#security-immuta-overview--page-root" title="Permalink to this headline">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Immuta access control support is a <a class="reference internal" href="../versions.html#feature-release-status"><span class="std std-ref">public preview</span></a> feature. Contact <a class="reference external" href="../../support.html">Starburst support</a> with questions or feedback.</p>
</div>
<p>Starburst Enterprise platform (SEP) provides support for using an existing Immuta attribute-based access
control system.</p>

<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">#</a></h2>
<p>To use the Immuta access control system with Starburst Enterprise, you need:</p>
<ul class="simple">
<li><p>A current Immuta account and API key.</p></li>
<li><p>A valid <a class="reference internal" href="../installation/license-requirements.html"><span class="doc">Starburst Enterprise license</span></a>.</p></li>
</ul>


<h2 id="immuta-support-overview">Immuta support overview<a class="headerlink" href="#immuta-support-overview" title="Permalink to this headline">#</a></h2>
<p>The following steps provide an overview of the Immuta support in SEP.</p>
<ol class="arabic simple">
<li><p>Configure catalogs as usual for your cluster’s data sources.</p></li>
<li><p>Configure a catalog for an Immuta connector.</p></li>
<li><p>In the Immuta web dashboard, create one entry for each schema to be managed
by Immuta. Immuta creates a view under its control to represent the schema.</p></li>
<li><p>Configure an Immuta event listener for your cluster.</p></li>
<li><p>Configure SEP file-based access control.</p></li>
</ol>
<p>These steps redirect all SEP queries to pass through Immuta access control for
validation. On acceptance, Immuta passes the query back to SEP for analysis
and execution.</p>


<h2 id="user-authentication">User authentication<a class="headerlink" href="#user-authentication" title="Permalink to this headline">#</a></h2>
<p>Immuta manages access control for existing user and group names. Those names are
independently authorized to access the SEP cluster by the <a class="reference internal" href="authentication-types.html"><span class="doc">authentication
types</span></a> currently configured and active on the
cluster. Immuta works with any authentication type supported by SEP.</p>


<h2 id="query-behavior-changes">Query behavior changes<a class="headerlink" href="#query-behavior-changes" title="Permalink to this headline">#</a></h2>
<p>When you add schemas to Immuta in the Immuta web UI, specify a prefix or suffix
for Immuta schema names to distinguish them from their underlying names. If you
have the same table name in more than one SEP catalog, specify unique names
for each so that they can be distinguished when under Immuta’s control.</p>
<p>With Immuta configured, run all SQL queries the same as without Immuta, with two
exceptions: you must use the single catalog name <code class="docutils literal notranslate"><span class="pre">immuta</span></code> and must use the
names of schemas as known to Immuta.</p>
<p>As before, standard users can use any client, such as the query editor in the
Starburst Enterprise web UI, to browse through the <code class="docutils literal notranslate"><span class="pre">immuta</span></code> catalog to locate a schema and table
of interest. SEP’s <code class="docutils literal notranslate"><span class="pre">catalog.schema.table</span></code> hierarchy remains the same.
Standard users might use the following query for the <code class="docutils literal notranslate"><span class="pre">customers</span></code> table:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">immuta</span><span class="p">.</span><span class="n">orcl_accounting</span><span class="p">.</span><span class="n">customers</span> <span class="k">limit</span> <span class="mi">100</span><span class="p">;</span>
</pre></div>
</div>
<p>With <a class="reference internal" href="#immuta-system-access-control"><span class="std std-ref">system access control</span></a> configured as
recommended, admin users are able to see the underlying schema names as known to
SEP. For troubleshooting and administrative purposes, admin users can reach
the same <code class="docutils literal notranslate"><span class="pre">customers</span></code> table as follows:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">oracle</span><span class="p">.</span><span class="n">accounting</span><span class="p">.</span><span class="n">customers</span> <span class="k">limit</span> <span class="mi">100</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the following sections, the <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder refers to the location of your
cluster’s configuration files and <code class="docutils literal notranslate"><span class="pre">catalog</span></code> folder. Depending on your
cluster’s installation method, the <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder might be in
<code class="docutils literal notranslate"><span class="pre">/etc/starburst</span></code>, <code class="docutils literal notranslate"><span class="pre">/opt/starburst/etc</span></code>, or another location.</p>
</div>


<h2 id="configure-immuta-connector">Configure Immuta connector<a class="headerlink" href="#configure-immuta-connector" title="Permalink to this headline">#</a></h2>
<p>The necessary Immuta plugin and drivers are shipped with SEP 369-e and later.
Activate the plugin by creating a configuration file in your cluster’s
<code class="docutils literal notranslate"><span class="pre">etc/catalog</span></code> folder whose basename matches the <code class="docutils literal notranslate"><span class="pre">connector-name</span></code> value.
Use the following pattern:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector-name</span><span class="o">=</span><span class="s">immuta</span>
<span class="na">immuta-endpoint</span><span class="o">=</span><span class="s">&lt;your-Immuta-site's-URL&gt;</span>
<span class="na">immuta-apikey</span><span class="o">=</span><span class="s">&lt;your-API-key&gt;</span>
</pre></div>
</div>
<p>For example, in a file named <code class="docutils literal notranslate"><span class="pre">immuta.properties</span></code>:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">connector-name</span><span class="o">=</span><span class="s">immuta</span>
<span class="na">immuta-endpoint</span><span class="o">=</span><span class="s">https://immuta.example.com/</span>
<span class="na">immuta-apikey</span><span class="o">=</span><span class="s">e16456a3395d42988c2da6f06ccf1f58</span>
</pre></div>
</div>


<h2 id="configure-immuta-event-listener">Configure Immuta event listener<a class="headerlink" href="#configure-immuta-event-listener" title="Permalink to this headline">#</a></h2>
<p>In order for Immuta to audit queries in your SEP cluster, configure an Immuta
audit <a class="reference internal" href="../develop/event-listener.html"><span class="doc">event listener</span></a> in a file named
<code class="docutils literal notranslate"><span class="pre">event-listener.properties</span></code>. The <code class="docutils literal notranslate"><span class="pre">immuta.catalogs</span></code> value must match the
<code class="docutils literal notranslate"><span class="pre">connector-name</span></code> value previously specified. For example:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">event-listener.name</span><span class="o">=</span><span class="s">immuta-event-listener</span>
<span class="na">immuta-endpoint</span><span class="o">=</span><span class="s">https://immuta.example.com/</span>
<span class="na">immuta-apikey</span><span class="o">=</span><span class="s">e16456a3395d42988c2da6f06ccf1f58</span>
<span class="na">immuta.catalogs</span><span class="o">=</span><span class="s">immuta</span>
</pre></div>
</div>


<span id="immuta-system-access-control"></span><h2 id="manage-system-access-control">Manage system access control<a class="headerlink" href="#manage-system-access-control" title="Permalink to this headline">#</a></h2>
<p>Two remaining considerations are not under Immuta’s control:</p>
<ul class="simple">
<li><p>For standard users, block catalogs from direct access, which would bypass
Immuta.</p></li>
<li><p>Protect Immuta-managed tables from inadvertent secrets disclosure.</p></li>
</ul>
<p>Configure these tasks with SEP’s <a class="reference internal" href="file-system-access-control.html"><span class="doc">file system access control</span></a> and a JSON rules file. These rules take
effect when SEP starts, before Immuta is engaged.</p>
<p>To use this system, add a configuration file named <code class="docutils literal notranslate"><span class="pre">access-control.properties</span></code>
to the <code class="docutils literal notranslate"><span class="pre">etc</span></code> folder with two required lines, as in the following example:</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">access-control.name</span><span class="o">=</span><span class="s">file</span>
<span class="na">security.config-file</span><span class="o">=</span><span class="s">etc/access-rules.json</span>
</pre></div>
</div>
<p>The path to the rules file is relative to SEP’s’ start-up directory, which is
usually one level above <code class="docutils literal notranslate"><span class="pre">etc</span></code>.</p>
<p>The following example shows a starting point for an <code class="docutils literal notranslate"><span class="pre">access-rules.json</span></code> file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">"catalogs"</span><span class="p">:</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="nt">"user"</span><span class="p">:</span> <span class="s2">"super_admin"</span><span class="p">,</span>
    <span class="nt">"catalog"</span><span class="p">:</span> <span class="s2">"immuta|postgres|redshift|mysql|oracle|system"</span><span class="p">,</span>
    <span class="nt">"allow"</span><span class="p">:</span> <span class="s2">"all"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">"user"</span><span class="p">:</span> <span class="s2">"IT"</span><span class="p">,</span>
    <span class="nt">"catalog"</span><span class="p">:</span> <span class="s2">"immuta"</span><span class="p">,</span>
    <span class="nt">"allow"</span><span class="p">:</span> <span class="s2">"all"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">"user"</span><span class="p">:</span> <span class="s2">"query_user"</span><span class="p">,</span>
    <span class="nt">"catalog"</span><span class="p">:</span> <span class="s2">"immuta"</span><span class="p">,</span>
    <span class="nt">"allow"</span><span class="p">:</span> <span class="s2">"read-only"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="nt">"catalog"</span><span class="p">:</span> <span class="s2">"postgres|redshift|mysql|oracle|system"</span><span class="p">,</span>
    <span class="nt">"allow"</span><span class="p">:</span> <span class="s2">"none"</span>
  <span class="p">}</span>
<span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This rules file:</p>
<ul class="simple">
<li><p>Allows <code class="docutils literal notranslate"><span class="pre">super_admin</span></code> full access to all catalogs, Immuta-managed and not.</p></li>
<li><p>Allows <code class="docutils literal notranslate"><span class="pre">IT</span></code> full access to Immuta-managed objects but not the SEP-defined
base catalogs.</p></li>
<li><p>Allows <code class="docutils literal notranslate"><span class="pre">query_user</span></code> read-only access to Immuta managed schemas and tables.
This allows all queries but prevents users from running DESCRIBE on Immuta
views, which in turn prevents disclosure of any secrets involved in some
masking policies.</p></li>
<li><p>Sets the default access to non-Immuta catalogs to <code class="docutils literal notranslate"><span class="pre">none</span></code>. In this set of
rules, only <code class="docutils literal notranslate"><span class="pre">super_admin</span></code> has any access to those catalogs.</p></li>
</ul>
<p>If you are setting up a new cluster, you can also use file-based rules to
protect access to catalogs before Immuta is installed and configured. If you do
this, be sure to remove or adjust those rules before Immuta takes over full
access control.</p>




          </article>
        </div>
      </div>
    </main>
  </div>
<div class="md-grid md-main__inner" style="height: auto;">
  <div class="md-content">
    <div class="feedback-container md-content__inner md-typeset">
      <div class="feedback-thumbs">
        <p>Is the information on this page helpful?</p>
        <p class="feedback-option" title="yes">Yes</p>
        <p class="feedback-option" title="no">No</p>
      </div>
      <div class="feedback-message">
        <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
        <button type="button" onclick="sendMessage()" class="feedback-button">Submit</button>
        <a onclick="skip()" class="feedback-skip">Skip</a>
      </div>
    </div>
  </div>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '');
</script>
<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="hive-privacera.html" title="Hive access control with the Privacera Platform"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Hive access control with the Privacera Platform </span>
              </div>
            </a>
          
          
            <a href="hive-sentry.html" title="Hive access control with Apache Sentry"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> Hive access control with Apache Sentry </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
<!-- custom footer should go here in time -->
<div class="page-footer">
  <div class="container md-grid">
    <div class="row">
      <div class="col-md-3">
        <p style="font-weight:900">Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburst.io/latest/index.html">Starburst Enterprise reference documentation</a></li>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/starburst-intro-and-demo/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">

        <a href="https://www.starburst.io/" target="_blank">
          
            <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                  alt="Starburst Enterprise 380-e.0 LTS logo">
        
        </a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
  </div>
</div>
<script src="../_static/algolia.js"></script>
<script src="../_static/searchbox.js"></script>
<script src="../_static/searchresults.js"></script>
  </body>
</html>