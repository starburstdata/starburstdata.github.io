<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst | Using the cache service</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst - Using the cache service">
    <meta property="og:description" content="Your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/starburst-og-image.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <link rel="stylesheet" href="/assets/css/style.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114610397-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114610397-1');
</script>

<script>
  var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights@2.2.1";

  !function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
  (e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
  i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
  }(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Using the cache service | Starburst</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Using the cache service" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Your hub to all knowledge about Starburst products." />
<meta property="og:description" content="Your hub to all knowledge about Starburst products." />
<link rel="canonical" href="https://docs.starburst.io/starburst-enterprise/admin-topics/cache-service.html" />
<meta property="og:url" content="https://docs.starburst.io/starburst-enterprise/admin-topics/cache-service.html" />
<meta property="og:site_name" content="Starburst" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Using the cache service" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Your hub to all knowledge about Starburst products.","headline":"Using the cache service","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.starburst.io/assets/img/logo/starburst-reverse.png"}},"url":"https://docs.starburst.io/starburst-enterprise/admin-topics/cache-service.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>


<div class="wrap">
  

<header class="main-header">
  <div class="navbar fixed-top navbar-dark">
    <div class="navbar-left-container">
      <a class="navbar-brand" href="https://www.starburst.io/">
        <img src="/assets/img/logo/starburst-reverse.png" height="40" alt=" Starburst">
      </a>
      <span class="navbar-divider"></span>
      <a href="/" class="header-text">Documentation</a>
    </div>
    
    <div class="nav-item dropdown" id="site-search">
  <div id="dropdownSearchDisplay" aria-labelledby="dropdownSearch">
    <div id="algolia-search">
      <div id="searchbox"></div>
      <div id="refinement-list">
        <h6>Filter:</h6>
      </div>
      <div id="hits"></div>
      <div id="stats"></div>
    </div>
  </div>
</div>

    
  </div>
  <nav class="primary-nav">
    <ul class="navbar-layout ml-auto">
      <li class="nav-item dropdown">
        <a id="get-started"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="Get started" data-is-click="false"
          href="/get-started/index.html">Get started</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/get-started/concepts.html">Concepts</a>
          <a class="dropdown-item" href="/get-started/data-sources-catalogs.html">Data sources and catalogs</a>
          <a class="dropdown-item" href="/get-started/choose-your-starburst-product.html">Choose your Starburst product</a>
          <a class="dropdown-item" href="/data-consumer/index.html">Data consumer</a>
          <a class="dropdown-item" href="/data-engineer/index.html">Data engineer</a>
          <a class="dropdown-item" href="/platform-administrator/index.html">Platform administrator</a>
        </div>
      </li>
       <li class="nav-item dropdown">
        <a id="starburst-galaxy"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="Starburst Galaxy" data-is-click="false"
          href="/starburst-galaxy/index.html">Starburst Galaxy</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/starburst-galaxy/query/index.html">Query</a>
          <a class="dropdown-item" href="/starburst-galaxy/catalogs/index.html">Catalogs</a>
          <a class="dropdown-item" href="/starburst-galaxy/clusters/index.html">Clusters</a>
          <a class="dropdown-item" href="/starburst-galaxy/sql/index.html">SQL</a>
          <a class="dropdown-item" href="/starburst-galaxy/account/index.html">Account</a>
          <a class="dropdown-item" href="/starburst-galaxy/security/index.html">Security</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a id="starburst-enterprise"
           class="nav-link dropdown-toggle active"
          
          aria-haspopup="true" aria-label="Get started" data-is-click="false"
          href="/starburst-enterprise/index.html">Starburst Enterprise</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/starburst-enterprise/try/index.html">Try Starburst Enterprise</a>
          <a class="dropdown-item" href="/starburst-enterprise/web-ui/index.html">Web UI</a>
          <a class="dropdown-item" href="/starburst-enterprise/sql.html">SQL</a>
          <a class="dropdown-item" href="/starburst-enterprise/admin-topics/index.html">Administration</a>
          <a class="dropdown-item" href="/starburst-enterprise/k8s/index.html">Kubernetes deployments</a>
          <a class="dropdown-item" href="/starburst-enterprise/starburst-admin/index.html">Starburst Admin</a>
          <a class="dropdown-item" href="/latest/index.html">Reference documentation</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a id="ecosystems"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="Get started" data-is-click="false"
          href="/ecosystems/index.html">Ecosystems</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/ecosystems/amazon/index.html">Amazon AWS</a>
          <a class="dropdown-item" href="/ecosystems/google/index.html">Google Cloud</a>
          <a class="dropdown-item" href="/ecosystems/microsoft/index.html">Microsoft Azure</a>
          <a class="dropdown-item" href="/ecosystems/redhat/index.html">Red Hat OpenShift</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a id="resources"
           class="nav-link dropdown-toggle" 
          aria-haspopup="true" aria-label="resources" data-is-click="false"
          href="/resources.html">Resources</a>
        <div class="dropdown-menu dropdown-docs">
          <a class="dropdown-item" href="/support.html">Support</a>
          <a class="dropdown-item" href="/security/index.html">Security</a>
          <a class="dropdown-item" href="/blog/index.html">Developer blog</a>
          <a class="dropdown-item" href="/videos/index.html">Video library</a>
          <a class="dropdown-item" href="/glossary.html">Glossary</a>
          <a class="dropdown-item" href="https://www.trinoforum.org/">Trino forum</a>
        </div>
      </li>
    </ul>
  </nav>
</header>

  
  <div class="content">
    <div class="row">
      <div class="col-md-3 side-navigation">
        <div class="spacer-60 toc-sticky left-nav">
          
          <div>
    <h6 class="overline product-nav-title">Starburst Enterprise</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/starburst-enterprise/index.html" >Starburst Enterprise overview</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('try');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Try Starburst Enterprise&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="try" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/k8s.html" >Kubernetes</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/docker.html" >Docker</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/tarball.html" >Tarball</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/rpm.html" >RPM</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/verify.html" >Verify server</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/catalog.html" >Create a catalog</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('sepwebui');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Web UI&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="sepwebui" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/web-ui/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/web-ui/query-editor.html" >Query editor</a>
  </li>
  
  
</ul>



 
  
    
    
<li >
  <a href="/starburst-enterprise/sql.html" >SQL</a>
</li>
  



 





<li  class="active" 
    onclick="toggle_navigation_visibility('admintasks');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Administration topics&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="admintasks" class="doc-subnav ">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/catalogs.html" >Define catalogs</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/autoscaling.html" >Autoscaling</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/security.html" >Secure your cluster</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/performance-tuning.html" >Tune your cluster</a>
  </li>
  
  
  
    
    
    
  <li class="active"
      
    >
    <a href="/starburst-enterprise/admin-topics/cache-service.html" >Enable the cache service</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('k8s');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Kubernetes&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="k8s" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/index.html" >Starburst Enterprise and Kubernetes</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/k8s-operation.html" >Cluster operation</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-sep.html" >Deploy Starburst Enterprise</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-hms.html" >Deploy Hive metastore</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-cache-service.html" >Deploy the cache service</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-ranger.html" >Deploy Ranger</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('starburst-admin');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Starburst Admin&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="starburst-admin" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/index.html" >Get started</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/installation-guide.html" >Installation guide</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/operation-guides.html" >Operation guides</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/playbook-reference.html" >Playbook reference</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/release-notes.html" >Release notes</a>
  </li>
  
  
</ul>



<div style="padding-top: 3em;">
    <h6 class="overline product-nav-title">Resources</h6>
  </div>
  <hr />
  
   
  
    
    
<li >
  <a href="/support.html" >Support</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/security/index.html" >Security</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/blog/index.html" >Developer blog</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/videos/index.html" >Video library</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/glossary.html" >Glossary</a>
</li>
  


  
   
  
    
    
<li >
  <a href="https://www.trinoforum.org/" >Trino Forum</a>
</li>
  


  
          
        </div>
      </div>
      <div class="col-md-9 col-lg-6 spacer-30 docs-content">
        



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/starburst-enterprise/"
        style="text-transform: uppercase"
      > starburst enterprise</a> >
    
  
    
      <a href="/starburst-enterprise/admin-topics/"
        style="text-transform: uppercase"
      > admin topics</a> >
    
  
    
      Using the cache service
    
  </p>
</div>

        <h1 id="using-the-cache-service">
        
        
          Using the cache service <a href="#using-the-cache-service" class="titleAnchor">#</a>
        
        
      </h1>
    

<p>Starburst Enterprise platform (SEP) offers
caching options through its <a href="../../latest/admin/cache-service.html">cache service</a>
to help you reduce query time and costs.</p>

<p>The cache service can automatically manage refreshes of materialized views <a href="../../latest/connector/starburst-hive.html#automated-materialized-view-management">in
Hive
catalogs</a>.</p>

<p>With <a href="../../latest/admin/table-scan-redirection.html">table scan redirections</a>, you
can redirect data requests for a table in one catalog to a cached version of it
in another catalog on a more performant system, reducing the query load on the
original data source. This redirection is transparent to the user, and therefore
provides performance improvements without the need to modify user queries.</p>

<p>This document provides an overview of the cache service, including links to
relevant sections of our reference documentation.</p>
      <h2 id="select-the-right-cache-strategy">
        
        
          Select the right cache strategy <a href="#select-the-right-cache-strategy" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Both materialized views and table scan redirections improve query performance.
Find out which one is right for your organization in this guide.</p>
      <h3 id="materialized-views">
        
        
          Materialized views <a href="#materialized-views" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Materialized views created in Hive catalogs are backed by the cache service and
the Hive Metastore and can be automatically refreshed. If you use
SEP with Hive and the cache service, you already have the
necessary prerequisites to use automatically refreshed materialized views.</p>

<p>Any query that runs successfully in SEP can be used to create a
materialized view. Users access the materialized view through the catalog it is
made available from, just as they would any other data source.</p>

<p>Materialized views in Hive allow you to access the results of a query from any
data catalog you have defined in SEP in real time without
re-processing the query, and with a refresh scheme that works best for your
organization.</p>
      <h3 id="table-scan-redirections">
        
        
          Table scan redirections <a href="#table-scan-redirections" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Table scan redirections allow you to transparently redirect queries to a cached
version in a location that incurs lower egress costs, is more performant, or
both. Your users get even faster performance without changing the vetted queries
that they depend upon.</p>

<p>Table scan redirection is available for nearly all Starburst connectors.</p>
      <h2 id="get-started">
        
        
          Get started <a href="#get-started" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>The information in this section helps you get Starburst Cached Views
up and running using the Starburst cache service. It includes links to
more detailed information in our reference documentation. As with any
configuration change in SEP, you must restart the server to
apply the changes.</p>
      <h3 id="enable-the-cache-service">
        
        
          Enable the cache service <a href="#enable-the-cache-service" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>To use table scan redirections or Hive materialized views, the cache service
must first <a href="../k8s/deploy-cache-service.html">be installed and enabled</a>. Our
reference documentation has
<a href="../../latest/admin/cache-service.html#requirements">requirements</a> and instructions
for doing so. Take the time to read about the <a href="../../latest/admin/cache-service.html#deploy-the-cache-service">two types of
deployments</a>,
standalone and embedded, to see which is better suited to your cluster. If your
organization uses our Helm charts to deploy SEP, you can use the
<a href="../../latest/k8s/cache-service-configuration.html">Helm chart for the cache
service</a> to deploy it as
standalone service.</p>

<p>Before you begin, ensure that you have an <a href="../../latest/admin/cache-service.html#relational-database">external database
instance</a> available to
store information about materialized views and table scan redirections.</p>

<p>When you are ready, there are a number of <a href="../../latest/admin/cache-service.html#configuration">configuration
properties</a> that must be set,
shown in the following example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>service-database.user=alice
service-database.password=test123
service-database.jdbc-url=jdbc:mysql://mysql-server:3306/&lt;service-database-name&gt;
starburst.user=bob
starburst.jdbc-url=jdbc:trino://coordinator:8080
rules.file=etc/rules.json
</code></pre></div></div>

<p>Where these get set depends on whether or not you are using a standalone or
embedded cache service, and whether you are using Helm charts or not:</p>

<ul>
  <li>Embedded -
    <ul>
      <li>via the SEP Helm-chart in the <code class="language-plaintext highlighter-rouge">cache.properties</code> node nested under the
top level <code class="language-plaintext highlighter-rouge">coordinator</code> node in the <code class="language-plaintext highlighter-rouge">config</code> section node.</li>
      <li>Other deployments in the <code class="language-plaintext highlighter-rouge">etc/cache.properties</code> file on the coordinator
server.</li>
    </ul>
  </li>
  <li>Standalone -
    <ul>
      <li>via the cache service Helm chart in the <code class="language-plaintext highlighter-rouge">config.properties</code> node nested
under the top level <code class="language-plaintext highlighter-rouge">config</code> node.</li>
      <li>Other deployments in the <code class="language-plaintext highlighter-rouge">etc/config.properties</code> file on the cache service
server.</li>
    </ul>
  </li>
</ul>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  We <strong>strongly suggest</strong> that you use the cache
service embedded in the the SEP Helm chart. Use the standalone deployment only
if you encounter an issue, such as performance degradation, that can be
definitively attributed solely to the cache service running in embedded mode.</div>
      <h3 id="enable-materialized-views">
        
        
          Enable materialized views <a href="#enable-materialized-views" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Materialized views must be <a href="../../latest/connector/starburst-hive.html#sb-hive-mv-catalog-config">enabled in the Hive
catalog</a> that
they are accessed from. In addition, you must specify a schema to contain
materialized view storage. We strongly recommend that you create a schema
dedicated to materialized views for a given catalog. A namespace must also be
specified; it is used internally by the cache service to avoid inadvertent name
collisions. To create a new schema with a specified location, use a command
similar to the following, which creates the <code class="language-plaintext highlighter-rouge">views_cache_storage</code> schema in
the <code class="language-plaintext highlighter-rouge">myhive</code> catalog:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">myhive</span><span class="p">.</span><span class="n">views_cache_storage</span> <span class="k">WITH</span> <span class="p">(</span><span class="k">location</span> <span class="o">=</span> <span class="s1">'s3a://&lt;s3-bucket-name&gt;/hivepostgres_views/views_cache_storage/'</span><span class="p">);</span>
</code></pre></div></div>

<p>In addition, the schema for the materialized view itself must exist. If it does
not exist, you must create it:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">CREATE</span> <span class="k">SCHEMA</span> <span class="n">myhive</span><span class="p">.</span><span class="n">views_schema</span> <span class="k">WITH</span> <span class="p">(</span><span class="k">location</span> <span class="o">=</span> <span class="s1">'s3a://&lt;s3-bucket-name&gt;/hivepostgres_views/views_schemas'</span><span class="p">);</span>
</code></pre></div></div>

<p>Each Hive catalog must be configured to allow materialized views and use the
schema you created for materialized views:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>materialized-views.enabled=true
materialized-views.namespace=mymvnamespace
materialized-views.storage-schema=mymvstorage
cache-service.uri=http://&lt;my-cache-service-hostname&gt;:8180
</code></pre></div></div>

<p>Users with the necessary access privileges in a schema in the configured catalog
can <a href="../../data-consumer/materialized-views.html">create materialized views in the usual
manner</a>.</p>
      <h3 id="enable-table-scan-redirections">
        
        
          Enable table scan redirections <a href="#enable-table-scan-redirections" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Like materialized views, table scan redirections are also managed by the cache
service. The redirections are transparent to users, so no additional training,
modifications of queries or new commands are needed to use them.</p>

<p>Table scan redirection refreshes are configured in a <a href="../../latest/admin/table-scan-redirection.html#rule-sets">JSON-formatted rules
file</a>.
There are numerous properties to govern both global defaults for all rules and
rule- specific behaviors.</p>

<!---
TODO: When 361-e path is latest, update "global defaults for all catalogs" and
"rule-specific behaviors" above to link to their respective new properties
tables.
-->

<p>Table scan redirections offer even finer-grained control for refreshes than
do materialized views, including cleanup options.</p>

        <div class="d-lg-none">
          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
      <div class="col-lg-3 toc-styles d-none d-lg-block">
        <div class="spacer-60 toc-sticky">
          <ul><li><a href="#using-the-cache-service">Using the cache service</a><ul><li><a href="#select-the-right-cache-strategy">Select the right cache strategy</a><ul><li><a href="#materialized-views">Materialized views</a></li><li><a href="#table-scan-redirections">Table scan redirections</a></li></ul></li><li><a href="#get-started">Get started</a><ul><li><a href="#enable-the-cache-service">Enable the cache service</a></li><li><a href="#enable-materialized-views">Enable materialized views</a></li><li><a href="#enable-table-scan-redirections">Enable table scan redirections</a></li></ul></li></ul></li></ul>

          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
  </div>
  
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://trinoforum.org" target="_blank">Trino Forum</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#download" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">
        <a href="https://www.starburst.io/" target="_blank"><img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst" style="margin-bottom:20px;"></a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright Â© 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
  <script type="text/javascript" src="/assets/js/custom.js"></script>
  <script type="text/javascript" src="/assets/js/algolia.js"></script>
  <script type="text/javascript" src="/assets/js/search-box.js"></script>
  <script type="text/javascript" src="/assets/js/search-results.js"></script>
</body>
</html>

