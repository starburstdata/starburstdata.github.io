<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst | Deploy the cache service with Kubernetes</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst - Deploy the cache service with Kubernetes">
    <meta property="og:description" content="Your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/starburst-og-image.png">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded">
    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <link rel="stylesheet" href="/assets/css/style.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114610397-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114610397-1');
</script>

<script type="text/javascript">
    window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src="https://cdn.heapanalytics.com/js/heap-"+e+".js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(r,a);for(var n=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","resetIdentity","removeEventProperty","setEventProperties","track","unsetEventProperty"],o=0;o<p.length;o++)heap[p[o]]=n(p[o])};
    heap.load("588835629");
</script>
<script>
  var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights@2.2.1";

  !function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
  (e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
  i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
  }(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Deploy the cache service with Kubernetes | Starburst</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="Deploy the cache service with Kubernetes" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Your hub to all knowledge about Starburst products." />
<meta property="og:description" content="Your hub to all knowledge about Starburst products." />
<link rel="canonical" href="https://docs.starburst.io/starburst-enterprise/k8s/deploy-cache-service.html" />
<meta property="og:url" content="https://docs.starburst.io/starburst-enterprise/k8s/deploy-cache-service.html" />
<meta property="og:site_name" content="Starburst" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Deploy the cache service with Kubernetes" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Your hub to all knowledge about Starburst products.","headline":"Deploy the cache service with Kubernetes","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.starburst.io/assets/img/logo/starburst-reverse.png"}},"url":"https://docs.starburst.io/starburst-enterprise/k8s/deploy-cache-service.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>


<div class="wrap">
  

<header class="main-header navbar-expand-sm">
  <div class="navbar fixed-top navbar-dark">
    <div class="navbar-left-container">
      <a class="navbar-brand" href="https://www.starburst.io/">
        <img src="/assets/img/logo/starburst_KO-T.png" height="32" alt="Starburst">
      </a>
      <span class="navbar-divider"></span>
      <a href="/" class="header-text">Documentation</a>
    </div>
    
    <div class="nav-item dropdown" id="site-search">
  <div id="dropdownSearchDisplay" aria-labelledby="dropdownSearch">
    <div id="algolia-search">
      <div id="searchbox"></div>
      <div
        class="refinement-list"
        id="versionsRefinementList"
        style="display: none"
      ></div>
      <div class="refinement-list" id="product-list">
        <h6>Product:</h6>
      </div>
      <div id="hits"></div>
      <div id="stats"></div>
    </div>
  </div>
</div>

    
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
  </div>
    <nav class="primary-nav">
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-layout navbar-nav mr-auto">
          <li class="nav-item dropdown">
            <a id="introduction"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="Introduction" data-is-click="false"
              href="/introduction/index.html">Introduction</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/introduction/concepts.html">Concepts</a>
              <a class="dropdown-item" href="/introduction/architecture.html">Architecture</a>
              <a class="dropdown-item" href="/introduction/choose-your-starburst-product.html">Choose your Starburst product</a>
              <a class="dropdown-item" href="/introduction/data-sources-catalogs.html">Data sources and catalogs</a>
              <a class="dropdown-item" href="/introduction/data-lake.html">Data lakes</a>
              <a class="dropdown-item" href="/introduction/object-storage.html">Using object storage systems</a>
              <a class="dropdown-item" href="/introduction/metastores.html">Metastore options</a>
              <a class="dropdown-item" href="/introduction/security.html">Security</a>
              <a class="dropdown-item" href="/introduction/querying-data.html">Querying data with Starburst products</a>
              <a class="dropdown-item" href="/introduction/starburst-sql.html">Using SQL</a>
              <a class="dropdown-item" href="/introduction/migration.html">Migrating queries to Starburst</a>
              <a class="dropdown-item" href="/introduction/query-performance.html">Query performance</a>
              <a class="dropdown-item" href="/introduction/performance-features.html">Performance features</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="clients"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="Clients" data-is-click="false"
              href="/clients/index.html">Clients</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/clients/index.html">Overview</a>
              <a class="dropdown-item" href="/clients/gather-connection-information.html">Gather connection information</a>
              <a class="dropdown-item" href="/clients/cli.html">CLI</a>
              <a class="dropdown-item" href="/clients/jdbc.html">JDBC driver</a>
              <a class="dropdown-item" href="/clients/odbc.html">ODBC driver</a>
              <a class="dropdown-item" href="/clients/airbyte.html">Airbyte</a>
              <a class="dropdown-item" href="/clients/alation.html">Alation</a>
              <a class="dropdown-item" href="/clients/datagrip.html">Datagrip</a>
              <a class="dropdown-item" href="/clients/dbeaver.html">dBeaver</a>
              <a class="dropdown-item" href="/clients/dbt.html">dbt</a>
              <a class="dropdown-item" href="/clients/looker.html">Looker</a>
              <a class="dropdown-item" href="/clients/metabase.html">Metabase</a>
              <a class="dropdown-item" href="/clients/microstrategy.html">Microstrategy</a>
              <a class="dropdown-item" href="/clients/powerbi.html">Power BI</a>
              <a class="dropdown-item" href="/clients/python/index.html">Python</a>
              <a class="dropdown-item" href="/clients/querybook.html">Querybook</a>
              <a class="dropdown-item" href="/clients/quicksight.html">QuickSight</a>
              <a class="dropdown-item" href="/clients/squirrel-sql.html">SQuirreL SQL</a>
              <a class="dropdown-item" href="/clients/superset.html">Superset</a>
              <a class="dropdown-item" href="/clients/tableau/index.html">Tableau</a>
              <a class="dropdown-item" href="/clients/thoughtspot.html">Thoughtspot</a>
              <a class="dropdown-item" href="/clients/zingdata.html">Zing Data</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="starburst-galaxy"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="Starburst Galaxy" data-is-click="false"
              href="/starburst-galaxy/index.html">Starburst Galaxy</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/starburst-galaxy/get-started/index.html">Get started</a>
              <a class="dropdown-item" href="/starburst-galaxy/global/get-support.html">Help center</a>
              <a class="dropdown-item" href="/starburst-galaxy/working-with-data/index.html">Working with data</a>
              <a class="dropdown-item" href="/starburst-galaxy/query/index.html">Query</a>
              <a class="dropdown-item" href="/starburst-galaxy/catalogs/index.html">Catalogs</a>
              <a class="dropdown-item" href="/starburst-galaxy/catalog-explorer/index.html">Catalog explorer</a>
              <a class="dropdown-item" href="/starburst-galaxy/clusters/index.html">Clusters</a>
              <a class="dropdown-item" href="/starburst-galaxy/data-products/index.html">Data products</a>
              <a class="dropdown-item" href="/starburst-galaxy/partner-connect.html">Partner connect</a>
              <a class="dropdown-item" href="/starburst-galaxy/admin/index.html">Admin</a>
              <a class="dropdown-item" href="/starburst-galaxy/access-control/index.html">Access control</a>
              <a class="dropdown-item" href="/starburst-galaxy/cloud-settings/index.html">Cloud settings</a>
              <a class="dropdown-item" href="/starburst-galaxy/security/index.html">Security</a>
              <a class="dropdown-item" href="/starburst-galaxy/sso/index.html">Single sign-on</a>
              <a class="dropdown-item" href="/starburst-galaxy/troubleshooting/index.html">Troubleshooting</a>
              <a class="dropdown-item" href="/starburst-galaxy/python/index.html">Python</a>
              <a class="dropdown-item" href="/starburst-galaxy/api.html">API</a>
              <a class="dropdown-item" href="/starburst-galaxy/sql/index.html">SQL</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="starburst-enterprise"
               class="nav-link dropdown-toggle active"
              
              aria-haspopup="true" aria-label="Get started" data-is-click="false"
              href="/starburst-enterprise/index.html">Starburst Enterprise</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/starburst-enterprise/try/index.html">Try Starburst Enterprise</a>
              <a class="dropdown-item" href="/starburst-enterprise/web-ui/index.html">Web UI</a>
              <a class="dropdown-item" href="/starburst-enterprise/sql.html">SQL</a>
              <a class="dropdown-item" href="/starburst-enterprise/admin-topics/index.html">Administration</a>
              <a class="dropdown-item" href="/starburst-enterprise/k8s/index.html">Kubernetes deployments</a>
              <a class="dropdown-item" href="/starburst-enterprise/starburst-admin/index.html">Starburst Admin</a>
              <a class="dropdown-item" href="/latest/index.html">Reference documentation</a>
            </div>
          </li>
          <li class="nav-item dropdown">
            <a id="resources"
               class="nav-link dropdown-toggle" 
              aria-haspopup="true" aria-label="resources" data-is-click="false"
              href="/resources.html">Resources</a>
            <div class="dropdown-menu dropdown-docs">
              <a class="dropdown-item" href="/support.html">Support</a>
              <a class="dropdown-item" href="https://www.starburst.io/community/forum/">Community forum</a>              
              <a class="dropdown-item" href="https://www.starburst.io/blog/technical">Technical blog</a>
              <a class="dropdown-item" href="/security/index.html">Security</a>
              <a class="dropdown-item" href="https://academy.starburst.io/">Starburst Academy</a>
              <a class="dropdown-item" href="/videos/index.html">Video library</a>
              <a class="dropdown-item" href="/glossary.html">Glossary</a>
              <a class="dropdown-item" href="/conventions.html">Conventions</a>
              <a class="dropdown-item" href="/iconography.html">Iconography</a>
            </div>
          </li>
        </ul>
      </div>
    </nav>
</header>

  
  <div class="content">
    <div class="row">
      <div class="col-md-3 side-navigation">
        <div class="spacer-60 toc-sticky left-nav">
          
          <div>
    <h6 class="overline product-nav-title">Starburst Enterprise</h6>
</div>
<hr />

  
  
      <li >
        <a href="/starburst-enterprise/index.html" >Starburst Enterprise overview</a>
      </li>
  

  
  
    <li >
      <a 
        onclick="toggle_navigation_visibility('k8s');"
        style="padding-left: 2px;">
        <i class="fa-solid fa-angle-right nav-icon" style="transform: rotate(90deg);">
        </i>&nbsp;Kubernetes</a>
      <ul id="k8s" class="doc-subnav ">
        
  
  
      <li >
        <a href="/starburst-enterprise/k8s/index.html" >Starburst Enterprise and Kubernetes</a>
      </li>
  

  
  
      <li >
        <a href="/starburst-enterprise/k8s/k8s-operation.html" >Cluster operation</a>
      </li>
  

  
  
      <li >
        <a href="/starburst-enterprise/k8s/deploy-sep.html" >Deploy Starburst Enterprise</a>
      </li>
  

  
  
      <li >
        <a href="/starburst-enterprise/k8s/deploy-hms.html" >Deploy Hive metastore</a>
      </li>
  

  
  
      <li class="active">
        <a href="/starburst-enterprise/k8s/deploy-cache-service.html" >Deploy the cache service</a>
      </li>
  

  
  
      <li >
        <a href="/starburst-enterprise/k8s/deploy-ranger.html" >Deploy Ranger</a>
      </li>
  


      </ul>
    </li>
  


          
        </div>
      </div>
      <div class="col-md-9 col-lg-6 spacer-30 docs-content">
        



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/starburst-enterprise/"
        style="text-transform: uppercase"
      > starburst enterprise</a> >
    
  
    
      <a href="/starburst-enterprise/k8s/"
        style="text-transform: uppercase"
      > k8s</a> >
    
  
    
      Deploy the cache service with Kubernetes
    
  </p>
</div>

        <h1 id="deploy-the-cache-service-with-kubernetes">
        
        
          Deploy the cache service with Kubernetes <a href="#deploy-the-cache-service-with-kubernetes" class="titleAnchor">#</a>
        
        
      </h1>
    

<p>This topic covers deploying a minimally customized cache service in standalone
mode with the cache service Helm chart. This optional deployment is only
recommended if the preferred embedded mode is not sufficient for your usage.</p>

<div class="alert alert-info" role="alert">
    <i class="fa fa-info-circle"></i>
    <b>Before you begin: </b>
  <br />
This topic assumes that you are familiar Helm charts and Kubernetes (k8s) tools
such as <code class="language-plaintext highlighter-rouge">kubectl</code>. Ensure that you are familiar with the following
Starburst Enterprise topics before configuring and deploying the cache service:<br /><br />
- <a href="./index.html#best-practices">Kubernetes best practices</a><br />
- <a href="../../latest/k8s/requirements.html">Kubernetes requirements</a><br />
- <a href="../../latest/admin/cache-service.html#requirements">Cache service system and database requirements</a><br />
</div>
      <h2 id="overview">
        
        
          Overview <a href="#overview" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>To use Hive materialized views or table scan redirections in SEP,
the cache service must first be deployed and enabled. The cache service must be
deployed and running, and materialized views enabled in order to use
materialized views in <a href="../../latest/data-products.html">data products</a>.</p>
      <h2 id="configure-the-cache-service">
        
        
          Configure the cache service <a href="#configure-the-cache-service" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>There are several top-level nodes in the cache service Helm chart that you must
modify for a minimum cache service configuration:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">config:</code></li>
  <li><code class="language-plaintext highlighter-rouge">resources:</code></li>
  <li><code class="language-plaintext highlighter-rouge">database:</code></li>
  <li><code class="language-plaintext highlighter-rouge">expose:</code></li>
</ul>

<p>If you are using TLS, this must also be considered. This section covers getting
started with these four configuration steps. Our <a href="../../latest/k8s/cache-service-configuration.html">reference
documentation</a> provides
details about the content of the cache service Helm chart, including yaml
sections not discussed here.</p>

<p>As with SEP, we <strong>strongly suggest</strong> that you initially deploy
the cache service with the minimum configuration described in this topic, and
ensure that it deploys and is accessible before making any additional
customizations described in our reference documentation.</p>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  Store customizations in a separate file containing
only changed values as recommended in our best practices guide. In this topic
for example, customizations are stored in a file named
<code class="language-plaintext highlighter-rouge">cache-service-values.yaml</code> that is used in the Helm <code class="language-plaintext highlighter-rouge">upgrade</code> command.</div>
      <h3 id="before-you-begin">
        
        
          Before you begin <a href="#before-you-begin" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Get the latest <code class="language-plaintext highlighter-rouge">starburst-cache-service</code> Helm chart as described in our
<a href="../../latest/k8s/installation.html">installation guide</a> with the <a href="../../latest/k8s/installation.html#create-this-one-file-before-you-begin">configured
registry
access</a>.</p>
      <h3 id="configure-service-accounts-and-locators">
        
        
          Configure service accounts and locators <a href="#configure-service-accounts-and-locators" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>You must define the service accounts and locators to be used by the cache
service:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">config</span><span class="pi">:</span>
  <span class="na">config.properties</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">service-database.user=alice</span>
    <span class="s">service-database.password=test123</span>
    <span class="s">service-database.jdbc-url=jdbc:mysql://mysql-server:13306/cachesvc</span>
    <span class="s">starburst.user=bob</span>
    <span class="s">starburst.jdbc-url=jdbc:trino://coordinator:8080</span>
</code></pre></div></div>
      <h3 id="configure-resources">
        
        
          Configure resources <a href="#configure-resources" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>The following values must be defined in the <code class="language-plaintext highlighter-rouge">resources:</code> node of the cache
service Helm chart:</p>

<ul>
  <li><strong>CPU resources for requests and limits</strong> - The defaults are sufficient for most
environments; however, they must work with the instance type you are using.</li>
  <li><strong>Memory resources for requests and limits</strong> - The defaults are sufficient for
most environments; however, they must work with the instance type you are
using.</li>
</ul>
      <h3 id="configure-the-postgresql-backing-database">
        
        
          Configure the PostgreSQL backing database <a href="#configure-the-postgresql-backing-database" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>The configuration properties for the PostgreSQL database are found in the
<code class="language-plaintext highlighter-rouge">database:</code> top-level node. You can use a self-managed, existing
<a href="../../latest/admin/cache-service.html#relational-database">external database instance</a>,
or the default PostgreSQL database internal to this service. We
<strong>strongly suggest</strong> using the default internal database. Use the <code class="language-plaintext highlighter-rouge">type:</code> node
to select the type of database:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">database</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[internal|external]"</span>
</code></pre></div></div>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  If you are using a self-managed, existing external
database, ensure that it is available before proceeding.</div>

<p>As a minimal customization, you must ensure that the following are set correctly
for your environment:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="na">databaseName</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cacheservice"</span>
    <span class="na">databaseUser</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cacheservice"</span>
    <span class="na">databasePassword</span><span class="pi">:</span> <span class="s2">"</span><span class="s">CacheServicePass1234"</span>
</code></pre></div></div>

<p>You must also configure <code class="language-plaintext highlighter-rouge">volume:</code> persistence options, if desired, as well as
the <code class="language-plaintext highlighter-rouge">resources:</code> for the backing database itself in the <code class="language-plaintext highlighter-rouge">database:</code> node. For a
complete list of available backing database properties, see our <a href="../../latest/k8s/cache-service-configuration.html#database-internal">reference
documentation</a>.</p>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  The <code class="language-plaintext highlighter-rouge">database.resources:</code> node is separate from
the top level <code class="language-plaintext highlighter-rouge">resources:</code> node. It defines the resources available to the
backing database itself, not the cache service.</div>
      <h3 id="configure-tls-optional">
        
        
          Configure TLS (optional) <a href="#configure-tls-optional" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  This is separate from configuring TLS on SEP
itself.</div>

<p>If your organization uses TLS, you must enable and configure your cache service
to work with it. The most straightforward way to handle TLS is to terminate TLS
at the load balancer or ingress, using a signed certificate. We <strong>strongly
suggest</strong> this method, which method requires no additional configuration in the
cache service.</p>

<p>If you choose not handle TLS using that methods, you can instead configure it in
the <code class="language-plaintext highlighter-rouge">expose:</code> top-level node of the HMS Helm chart:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">expose</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[clusterIp|nodePort|loadBalancer|ingress]"</span>
</code></pre></div></div>

<p>You must refer to our reference documentation for <a href="../../latest/k8s/hms-configuration.html#exposing-the-pod-to-outside-network">full details on configuring
each of these
types</a>.
The default <code class="language-plaintext highlighter-rouge">expose:</code> type is <code class="language-plaintext highlighter-rouge">clusterIp</code>. However, this is not suitable for
production environments. If you need help choosing which type is best, refer to
the <a href="../../latest/k8s/sep-configuration.html#exposing-the-cluster"><code class="language-plaintext highlighter-rouge">expose:</code>
documentation</a>
for SEP.</p>
      <h3 id="deploy-the-cache-service">
        
        
          Deploy the cache service <a href="#deploy-the-cache-service" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>When the cache service is configured, run the following command to deploy it. In
this example, the minimal values YAML file  with the registry credentials named
<code class="language-plaintext highlighter-rouge">registry-access.yaml</code> is used along with the <code class="language-plaintext highlighter-rouge">cache-service-values.yaml</code>
containing the cache service customizations. Replace <code class="language-plaintext highlighter-rouge">4XX.0.0</code> with the Helm
chart version of the desired SEP release as documented on the
<a href="../../latest/versions.html">versions page</a>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">$ helm upgrade cache-service starburst/starburst-cache-service \</span>
    <span class="s">--install \</span>
    <span class="s">--version 4XX.0.0 \</span>
    <span class="s">--values ./registry-access.yaml \</span>
    <span class="s">--values ./cache-service-values.yaml</span>
</code></pre></div></div>
      <h2 id="next-steps">
        
        
          Next steps <a href="#next-steps" class="titleAnchor">#</a>
        
        
      </h2>
    

<ul>
  <li>Complete your <a href="../../latest/k8s/cache-service-configuration.html">cache service configuration</a></li>
  <li><a href="../admin-topics/cache-service.html#enable-materialized-views">Enable materialized views</a></li>
  <li>[Optional] <a href="../../latest/admin/table-scan-redirection.html">Enable table scan redirections</a></li>
</ul>

        <div class="d-lg-none">
          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
      <div class="col-lg-3 toc-styles d-none d-lg-block">
        <div class="spacer-60 toc-sticky">
          <ul><li><a href="#deploy-the-cache-service-with-kubernetes">Deploy the cache service with Kubernetes</a><ul><li><a href="#overview">Overview</a></li><li><a href="#configure-the-cache-service">Configure the cache service</a><ul><li><a href="#before-you-begin">Before you begin</a></li><li><a href="#configure-service-accounts-and-locators">Configure service accounts and locators</a></li><li><a href="#configure-resources">Configure resources</a></li><li><a href="#configure-the-postgresql-backing-database">Configure the PostgreSQL backing database</a></li><li><a href="#configure-tls-optional">Configure TLS (optional)</a></li><li><a href="#deploy-the-cache-service">Deploy the cache service</a></li></ul></li><li><a href="#next-steps">Next steps</a></li></ul></li></ul>

          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

          <button type="button" class="btn btn-primary waves-effect waves-light print-button" onclick="window.print()">Print this page</button>
        </div>
      </div>
  </div>
  
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/community/forum/" target="_blank">Starburst forum</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#download" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">
        <a href="https://www.starburst.io/" target="_blank"><img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst" style="margin-bottom:20px;"></a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2023<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
  <script type="text/javascript" src="/assets/js/custom.js"></script>
  <script type="text/javascript" src="/assets/js/algolia.js"></script>
  <script type="text/javascript" src="/assets/js/search-box.js"></script>
  <script type="text/javascript" src="/assets/js/search-results.js"></script>
</body>
</html>

