<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst | Deploy Ranger with Kubernetes</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst - Deploy Ranger with Kubernetes">
    <meta property="og:description" content="Your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/starburst-og-image.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/fonts.css">
    <link rel="stylesheet" href="/assets/css/style.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114610397-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-114610397-1');
</script>

<script>
  var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights@2.2.1";

  !function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
  (e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
  i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
  }(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Deploy Ranger with Kubernetes | Starburst</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Deploy Ranger with Kubernetes" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Your hub to all knowledge about Starburst products." />
<meta property="og:description" content="Your hub to all knowledge about Starburst products." />
<link rel="canonical" href="https://docs.starburst.io/starburst-enterprise/k8s/deploy-ranger.html" />
<meta property="og:url" content="https://docs.starburst.io/starburst-enterprise/k8s/deploy-ranger.html" />
<meta property="og:site_name" content="Starburst" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Deploy Ranger with Kubernetes" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Your hub to all knowledge about Starburst products.","headline":"Deploy Ranger with Kubernetes","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.starburst.io/assets/img/logo/starburst-reverse.png"}},"url":"https://docs.starburst.io/starburst-enterprise/k8s/deploy-ranger.html"}</script>
<!-- End Jekyll SEO tag -->

</head>
<body>


<div class="wrap">
  

<header style="padding-top:74px;">
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <div class="navbar-left-container">
      <a class="navbar-brand" href="https://www.starburst.io/">
        <img src="/assets/img/logo/starburst-reverse.png" height="40" alt=" Starburst">
      </a>
      <span class="navbar-divider"></span>
      <a href="/" class="header-text">Documentation</a>
    </div>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown">
          <a id="get-started"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="Get started" data-is-click="false"
            href="/get-started/index.html">Get started</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/get-started/concepts.html">Concepts</a>
            <a class="dropdown-item" href="/get-started/data-sources-catalogs.html">Data sources and catalogs</a>
            <a class="dropdown-item" href="/get-started/choose-your-starburst-product.html">Choose your Starburst product</a>
            <a class="dropdown-item" href="/data-consumer/index.html">Data consumer</a>
            <a class="dropdown-item" href="/data-engineer/index.html">Data engineer</a>
            <a class="dropdown-item" href="/platform-administrator/index.html">Platform administrator</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="starburst-galaxy"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="Starburst Galaxy" data-is-click="false"
            href="/starburst-galaxy/index.html">Starburst Galaxy</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/starburst-galaxy/query/index.html">Query</a>
            <a class="dropdown-item" href="/starburst-galaxy/catalogs/index.html">Catalogs</a>
            <a class="dropdown-item" href="/starburst-galaxy/clusters/index.html">Clusters</a>
            <a class="dropdown-item" href="/starburst-galaxy/sql/index.html">SQL</a>
            <a class="dropdown-item" href="/starburst-galaxy/account/index.html">Account</a>
            <a class="dropdown-item" href="/starburst-galaxy/security/index.html">Security</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="starburst-enterprise"
             class="nav-link dropdown-toggle active"
            
            aria-haspopup="true" aria-label="Get started" data-is-click="false"
            href="/starburst-enterprise/index.html">Starburst Enterprise</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/starburst-enterprise/try/index.html">Try Starburst Enterprise</a>
            <a class="dropdown-item" href="/starburst-enterprise/web-ui/index.html">Web UI</a>
            <a class="dropdown-item" href="/starburst-enterprise/sql.html">SQL</a>
            <a class="dropdown-item" href="/starburst-enterprise/admin-topics/index.html">Administration</a>
            <a class="dropdown-item" href="/starburst-enterprise/k8s/index.html">Kubernetes deployments</a>
            <a class="dropdown-item" href="/starburst-enterprise/starburst-admin/index.html">Starburst Admin</a>
            <a class="dropdown-item" href="/latest/index.html">Reference documentation</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="ecosystems"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="Get started" data-is-click="false"
            href="/ecosystems/index.html">Ecosystems</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/ecosystems/amazon/index.html">Amazon AWS</a>
            <a class="dropdown-item" href="/ecosystems/google/index.html">Google Cloud</a>
            <a class="dropdown-item" href="/ecosystems/microsoft/index.html">Microsoft Azure</a>
            <a class="dropdown-item" href="/ecosystems/redhat/index.html">Red Hat OpenShift</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a id="resources"
             class="nav-link dropdown-toggle" 
            aria-haspopup="true" aria-label="resources" data-is-click="false"
            href="/resources.html">Resources</a>
          <div class="dropdown-menu dropdown-docs">
            <a class="dropdown-item" href="/support.html">Support</a>
            <a class="dropdown-item" href="/security/index.html">Security</a>
            <a class="dropdown-item" href="/blog/index.html">Developer blog</a>
            <a class="dropdown-item" href="/videos/index.html">Video library</a>
            <a class="dropdown-item" href="/glossary.html">Glossary</a>
            <a class="dropdown-item" href="https://www.trinoforum.org/">Trino forum</a>
          </div>
        </li>
        
        <li class="nav-item dropdown" id="site-search">
  <div id="dropdownSearchDisplay" aria-labelledby="dropdownSearch">
    <div id="algolia-search">
      <div id="searchbox"></div>
      <div id="refinement-list">
        <h6>Filter:</h6>
      </div>
      <div id="hits"></div>
      <div id="stats"></div>
    </div>
  </div>
</li>

        
      </ul>
    </div>
  </nav>
</header>

  
  <div class="content">
    <div class="row">
      <div class="col-md-3 side-navigation">
        <div class="spacer-60 toc-sticky left-nav">
          
          <div>
    <h6 class="overline product-nav-title">Starburst Enterprise</h6>
</div>
<hr />

 
  
    
    
<li >
  <a href="/starburst-enterprise/index.html" >Starburst Enterprise overview</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('try');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Try Starburst Enterprise&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="try" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/k8s.html" >Kubernetes</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/docker.html" >Docker</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/tarball.html" >Tarball</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/rpm.html" >RPM</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/verify.html" >Verify server</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/try/catalog.html" >Create a catalog</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('sepwebui');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Web UI&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="sepwebui" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/web-ui/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/web-ui/query-editor.html" >Query editor</a>
  </li>
  
  
</ul>



 
  
    
    
<li >
  <a href="/starburst-enterprise/sql.html" >SQL</a>
</li>
  



 





<li 
    onclick="toggle_navigation_visibility('admintasks');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Administration topics&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="admintasks" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/index.html" >Overview</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/catalogs.html" >Define catalogs</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/autoscaling.html" >Autoscaling</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/security.html" >Secure your cluster</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/performance-tuning.html" >Tune your cluster</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/admin-topics/cache-service.html" >Enable the cache service</a>
  </li>
  
  
</ul>



 





<li  class="active" 
    onclick="toggle_navigation_visibility('k8s');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Kubernetes&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="k8s" class="doc-subnav ">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/index.html" >Starburst Enterprise and Kubernetes</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/k8s-operation.html" >Cluster operation</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-sep.html" >Deploy Starburst Enterprise</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-hms.html" >Deploy Hive metastore</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/k8s/deploy-cache-service.html" >Deploy the cache service</a>
  </li>
  
  
  
    
    
    
  <li class="active"
      
    >
    <a href="/starburst-enterprise/k8s/deploy-ranger.html" >Deploy Ranger</a>
  </li>
  
  
</ul>



 





<li 
    onclick="toggle_navigation_visibility('starburst-admin');">
  <a style="box-sizing: border-box;padding-right: 10px;">
    Starburst Admin&nbsp;
    <i class="fa fa-angle-left nav-icon"></i>
  </a>
</li>

<ul id="starburst-admin" class="doc-subnav hidden">
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/index.html" >Get started</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/installation-guide.html" >Installation guide</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/operation-guides.html" >Operation guides</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/playbook-reference.html" >Playbook reference</a>
  </li>
  
  
  
    
    
    
  <li 
      
    >
    <a href="/starburst-enterprise/starburst-admin/release-notes.html" >Release notes</a>
  </li>
  
  
</ul>



<div style="padding-top: 3em;">
    <h6 class="overline product-nav-title">Resources</h6>
  </div>
  <hr />
  
   
  
    
    
<li >
  <a href="/support.html" >Support</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/security/index.html" >Security</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/blog/index.html" >Developer blog</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/videos/index.html" >Video library</a>
</li>
  


  
   
  
    
    
<li >
  <a href="/glossary.html" >Glossary</a>
</li>
  


  
   
  
    
    
<li >
  <a href="https://www.trinoforum.org/" >Trino Forum</a>
</li>
  


  
          
        </div>
      </div>
      <div class="col-md-9 col-lg-6 spacer-30 docs-content">
        



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/starburst-enterprise/"
        style="text-transform: uppercase"
      > starburst enterprise</a> >
    
  
    
      <a href="/starburst-enterprise/k8s/"
        style="text-transform: uppercase"
      > k8s</a> >
    
  
    
      Deploy Ranger with Kubernetes
    
  </p>
</div>

        <h1 id="deploy-ranger-with-kubernetes">
        
        
          Deploy Ranger with Kubernetes <a href="#deploy-ranger-with-kubernetes" class="titleAnchor">#</a>
        
        
      </h1>
    

<p>This topic covers deploying a minimally customized Ranger instance with the
Ranger Helm chart. Ranger optionally provides RBAC to SEP.</p>

<div class="alert alert-info" role="alert">
    <i class="fa fa-info-circle"></i>
    <b>Before you begin: </b>
  <br />
This topic assumes you are familiar with Ranger, as well as with Helm charts and
Kubernetes (k8s) tools such as <code class="language-plaintext highlighter-rouge">kubectl</code>. Ensure that you are familiar with the
following Starburst Enterprise Kubernetes topics before configuring and
deploying Ranger:<br /><br />
- <a href="./index.html#best-practices">Kubernetes best practices</a><br />
- <a href="../../latest/k8s/requirements.html">Kubernetes requirements</a>
</div>
      <h2 id="overview">
        
        
          Overview <a href="#overview" class="titleAnchor">#</a>
        
        
      </h2>
    

<p><a href="../../latest/security/global-ranger.html">Global access control</a> in
Starburst Enterprise platform (SEP) allows you to create, manage, and store access control
policies for objects that SEP has access to, including:</p>

<ul>
  <li>Catalogs</li>
  <li>Schemas</li>
  <li>Views</li>
  <li>Tables</li>
  <li>Columns</li>
  <li>Rows</li>
  <li>Procedures</li>
  <li>Session properties</li>
</ul>

<p>Ranger access control policies can grant or revoke access to any of the above
mentioned objects, and are stored in a backing PostgreSQL database.</p>

<p>Ranger is deployed via a separate Kubernetes (K8s) Helm chart. You can configure
multiple Starburst clusters to use the same Ranger instance. Once
deployed, Ranger is available within the cluster and can be accessed internally
using <code class="language-plaintext highlighter-rouge">http://ranger:6080</code>. External access is controlled via the DNS configured
for Ranger ingress.</p>
      <h2 id="configure-ranger">
        
        
          Configure Ranger <a href="#configure-ranger" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>There are several top-level nodes in the Ranger Helm chart that you must modify
for a minimum Ranger configuration:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">admin:</code></li>
  <li><code class="language-plaintext highlighter-rouge">usersync:</code></li>
  <li><code class="language-plaintext highlighter-rouge">database:</code></li>
</ul>

<p>If you are using TLS, this must also be considered. This section covers getting
started with these four configuration steps. Our <a href="../../latest/k8s/ranger-configuration.html">reference
documentation</a> provides details
about the content of the Ranger Helm chart, including yaml sections not
discussed here.</p>

<p>As with SEP, we <strong>strongly suggest</strong> that you initially deploy
Ranger with the minimum configuration described in this topic, and ensure that
it deploys and is accessible before making any additional customizations
described in our reference documentation.</p>

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  Store customizations in a separate file containing
only changed values as recommended in our best practices guide
<a href="./index.html#best-practices">(review)</a>. In this topic for example,
customizations are stored in a file named <code class="language-plaintext highlighter-rouge">ranger-values.yaml</code> that is used in the
Helm <code class="language-plaintext highlighter-rouge">upgrade</code> command.</div>
      <h3 id="before-you-begin">
        
        
          Before you begin <a href="#before-you-begin" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Get the latest <code class="language-plaintext highlighter-rouge">starburst-ranger</code> Helm chart as described in our <a href="../../latest/k8s/installation.html">installation
guide</a> with the <a href="../../latest/k8s/installation.html#create-this-one-file-before-you-begin">configured registry
access</a>.</p>
      <h3 id="configure-the-ranger-administration-container">
        
        
          Configure the Ranger administration container <a href="#configure-the-ranger-administration-container" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>The following values must be defined in the <code class="language-plaintext highlighter-rouge">admin:</code> node of the Ranger Helm
chart:</p>

<ul>
  <li><strong>CPU resources for requests and limits</strong> - The defaults are sufficient for most
environments; however, they must work with the instance type you are using.</li>
  <li><strong>Memory resources for requests and limits</strong> - The defaults are sufficient for
most environments; however, they must work with the instance type you are
using.</li>
  <li><strong>Passwords</strong> - You must supply <em>all</em> passwords in the <code class="language-plaintext highlighter-rouge">passwords:</code> node.</li>
</ul>

<p>You can read more about the <code class="language-plaintext highlighter-rouge">admin:</code> top-level node in our <a href="../../latest/k8s/ranger-configuration.html#ranger-server">reference
documentation</a>.</p>
      <h3 id="configure-usersync">
        
        
          Configure Usersync <a href="#configure-usersync" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>Usersync automates the process of adding users to Ranger for policy enforcement
by allowing the synchronization of users and groups from LDAP, including Active
Directory.</p>

<p>At a minimum, the <code class="language-plaintext highlighter-rouge">env:</code> properties in the top-level <code class="language-plaintext highlighter-rouge">usersync:</code> node must be
defined correctly for your environment. The following snippet uses example
values:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="na">env</span><span class="pi">:</span>
    <span class="c1"># Use RANGER__&lt;property_name&gt; variables to set Ranger install properties.</span>
    <span class="na">RANGER__SYNC_LDAP_URL</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ldap://ranger-ldap:389"</span>
    <span class="na">RANGER__SYNC_LDAP_BIND_DN</span><span class="pi">:</span> <span class="s2">"</span><span class="s">cn=admin,dc=ldap,dc=example,dc=org"</span>
    <span class="na">RANGER__SYNC_LDAP_BIND_PASSWORD</span><span class="pi">:</span> <span class="s2">"</span><span class="s">xx999xx999x"</span>
    <span class="na">RANGER__SYNC_LDAP_SEARCH_BASE</span><span class="pi">:</span> <span class="s2">"</span><span class="s">dc=ldap,dc=example,dc=org"</span>
    <span class="na">RANGER__SYNC_LDAP_USER_SEARCH_BASE</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ou=users,dc=ldap,dc=example,dc=org"</span>
    <span class="na">RANGER__SYNC_LDAP_USER_OBJECT_CLASS</span><span class="pi">:</span> <span class="s2">"</span><span class="s">person"</span>
    <span class="na">RANGER__SYNC_GROUP_SEARCH_ENABLED</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">RANGER__SYNC_GROUP_USER_MAP_SYNC_ENABLED</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
    <span class="na">RANGER__SYNC_GROUP_SEARCH_BASE</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ou=groups,dc=ldap,dc=example,dc=org"</span>
    <span class="na">RANGER__SYNC_GROUP_OBJECT_CLASS</span><span class="pi">:</span> <span class="s2">"</span><span class="s">groupOfNames"</span>
</code></pre></div></div>

<p>For all Ranger Helm chart usersync
properties, see our <a href="../../latest/k8s/ranger-configuration.html#ldap-user-synchronization-server">reference
documentation</a>.</p>
      <h3 id="configure-the-postgresql-backing-database">
        
        
          Configure the PostgreSQL backing database <a href="#configure-the-postgresql-backing-database" class="titleAnchor">#</a>
        
        
      </h3>
    

<p>The configuration properties for the PostgreSQL database which stores policy
information are found in the <code class="language-plaintext highlighter-rouge">database:</code> top-level node. As a minimal
customization, you must ensure that the following are set correctly for your
environment:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">database</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">internal"</span>
  <span class="na">internal</span><span class="pi">:</span>
    <span class="na">port</span><span class="pi">:</span> <span class="m">5432</span>
    <span class="na">databaseName</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ranger"</span>
    <span class="na">databaseUser</span><span class="pi">:</span> <span class="s2">"</span><span class="s">ranger"</span>
    <span class="na">databasePassword</span><span class="pi">:</span> <span class="s2">"</span><span class="s">RangerPass123"</span>
    <span class="na">databaseRootUser</span><span class="pi">:</span> <span class="s2">"</span><span class="s">rangeradmin"</span>
    <span class="na">databaseRootPassword</span><span class="pi">:</span> <span class="s2">"</span><span class="s">RangerAdminPass123"</span>
</code></pre></div></div>

<p>You may also configure <code class="language-plaintext highlighter-rouge">volume:</code> persistence and resources, as well as the
<code class="language-plaintext highlighter-rouge">resources:</code> for the backing database itself in the <code class="language-plaintext highlighter-rouge">database:</code> node. For a
complete list of available backing database properties, see our <a href="../../latest/k8s/ranger-configuration.html#internal-backing-database-server">reference
documentation</a>.</p>
      <h3 id="configure-tls-optional">
        
        
          Configure TLS (optional) <a href="#configure-tls-optional" class="titleAnchor">#</a>
        
        
      </h3>
    

<div class="alert alert-info" role="alert">
  <i class="fa fa-info-circle"></i>
  <b>Note: </b>
  This is separate from configuring TLS on SEP
itself.</div>

<p>If your organization uses TLS, you must enable and configure Ranger to work with
it. The most straightforward way to handle TLS is to terminate TLS at the load
balancer or ingress, using a signed certificate. We <strong>strongly suggest</strong> this
method, which method requires no additional configuration in Ranger. Ranger can
also be configured to <a href="https://cwiki.apache.org/confluence/display/RANGER/Index">listen on HTTPS
directly</a>.</p>

<p>If you choose not handle TLS using those methods, you can instead configure it
in the
<a href="../../latest/k8s/ranger-configuration.html#ldap-user-synchronization-server"><code class="language-plaintext highlighter-rouge">usersync:</code></a>
and
<a href="../../latest/k8s/ranger-configuration.html#exposing-the-cluster-to-outside-network"><code class="language-plaintext highlighter-rouge">expose:</code></a>
top-level nodes of the Ranger Helm chart. The following snippets show the
nodes of each of these sections:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">usersync</span><span class="pi">:</span>
    <span class="na">tls</span><span class="pi">:</span>
    <span class="c1"># optional truststore containing CA certificate for ldap server</span>
    <span class="na">truststore</span><span class="pi">:</span>
      <span class="c1"># existing secret containing truststore.jks key</span>
      <span class="na">secret</span><span class="pi">:</span>
      <span class="c1"># password to truststore</span>
      <span class="na">password</span><span class="pi">:</span>

<span class="na">expose</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[clusterIp|nodePort|loadBalancer|ingress]"</span>
</code></pre></div></div>

<p>You must refer to our reference documentation for <a href="../../latest/k8s/ranger-configuration.html#exposing-the-cluster-to-outside-network">full details on configuring
each of these
types</a>.
The default <code class="language-plaintext highlighter-rouge">expose:</code> type is <code class="language-plaintext highlighter-rouge">clusterIp</code>. However, this is not suitable for
production environments. If you need help choosing which type is best, refer to
the <a href="../../latest/k8s/sep-configuration.html#exposing-the-cluster"><code class="language-plaintext highlighter-rouge">expose:</code>
documentation</a>
for SEP.</p>
      <h2 id="deploy-ranger">
        
        
          Deploy Ranger <a href="#deploy-ranger" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>When Ranger is configured, run the following command to deploy it. In this
example, the minimal values YAML file  with the registry
credentials named <code class="language-plaintext highlighter-rouge">registry-access.yaml</code> is used along with the <code class="language-plaintext highlighter-rouge">ranger-values.yaml</code>
containing the Ranger customizations:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">$ helm upgrade ranger starburst/starburst-ranger \</span>
    <span class="s">--install \</span>
    <span class="s">--values ./registry-access.yaml \</span>
    <span class="s">--values ./ranger-values.yaml</span>
</code></pre></div></div>
      <h2 id="next-steps">
        
        
          Next steps <a href="#next-steps" class="titleAnchor">#</a>
        
        
      </h2>
    

<ul>
  <li>Read about <a href="../../latest/security/ranger-overview.html">SEP and Ranger</a></li>
  <li>Complete your <a href="../../latest/k8s/hms-configuration.html">Ranger configuration</a></li>
</ul>

        <div class="d-lg-none">
          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
      <div class="col-lg-3 toc-styles d-none d-lg-block">
        <div class="spacer-60 toc-sticky">
          <ul><li><a href="#deploy-ranger-with-kubernetes">Deploy Ranger with Kubernetes</a><ul><li><a href="#overview">Overview</a></li><li><a href="#configure-ranger">Configure Ranger</a><ul><li><a href="#before-you-begin">Before you begin</a></li><li><a href="#configure-the-ranger-administration-container">Configure the Ranger administration container</a></li><li><a href="#configure-usersync">Configure Usersync</a></li><li><a href="#configure-the-postgresql-backing-database">Configure the PostgreSQL backing database</a></li><li><a href="#configure-tls-optional">Configure TLS (optional)</a></li></ul></li><li><a href="#deploy-ranger">Deploy Ranger</a></li><li><a href="#next-steps">Next steps</a></li></ul></li></ul>

          <div class="feedback-container">
  <div class="feedback-thumbs">
    <p>Is the information on this page helpful?</p>
    <div class="thumb-wrapper">
      <p class="feedback-option" title="yes"><i class="fa fa-thumbs-up"></i>Yes</p>
      <p class="feedback-option" title="no"><i class="fa fa-thumbs-down"></i>No</p>
    </div>
  </div>
  <div class="feedback-message">
    <textarea class="feedback-body" placeholder="Additional feedback"></textarea>
    <button type="button" onclick="sendMessage()" class="btn btn-sm btn-primary">Submit</button>
    <a onclick="skip()" class="feedback-skip">Skip</a>
  </div>
</div>

<script>
function feedback() {
  var feedbackValue = "";
  var feedbackThumbs = document.querySelector(".feedback-thumbs");
  var feedbackMessage = document.querySelector(".feedback-message");
  var initialFeedbackMessageContents = feedbackMessage.innerHTML;
  var feedbackAnswer = localStorage.getItem('feedback-answer-' + window.location.pathname);
  var options = Array.from(document.querySelectorAll(".feedback-option"));

  if (feedbackAnswer) {
    Object.keys(options).map(i => options[i].getAttribute('title') == JSON.parse(feedbackAnswer)
      ? options[i].classList.add('active')
      : null
    );
  }

  var clickFunction = function(event){
    var page = window.location.pathname;
    var value = event.currentTarget.getAttribute('title');
    var eventValue = value == 'yes' ? 1 : 0;

    if(!event.currentTarget.classList.contains('active')) {
      localStorage.setItem('feedback-answer-' + page, JSON.stringify(value == 'yes' ? 'yes' : 'no'));
      feedbackValue = value;

      gtag('event', 'feedback', {
        'event_category': 'Docs Feedback',
        'event_label': page,
        'event_value': eventValue,
      });

      Object.keys(options).map(i => options[i].classList.remove('active'));
      event.currentTarget.classList.add('active');

      feedbackThumbs.style.display = "none";
      feedbackMessage.style.display = "flex";
    };
  };

  skip = function() {
    feedbackMessage.style.display = "none";
    feedbackThumbs.style.display = "flex";
    feedbackMessage.innerHTML = initialFeedbackMessageContents;
  }

  sendMessage = function(){
    var feedbackBody = document.querySelector(".feedback-body").value;

    if (feedbackBody) {
      var message = "Page url: " + window.location.pathname + "\n\n"
        + "Feedback positive?: " + feedbackValue + "\n\n" +  "Feedback Message: " + feedbackBody;
      var link = "mailto:docs-feedback@starburst.io?subject=" + encodeURIComponent("Feedback")+"&body="
        + encodeURIComponent(message);

      window.location.href = link;
      feedbackMessage.innerHTML = "<p>Thank you!</p>";

      setTimeout(function(){
          skip();
      }, 5000);
    } else {
      if(!document.querySelector("#feedback-skip")) {
        var alertMessage = document.createElement("p");
        alertMessage.id = "feedback-skip";
        alertMessage.style.color = "red";
        alertMessage.style.position = "absolute";
        alertMessage.style.bottom = "-0.5rem";
        alertMessage.innerHTML = "Please provide a message.";
        feedbackMessage.appendChild(alertMessage);

        setTimeout(function(){
          alertMessage.remove();
        }, 3000);
      }
    }
  }

  Object.keys(options).map(i => options[i].addEventListener('click', clickFunction , false));
}

feedback();
</script>

        </div>
      </div>
  </div>
  
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="/videos/index.html">Video library</a></li>
          <li class="footer-item"><a href="/glossary.html">Glossary</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/info/oreilly-trino-guide/" target="_blank">Free O'Reilly book - Trino: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://trino.io/broadcast/" target="_blank">Trino Community Broadcast</a></li>
          <li class="footer-item"><a href="https://trinoforum.org" target="_blank">Trino Forum</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-3">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburst.io" target="_blank">Starburst</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/#download" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="/support.html" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburst.io/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-3" style="text-align:right;">
        <a href="https://www.starburst.io/" target="_blank"><img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst" style="margin-bottom:20px;"></a>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright Â© 2017-2022<br> Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
  <script type="text/javascript" src="/assets/js/custom.js"></script>
  <script type="text/javascript" src="/assets/js/algolia.js"></script>
  <script type="text/javascript" src="/assets/js/search-box.js"></script>
  <script type="text/javascript" src="/assets/js/search-results.js"></script>
</body>
</html>

